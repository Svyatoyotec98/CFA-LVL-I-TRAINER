{
  "formulas": [
    {
      "id": "QM-TVM-001",
      "name_en": "Nominal Risk-free Rate",
      "name_ru": "Номинальная безрисковая ставка",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "(1 + R_{nominal}) = (1 + R_{real})(1 + \\pi)",
      "description": "The nominal risk-free rate incorporates both the real risk-free rate and expected inflation.",
      "description_ru": "Номинальная безрисковая ставка включает реальную безрисковую ставку и ожидаемую инфляцию.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Перемножение: (1 + Real rate) × (1 + Inflation) - 1",
      "variables": [
        {
          "symbol": "R_{nominal}",
          "name": "R nominal",
          "description": "Nominal risk-free rate / Номинальная безрисковая ставка"
        },
        {
          "symbol": "R_{real}",
          "name": "R real",
          "description": "Real risk-free rate / Реальная безрисковая ставка"
        },
        {
          "symbol": "\\pi",
          "name": "pi",
          "description": "Inflation premium / Инфляционная премия"
        }
      ],
      "example": "Real rate=3%, Inflation=2%: (1.03)(1.02)-1 = 5.06%"
    },
    {
      "id": "QM-TVM-002",
      "name_en": "Nominal Risk-free Rate (Approximation)",
      "name_ru": "Номинальная безрисковая ставка (приближение)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "R_{nominal} \\approx R_{real} + \\pi",
      "description": "Linear approximation of the nominal risk-free rate, valid when rates are small.",
      "description_ru": "Линейное приближение номинальной безрисковой ставки, применимо при низких ставках.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Простое сложение: Real rate + Inflation",
      "variables": [
        {
          "symbol": "R_{nominal}",
          "name": "R nominal",
          "description": "Nominal risk-free rate / Номинальная безрисковая ставка"
        },
        {
          "symbol": "R_{real}",
          "name": "R real",
          "description": "Real risk-free rate / Реальная безрисковая ставка"
        },
        {
          "symbol": "\\pi",
          "name": "pi",
          "description": "Inflation premium / Инфляционная премия"
        }
      ],
      "example": "Real rate=3%, Inflation=2%: ≈ 3% + 2% = 5%"
    },
    {
      "id": "QM-TVM-003",
      "name_en": "Holding Period Return (HPR)",
      "name_ru": "Доходность за период владения",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "R = \\frac{(P_1 - P_0) + I_1}{P_0}",
      "description": "The total return earned from holding an asset over a single period, including price change and income.",
      "description_ru": "Общая доходность от владения активом за один период, включая изменение цены и доход.",
      "calculator_category": "complex",
      "calculator_template": "DIRECT_HPR",
      "variables": [
        {
          "symbol": "R",
          "name": "R",
          "description": "Holding period return / Доходность за период владения"
        },
        {
          "symbol": "P_0",
          "name": "P sub 0",
          "description": "Price at time 0 / Цена в момент времени 0"
        },
        {
          "symbol": "P_1",
          "name": "P sub 1",
          "description": "Price at time 1 / Цена в момент времени 1"
        },
        {
          "symbol": "I_1",
          "name": "I sub 1",
          "description": "Interest/Income earned during period / Доход, полученный за период"
        }
      ],
      "example": "P0=$50, P1=$56, I1=$2: R = (56-50+2)/50 = 0.16 = 16%"
    },
    {
      "id": "QM-TVM-004",
      "name_en": "Geometric Mean Return",
      "name_ru": "Среднее геометрическое доходности",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "\\bar{R}_G = \\sqrt[T]{\\prod_{t=1}^{T}(1 + R_t)} - 1",
      "description": "The geometric mean return accounts for compounding and is used to calculate average growth rates over multiple periods.",
      "description_ru": "Среднее геометрическое учитывает сложный процент и используется для расчета средних темпов роста за несколько периодов.",
      "calculator_category": "complex",
      "calculator_template": "DIRECT_geometric_mean",
      "variables": [
        {
          "symbol": "\\bar{R}_G",
          "name": "R-bar G",
          "description": "Geometric mean return / Среднее геометрическое доходности"
        },
        {
          "symbol": "R_t",
          "name": "R sub t",
          "description": "Return in period t / Доходность в периоде t"
        },
        {
          "symbol": "T",
          "name": "T",
          "description": "Total number of periods / Общее количество периодов"
        }
      ],
      "example": "Returns: 10%, 5%, -3% → (1.10×1.05×0.97)^(1/3) - 1 = 3.85%"
    },
    {
      "id": "QM-TVM-005",
      "name_en": "Harmonic Mean",
      "name_ru": "Среднее гармоническое",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "\\bar{X}_H = \\frac{n}{\\sum_{i=1}^{n} \\frac{1}{X_i}}",
      "description": "The harmonic mean is used for averaging ratios or rates, such as P/E ratios or cost averaging.",
      "description_ru": "Среднее гармоническое используется для усреднения коэффициентов или ставок, например P/E или при усреднении стоимости.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "n ÷ (Σ 1/Xi) — требует пошагового расчёта",
      "variables": [
        {
          "symbol": "\\bar{X}_H",
          "name": "X-bar H",
          "description": "Harmonic mean / Среднее гармоническое"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observations (must be > 0) / Отдельные наблюдения (должны быть > 0)"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observed values / Количество наблюдений"
        }
      ],
      "example": "P/E ratios: 10, 20, 30 → H = 3/(1/10+1/20+1/30) = 3/0.183 = 16.36"
    },
    {
      "id": "QM-TVM-006",
      "name_en": "Present Value (PV)",
      "name_ru": "Приведённая стоимость",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV = FV_N \\left(1 + \\frac{R_s}{m}\\right)^{-mN}",
      "description": "The current value of a future sum of money, discounted at a specified rate of return.",
      "description_ru": "Текущая стоимость будущей суммы денег, дисконтированная по заданной ставке доходности.",
      "calculator_category": "worksheet",
      "calculator_template": "TVM_PV",
      "variables": [
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present Value / Приведённая стоимость"
        },
        {
          "symbol": "FV_N",
          "name": "FV sub N",
          "description": "Future Value at period N / Будущая стоимость в периоде N"
        },
        {
          "symbol": "R_s",
          "name": "R sub s",
          "description": "Stated annual interest rate / Заявленная годовая процентная ставка"
        },
        {
          "symbol": "m",
          "name": "m",
          "description": "Number of compounding periods per year / Количество периодов начисления в год"
        },
        {
          "symbol": "N",
          "name": "N",
          "description": "Number of years / Количество лет"
        }
      ],
      "example": "FV=$10,000, Rs=6%, m=2, N=5: PV = 10000×(1.03)^(-10) = $7,440.94"
    },
    {
      "id": "QM-TVM-007",
      "name_en": "Future Value (FV)",
      "name_ru": "Будущая стоимость",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "FV_t = PV(1 + r)^t",
      "description": "The value of a current sum of money at a specified future date, given a rate of return.",
      "description_ru": "Стоимость текущей суммы денег на указанную будущую дату при заданной ставке доходности.",
      "calculator_category": "worksheet",
      "calculator_template": "TVM_FV",
      "variables": [
        {
          "symbol": "FV_t",
          "name": "FV sub t",
          "description": "Future Value at time t / Будущая стоимость в момент t"
        },
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present Value / Приведённая стоимость"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Interest rate per period / Процентная ставка за период"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Number of periods / Количество периодов"
        }
      ],
      "example": "PV=$1,000, r=5%, t=3: FV = 1000×(1.05)³ = $1,157.63"
    },
    {
      "id": "QM-TVM-008",
      "name_en": "Future Value (Continuous Compounding)",
      "name_ru": "Будущая стоимость (непрерывное начисление)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "FV_t = PV \\cdot e^{rt}",
      "description": "Future value when interest is compounded continuously.",
      "description_ru": "Будущая стоимость при непрерывном начислении процентов.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "PV × [2ND] [eˣ] (r×t) = FV",
      "variables": [
        {
          "symbol": "FV_t",
          "name": "FV sub t",
          "description": "Future Value at time t / Будущая стоимость в момент t"
        },
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present Value / Приведённая стоимость"
        },
        {
          "symbol": "e",
          "name": "e",
          "description": "Euler's number (≈2.71828) / Число Эйлера"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Stated annual rate / Заявленная годовая ставка"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Time in years / Время в годах"
        }
      ],
      "example": "PV=$1,000, r=5%, t=3: FV = 1000×e^(0.05×3) = 1000×e^0.15 = $1,161.83"
    },
    {
      "id": "QM-TVM-009",
      "name_en": "Present Value (Continuous Compounding)",
      "name_ru": "Приведённая стоимость (непрерывное начисление)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV = FV_t \\cdot e^{-rt}",
      "description": "Present value when discounting continuously.",
      "description_ru": "Приведённая стоимость при непрерывном дисконтировании.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "FV × [2ND] [eˣ] (-r×t) = PV",
      "variables": [
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present Value / Приведённая стоимость"
        },
        {
          "symbol": "FV_t",
          "name": "FV sub t",
          "description": "Future Value at time t / Будущая стоимость в момент t"
        },
        {
          "symbol": "e",
          "name": "e",
          "description": "Euler's number (≈2.71828) / Число Эйлера"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Stated annual rate / Заявленная годовая ставка"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Time in years / Время в годах"
        }
      ],
      "example": "FV=$1,000, r=5%, t=3: PV = 1000×e^(-0.15) = $860.71"
    },
    {
      "id": "QM-TVM-010",
      "name_en": "Annualizing Returns",
      "name_ru": "Приведение доходности к годовой",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "R_{annual} = (1 + R_{period})^c - 1",
      "description": "Converts a periodic return to an annual return by compounding.",
      "description_ru": "Преобразует периодическую доходность в годовую путём сложного процента.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "(1 + Rperiod) [yˣ] c [-] 1 [=]",
      "variables": [
        {
          "symbol": "R_{annual}",
          "name": "R annual",
          "description": "Annualized return / Годовая доходность"
        },
        {
          "symbol": "R_{period}",
          "name": "R period",
          "description": "Return for a period less than a year / Доходность за период менее года"
        },
        {
          "symbol": "c",
          "name": "c",
          "description": "Number of periods in a year / Количество периодов в году"
        }
      ],
      "example": "Monthly return 1%: R_annual = (1.01)^12 - 1 = 12.68%"
    },
    {
      "id": "QM-TVM-011",
      "name_en": "Continuously Compounded Return",
      "name_ru": "Непрерывно начисляемая доходность",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "r_{0,T} = \\ln\\left(\\frac{P_T}{P_0}\\right)",
      "description": "The continuously compounded return between two time periods.",
      "description_ru": "Непрерывно начисляемая доходность между двумя периодами времени.",
      "calculator_category": "complex",
      "calculator_template": "DIRECT_continuous_return",
      "variables": [
        {
          "symbol": "r_{0,T}",
          "name": "r sub 0,T",
          "description": "Continuously compounded return / Непрерывно начисляемая доходность"
        },
        {
          "symbol": "P_0",
          "name": "P sub 0",
          "description": "Price at time 0 / Цена в момент времени 0"
        },
        {
          "symbol": "P_T",
          "name": "P sub T",
          "description": "Price at time T / Цена в момент времени T"
        }
      ],
      "example": "P0=$50, PT=$56: r = ln(56/50) = ln(1.12) = 11.33%"
    },
    {
      "id": "QM-TVM-012",
      "name_en": "Real Return",
      "name_ru": "Реальная доходность",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "(1 + R_{real}) = \\frac{(1 + R_{rf})(1 + RP)}{(1 + \\pi)}",
      "description": "The real return adjusts nominal return for inflation.",
      "description_ru": "Реальная доходность корректирует номинальную доходность с учётом инфляции.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "((1+Rrf)×(1+RP))÷(1+π) - 1",
      "variables": [
        {
          "symbol": "R_{real}",
          "name": "R real",
          "description": "Real return / Реальная доходность"
        },
        {
          "symbol": "R_{rf}",
          "name": "R sub rf",
          "description": "Real risk-free rate / Реальная безрисковая ставка"
        },
        {
          "symbol": "RP",
          "name": "RP",
          "description": "Risk premium / Премия за риск"
        },
        {
          "symbol": "\\pi",
          "name": "pi",
          "description": "Inflation premium / Инфляционная премия"
        }
      ],
      "example": "Rrf=2%, RP=5%, π=3%: (1.02×1.05)/(1.03) - 1 = 3.88%"
    },
    {
      "id": "QM-TVM-013",
      "name_en": "Internal Rate of Return (IRR)",
      "name_ru": "Внутренняя норма доходности (IRR)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "\\sum_{t=0}^{T} \\frac{CF_t}{(1 + IRR)^t} = 0",
      "description": "The discount rate that makes the net present value of all cash flows equal to zero.",
      "description_ru": "Ставка дисконтирования, при которой чистая приведённая стоимость всех денежных потоков равна нулю.",
      "calculator_category": "worksheet",
      "calculator_template": "CF_IRR",
      "variables": [
        {
          "symbol": "CF_t",
          "name": "CF sub t",
          "description": "Cash flow at period t / Денежный поток в периоде t"
        },
        {
          "symbol": "IRR",
          "name": "IRR",
          "description": "Internal Rate of Return / Внутренняя норма доходности"
        },
        {
          "symbol": "T",
          "name": "T",
          "description": "Number of periods / Количество периодов"
        }
      ],
      "example": "CF0=-1000, CF1=300, CF2=400, CF3=500 → IRR = 12.53%"
    },
    {
      "id": "QM-TVM-014",
      "name_en": "Return on Leveraged Portfolio",
      "name_ru": "Доходность портфеля с левериджем",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "R_L = R_P + \\frac{V_B}{V_E}(R_P - r_D)",
      "description": "The return on a portfolio that uses borrowed funds (leverage).",
      "description_ru": "Доходность портфеля, использующего заёмные средства (леверидж).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Rp + (VB÷VE) × (Rp - rD)",
      "variables": [
        {
          "symbol": "R_L",
          "name": "R sub L",
          "description": "Return on leveraged portfolio / Доходность портфеля с левериджем"
        },
        {
          "symbol": "R_P",
          "name": "R sub P",
          "description": "Total return on portfolio / Общая доходность портфеля"
        },
        {
          "symbol": "V_E",
          "name": "V sub E",
          "description": "Equity of the portfolio / Собственный капитал портфеля"
        },
        {
          "symbol": "V_B",
          "name": "V sub B",
          "description": "Borrowed funds / Заёмные средства"
        },
        {
          "symbol": "r_D",
          "name": "r sub D",
          "description": "Cost of debt / Стоимость заёмного капитала"
        }
      ],
      "example": "Rp=10%, VE=$50k, VB=$50k, rD=4%: RL = 10% + (50/50)×(10%-4%) = 16%"
    },
    {
      "id": "QM-TVM-015",
      "name_en": "PV of Discount Bond",
      "name_ru": "Приведённая стоимость дисконтной облигации",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV = FV_t(1 + r)^{-t}",
      "description": "Present value of a zero-coupon (discount) bond.",
      "description_ru": "Приведённая стоимость бескупонной (дисконтной) облигации.",
      "calculator_category": "worksheet",
      "calculator_template": "TVM_PV",
      "variables": [
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Price paid / Уплаченная цена"
        },
        {
          "symbol": "FV_t",
          "name": "FV sub t",
          "description": "Face value received at maturity / Номинал, получаемый при погашении"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Discount rate / Ставка дисконтирования"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Time to maturity / Время до погашения"
        }
      ],
      "example": "FV=$1,000, r=5%, t=10: PV = 1000×(1.05)^(-10) = $613.91"
    },
    {
      "id": "QM-TVM-016",
      "name_en": "PV of Coupon Bond",
      "name_ru": "Приведённая стоимость купонной облигации",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV = \\frac{PMT}{(1+r)^1} + \\frac{PMT}{(1+r)^2} + \\cdots + \\frac{PMT + FV_N}{(1+r)^N}",
      "description": "Present value of a bond with periodic coupon payments.",
      "description_ru": "Приведённая стоимость облигации с периодическими купонными выплатами.",
      "calculator_category": "worksheet",
      "calculator_template": "BOND_price",
      "variables": [
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Bond price / Цена облигации"
        },
        {
          "symbol": "PMT",
          "name": "PMT",
          "description": "Coupon payment / Купонный платёж"
        },
        {
          "symbol": "FV_N",
          "name": "FV sub N",
          "description": "Face value at maturity / Номинал при погашении"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Market discount rate (YTM) / Рыночная ставка дисконтирования (YTM)"
        },
        {
          "symbol": "N",
          "name": "N",
          "description": "Number of periods / Количество периодов"
        }
      ],
      "example": "PMT=$50, FV=$1000, r=6%, N=10: PV = $926.40"
    },
    {
      "id": "QM-TVM-017",
      "name_en": "PV of Perpetual Bond (Perpetuity)",
      "name_ru": "Приведённая стоимость бессрочной облигации (перпетуитет)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV = \\frac{PMT}{r}",
      "description": "Present value of a perpetual stream of equal payments.",
      "description_ru": "Приведённая стоимость бесконечного потока равных платежей.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Простое деление: PMT ÷ r",
      "variables": [
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present value of perpetuity / Приведённая стоимость перпетуитета"
        },
        {
          "symbol": "PMT",
          "name": "PMT",
          "description": "Periodic payment / Периодический платёж"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Discount rate / Ставка дисконтирования"
        }
      ],
      "example": "PMT=$100/year, r=5%: PV = 100/0.05 = $2,000"
    },
    {
      "id": "QM-TVM-018",
      "name_en": "Future Value of Ordinary Annuity",
      "name_ru": "Будущая стоимость обычного аннуитета",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "FV_N = A \\left[\\frac{(1+r)^N - 1}{r}\\right]",
      "description": "Future value of a series of equal payments made at the end of each period.",
      "description_ru": "Будущая стоимость серии равных платежей, производимых в конце каждого периода.",
      "calculator_category": "worksheet",
      "calculator_template": "TVM_FV",
      "variables": [
        {
          "symbol": "FV_N",
          "name": "FV sub N",
          "description": "Future value of annuity / Будущая стоимость аннуитета"
        },
        {
          "symbol": "A",
          "name": "A",
          "description": "Annuity payment amount / Сумма аннуитетного платежа"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Interest rate per period / Процентная ставка за период"
        },
        {
          "symbol": "N",
          "name": "N",
          "description": "Number of periods / Количество периодов"
        }
      ],
      "example": "A=$100/month, r=0.5%/month, N=24: FV = 100×[(1.005)^24-1]/0.005 = $2,540.98"
    },
    {
      "id": "QM-TVM-019",
      "name_en": "Present Value of Ordinary Annuity",
      "name_ru": "Приведённая стоимость обычного аннуитета",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV = A \\left[\\frac{1 - (1+r)^{-N}}{r}\\right]",
      "description": "Present value of a series of equal payments made at the end of each period.",
      "description_ru": "Приведённая стоимость серии равных платежей, производимых в конце каждого периода.",
      "calculator_category": "worksheet",
      "calculator_template": "TVM_PV",
      "variables": [
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present value of annuity / Приведённая стоимость аннуитета"
        },
        {
          "symbol": "A",
          "name": "A",
          "description": "Annuity payment amount / Сумма аннуитетного платежа"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Interest rate per period / Процентная ставка за период"
        },
        {
          "symbol": "N",
          "name": "N",
          "description": "Number of periods / Количество периодов"
        }
      ],
      "example": "A=$1000/year, r=8%, N=5: PV = 1000×[1-(1.08)^(-5)]/0.08 = $3,992.71"
    },
    {
      "id": "QM-TVM-020",
      "name_en": "Annuity Payment (PMT)",
      "name_ru": "Аннуитетный платёж (PMT)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "A = \\frac{r \\cdot PV}{1 - (1+r)^{-t}}",
      "description": "Calculates the periodic payment required to pay off a loan or reach a future value.",
      "description_ru": "Рассчитывает периодический платёж, необходимый для погашения кредита или достижения будущей стоимости.",
      "calculator_category": "worksheet",
      "calculator_template": "TVM_PMT",
      "variables": [
        {
          "symbol": "A",
          "name": "A",
          "description": "Annuity payment / Аннуитетный платёж"
        },
        {
          "symbol": "PV",
          "name": "PV",
          "description": "Present value / Приведённая стоимость (сумма кредита)"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Interest rate per period / Процентная ставка за период"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Number of payment periods / Количество периодов платежей"
        }
      ],
      "example": "Loan $100,000, r=0.5%/month, t=360 months (30 yrs): PMT = $599.55/month"
    },
    {
      "id": "QM-TVM-021",
      "name_en": "Price of Preferred Stock (Constant Dividend)",
      "name_ru": "Цена привилегированной акции (постоянный дивиденд)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV_t = \\frac{D_t}{r}",
      "description": "The price of a preferred stock paying a constant dividend in perpetuity.",
      "description_ru": "Цена привилегированной акции, выплачивающей постоянный дивиденд бессрочно.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Простое деление: D ÷ r",
      "variables": [
        {
          "symbol": "PV_t",
          "name": "PV sub t",
          "description": "Present value (stock price) / Приведённая стоимость (цена акции)"
        },
        {
          "symbol": "D_t",
          "name": "D sub t",
          "description": "Dividend payment / Дивидендный платёж"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Required rate of return / Требуемая ставка доходности"
        }
      ],
      "example": "D=$5/year, r=8%: Price = 5/0.08 = $62.50"
    },
    {
      "id": "QM-TVM-022",
      "name_en": "Gordon Growth Model (DDM)",
      "name_ru": "Модель Гордона (DDM)",
      "book_id": 1,
      "category": "Time Value of Money",
      "formula": "PV_t = \\frac{D_{t+1}}{r - g}, \\quad \\text{where } (r - g) > 0",
      "description": "The price of a stock with dividends growing at a constant rate in perpetuity.",
      "description_ru": "Цена акции с дивидендами, растущими с постоянным темпом бессрочно.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "D₁ ÷ (r - g)",
      "variables": [
        {
          "symbol": "PV_t",
          "name": "PV sub t",
          "description": "Present value (stock price) / Приведённая стоимость (цена акции)"
        },
        {
          "symbol": "D_{t+1}",
          "name": "D sub t+1",
          "description": "Expected dividend next period / Ожидаемый дивиденд в следующем периоде"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Required rate of return / Требуемая ставка доходности"
        },
        {
          "symbol": "g",
          "name": "g",
          "description": "Constant growth rate / Постоянный темп роста"
        }
      ],
      "example": "D1=$2, r=10%, g=3%: PV = 2/(0.10-0.03) = $28.57"
    },
    {
      "id": "QM-STAT-001",
      "name_en": "Sample Mean",
      "name_ru": "Выборочное среднее",
      "book_id": 1,
      "category": "Statistics",
      "formula": "\\bar{X} = \\frac{\\sum_{i=1}^{n} X_i}{n}",
      "description": "The arithmetic mean of a sample, calculated as the sum of all observations divided by the number of observations.",
      "description_ru": "Среднее арифметическое выборки, рассчитанное как сумма всех наблюдений, делённая на их количество.",
      "calculator_category": "worksheet",
      "calculator_template": "STAT_mean",
      "variables": [
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        }
      ],
      "example": "Data: {2, 4, 6, 8} → Mean = (2+4+6+8)/4 = 5"
    },
    {
      "id": "QM-STAT-002",
      "name_en": "Median (Odd Sample)",
      "name_ru": "Медиана (нечётная выборка)",
      "book_id": 1,
      "category": "Statistics",
      "formula": "\\text{Median position} = \\frac{n + 1}{2}",
      "description": "For an odd-numbered sample, the median is the middle value when observations are sorted.",
      "description_ru": "Для выборки с нечётным числом наблюдений медиана — это среднее значение при сортировке.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Отсортируй данные, найди позицию (n+1)/2",
      "variables": [
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        }
      ],
      "example": "Data: {3, 1, 5, 2, 4} → Sorted: {1,2,3,4,5} → Median = 3 (position 3)"
    },
    {
      "id": "QM-STAT-003",
      "name_en": "Median (Even Sample)",
      "name_ru": "Медиана (чётная выборка)",
      "book_id": 1,
      "category": "Statistics",
      "formula": "\\text{Median} = \\frac{X_{n/2} + X_{(n+2)/2}}{2}",
      "description": "For an even-numbered sample, the median is the average of the two middle values.",
      "description_ru": "Для выборки с чётным числом наблюдений медиана — это среднее двух средних значений.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Отсортируй данные, усредни два средних значения",
      "variables": [
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        }
      ],
      "example": "Data: {1, 2, 3, 4} → Median = (2+3)/2 = 2.5"
    },
    {
      "id": "QM-STAT-004",
      "name_en": "Interquartile Range (IQR)",
      "name_ru": "Межквартильный размах (IQR)",
      "book_id": 1,
      "category": "Statistics",
      "formula": "IQR = Q_3 - Q_1",
      "description": "The range between the first and third quartiles, representing the middle 50% of data.",
      "description_ru": "Разница между третьим и первым квартилями, представляющая средние 50% данных.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Q3 - Q1",
      "variables": [
        {
          "symbol": "Q_1",
          "name": "Q sub 1",
          "description": "First quartile (25th percentile) / Первый квартиль (25-й перцентиль)"
        },
        {
          "symbol": "Q_3",
          "name": "Q sub 3",
          "description": "Third quartile (75th percentile) / Третий квартиль (75-й перцентиль)"
        }
      ],
      "example": "Q1=25, Q3=75: IQR = 75-25 = 50"
    },
    {
      "id": "QM-STAT-005",
      "name_en": "Percentile Position",
      "name_ru": "Позиция перцентиля",
      "book_id": 1,
      "category": "Statistics",
      "formula": "L_y = (n + 1) \\times \\frac{y}{100}",
      "description": "The position of a given percentile in a sorted dataset.",
      "description_ru": "Позиция заданного перцентиля в отсортированном наборе данных.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(n + 1) × (y / 100)",
      "variables": [
        {
          "symbol": "L_y",
          "name": "L sub y",
          "description": "Position of percentile / Позиция перцентиля"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        },
        {
          "symbol": "y",
          "name": "y",
          "description": "Percentile (e.g., 25, 50, 75) / Перцентиль (например, 25, 50, 75)"
        }
      ],
      "example": "n=20, find 75th percentile: L = 21 × 0.75 = 15.75"
    },
    {
      "id": "QM-STAT-006",
      "name_en": "Range",
      "name_ru": "Размах",
      "book_id": 1,
      "category": "Statistics",
      "formula": "\\text{Range} = X_{max} - X_{min}",
      "description": "The difference between the maximum and minimum values in a dataset.",
      "description_ru": "Разница между максимальным и минимальным значениями в наборе данных.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Max - Min",
      "variables": [
        {
          "symbol": "X_{max}",
          "name": "X max",
          "description": "Maximum value / Максимальное значение"
        },
        {
          "symbol": "X_{min}",
          "name": "X min",
          "description": "Minimum value / Минимальное значение"
        }
      ],
      "example": "Data: {3, 7, 2, 9, 5} → Range = 9-2 = 7"
    },
    {
      "id": "QM-STAT-007",
      "name_en": "Mean Absolute Deviation (MAD)",
      "name_ru": "Среднее абсолютное отклонение (MAD)",
      "book_id": 1,
      "category": "Statistics",
      "formula": "MAD = \\frac{\\sum_{i=1}^{n} |X_i - \\bar{X}|}{n}",
      "description": "The average of the absolute deviations from the mean.",
      "description_ru": "Среднее абсолютных отклонений от среднего значения.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Σ|Xi - X̄| ÷ n — требует пошагового расчёта",
      "variables": [
        {
          "symbol": "MAD",
          "name": "MAD",
          "description": "Mean Absolute Deviation / Среднее абсолютное отклонение"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        }
      ],
      "example": "Data: {2,4,6,8}, Mean=5: MAD = (|2-5|+|4-5|+|6-5|+|8-5|)/4 = 2"
    },
    {
      "id": "QM-STAT-008",
      "name_en": "Population Variance",
      "name_ru": "Дисперсия генеральной совокупности",
      "book_id": 1,
      "category": "Statistics",
      "formula": "\\sigma^2 = \\frac{\\sum_{i=1}^{N} (X_i - \\mu)^2}{N}",
      "description": "The average of squared deviations from the population mean.",
      "description_ru": "Среднее квадратов отклонений от среднего генеральной совокупности.",
      "calculator_category": "worksheet",
      "calculator_template": "STAT_variance",
      "variables": [
        {
          "symbol": "\\sigma^2",
          "name": "sigma squared",
          "description": "Population variance / Дисперсия генеральной совокупности"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\mu",
          "name": "mu",
          "description": "Population mean / Среднее генеральной совокупности"
        },
        {
          "symbol": "N",
          "name": "N",
          "description": "Population size / Размер генеральной совокупности"
        }
      ],
      "example": "Population: {2,4,6,8}, μ=5: σ² = [(2-5)²+(4-5)²+(6-5)²+(8-5)²]/4 = 5"
    },
    {
      "id": "QM-STAT-009",
      "name_en": "Sample Variance",
      "name_ru": "Выборочная дисперсия",
      "book_id": 1,
      "category": "Statistics",
      "formula": "s^2 = \\frac{\\sum_{i=1}^{n} (X_i - \\bar{X})^2}{n - 1}",
      "description": "The average of squared deviations from the sample mean, using n-1 for unbiased estimation.",
      "description_ru": "Среднее квадратов отклонений от выборочного среднего, с использованием n-1 для несмещённой оценки.",
      "calculator_category": "worksheet",
      "calculator_template": "STAT_variance",
      "variables": [
        {
          "symbol": "s^2",
          "name": "s squared",
          "description": "Sample variance / Выборочная дисперсия"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "Sample: {2,4,6,8}, X̄=5: s² = [(2-5)²+(4-5)²+(6-5)²+(8-5)²]/3 = 6.67"
    },
    {
      "id": "QM-STAT-010",
      "name_en": "Sample Standard Deviation",
      "name_ru": "Выборочное стандартное отклонение",
      "book_id": 1,
      "category": "Statistics",
      "formula": "s = \\sqrt{\\frac{\\sum_{i=1}^{n} (X_i - \\bar{X})^2}{n - 1}}",
      "description": "The square root of sample variance, measuring dispersion in the same units as the data.",
      "description_ru": "Квадратный корень из выборочной дисперсии, измеряющий разброс в тех же единицах, что и данные.",
      "calculator_category": "worksheet",
      "calculator_template": "STAT_std_dev",
      "variables": [
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "Sample: {2,4,6,8}, s²=6.67: s = √6.67 = 2.58"
    },
    {
      "id": "QM-STAT-011",
      "name_en": "Target Semideviation",
      "name_ru": "Целевое полуотклонение",
      "book_id": 1,
      "category": "Statistics",
      "formula": "s_{Target} = \\sqrt{\\frac{\\sum_{X_i \\leq B}^{n} (X_i - B)^2}{n - 1}}",
      "description": "Measures downside risk by calculating deviation only for observations below a target value.",
      "description_ru": "Измеряет риск снижения, рассчитывая отклонение только для наблюдений ниже целевого значения.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Только для Xi ≤ B: √[Σ(Xi-B)² ÷ (n-1)]",
      "variables": [
        {
          "symbol": "s_{Target}",
          "name": "s Target",
          "description": "Target semideviation / Целевое полуотклонение"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "B",
          "name": "B",
          "description": "Target value / Целевое значение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations below target / Количество наблюдений ниже цели"
        }
      ],
      "example": "Returns: {-5%, 2%, -3%, 8%}, Target=0%: Use only -5%, -3%"
    },
    {
      "id": "QM-STAT-012",
      "name_en": "Coefficient of Variation (CV)",
      "name_ru": "Коэффициент вариации (CV)",
      "book_id": 1,
      "category": "Statistics",
      "formula": "CV = \\frac{s}{\\bar{X}}",
      "description": "A standardized measure of dispersion, expressing standard deviation as a percentage of the mean.",
      "description_ru": "Стандартизированная мера разброса, выражающая стандартное отклонение как процент от среднего.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "s ÷ X̄",
      "variables": [
        {
          "symbol": "CV",
          "name": "CV",
          "description": "Coefficient of Variation / Коэффициент вариации"
        },
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        }
      ],
      "example": "s=5, X̄=25: CV = 5/25 = 0.20 = 20%"
    },
    {
      "id": "QM-STAT-013",
      "name_en": "Sample Covariance",
      "name_ru": "Выборочная ковариация",
      "book_id": 1,
      "category": "Statistics",
      "formula": "s_{XY} = \\frac{\\sum_{i=1}^{n} (X_i - \\bar{X})(Y_i - \\bar{Y})}{n - 1}",
      "description": "Measures the joint variability of two random variables.",
      "description_ru": "Измеряет совместную изменчивость двух случайных величин.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Σ(Xi-X̄)(Yi-Ȳ) ÷ (n-1) — требует пошагового расчёта",
      "variables": [
        {
          "symbol": "s_{XY}",
          "name": "s sub XY",
          "description": "Sample covariance / Выборочная ковариация"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual X observation / Отдельное наблюдение X"
        },
        {
          "symbol": "Y_i",
          "name": "Y sub i",
          "description": "Individual Y observation / Отдельное наблюдение Y"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean of X / Выборочное среднее X"
        },
        {
          "symbol": "\\bar{Y}",
          "name": "Y-bar",
          "description": "Sample mean of Y / Выборочное среднее Y"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "Positive covariance = X and Y move together"
    },
    {
      "id": "QM-STAT-014",
      "name_en": "Sample Correlation Coefficient",
      "name_ru": "Выборочный коэффициент корреляции",
      "book_id": 1,
      "category": "Statistics",
      "formula": "r_{XY} = \\frac{s_{XY}}{s_X \\times s_Y}",
      "description": "A standardized measure of the linear relationship between two variables, ranging from -1 to +1.",
      "description_ru": "Стандартизированная мера линейной связи между двумя переменными, от -1 до +1.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Cov(X,Y) ÷ (sX × sY)",
      "variables": [
        {
          "symbol": "r_{XY}",
          "name": "r sub XY",
          "description": "Correlation coefficient / Коэффициент корреляции"
        },
        {
          "symbol": "s_{XY}",
          "name": "s sub XY",
          "description": "Sample covariance / Выборочная ковариация"
        },
        {
          "symbol": "s_X",
          "name": "s sub X",
          "description": "Standard deviation of X / Стандартное отклонение X"
        },
        {
          "symbol": "s_Y",
          "name": "s sub Y",
          "description": "Standard deviation of Y / Стандартное отклонение Y"
        }
      ],
      "example": "r=+1 (perfect positive), r=0 (no correlation), r=-1 (perfect negative)"
    },
    {
      "id": "QM-STAT-015",
      "name_en": "Sample Skewness",
      "name_ru": "Выборочная асимметрия",
      "book_id": 1,
      "category": "Statistics",
      "formula": "Skewness = \\frac{1}{n} \\times \\frac{\\sum_{i=1}^{n} (X_i - \\bar{X})^3}{s^3}",
      "description": "Measures the asymmetry of a distribution. Positive = right tail, Negative = left tail.",
      "description_ru": "Измеряет асимметрию распределения. Положительная = правый хвост, Отрицательная = левый хвост.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "(1/n) × Σ(Xi-X̄)³ ÷ s³",
      "variables": [
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "Skewness > 0: right tail longer; Skewness < 0: left tail longer"
    },
    {
      "id": "QM-STAT-016",
      "name_en": "Sample Kurtosis",
      "name_ru": "Выборочный эксцесс",
      "book_id": 1,
      "category": "Statistics",
      "formula": "Kurtosis = \\frac{1}{n} \\times \\frac{\\sum_{i=1}^{n} (X_i - \\bar{X})^4}{s^4}",
      "description": "Measures the 'tailedness' of a distribution. Normal distribution has kurtosis of 3.",
      "description_ru": "Измеряет 'хвостатость' распределения. Нормальное распределение имеет эксцесс 3.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "(1/n) × Σ(Xi-X̄)⁴ ÷ s⁴",
      "variables": [
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "Kurtosis = 3: normal (mesokurtic); >3: fat tails (leptokurtic); <3: thin tails (platykurtic)"
    },
    {
      "id": "QM-STAT-017",
      "name_en": "Excess Kurtosis",
      "name_ru": "Избыточный эксцесс",
      "book_id": 1,
      "category": "Statistics",
      "formula": "K_E = \\left[\\frac{1}{n} \\times \\frac{\\sum_{i=1}^{n} (X_i - \\bar{X})^4}{s^4}\\right] - 3",
      "description": "Kurtosis relative to normal distribution. Positive = fat tails (leptokurtic), Negative = thin tails (platykurtic).",
      "description_ru": "Эксцесс относительно нормального распределения. Положительный = толстые хвосты, Отрицательный = тонкие хвосты.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Kurtosis - 3",
      "variables": [
        {
          "symbol": "K_E",
          "name": "K sub E",
          "description": "Excess kurtosis / Избыточный эксцесс"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Individual observation / Отдельное наблюдение"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "Excess Kurtosis = 0: normal; >0: leptokurtic (fat tails); <0: platykurtic (thin tails)"
    },
    {
      "id": "QM-PROB-001",
      "name_en": "Addition Rule of Probability",
      "name_ru": "Правило сложения вероятностей",
      "book_id": 1,
      "category": "Probability",
      "formula": "P(A \\text{ or } B) = P(A) + P(B) - P(AB)",
      "description": "The probability that at least one of two events occurs.",
      "description_ru": "Вероятность того, что произойдёт хотя бы одно из двух событий.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "P(A) + P(B) - P(A and B)",
      "variables": [
        {
          "symbol": "P(A)",
          "name": "P of A",
          "description": "Probability of event A / Вероятность события A"
        },
        {
          "symbol": "P(B)",
          "name": "P of B",
          "description": "Probability of event B / Вероятность события B"
        },
        {
          "symbol": "P(AB)",
          "name": "P of AB",
          "description": "Probability of both A and B / Вероятность обоих событий A и B"
        }
      ],
      "example": "P(A)=0.6, P(B)=0.5, P(AB)=0.3: P(A or B) = 0.6+0.5-0.3 = 0.8"
    },
    {
      "id": "QM-PROB-002",
      "name_en": "Multiplication Rule (Independent Events)",
      "name_ru": "Правило умножения (независимые события)",
      "book_id": 1,
      "category": "Probability",
      "formula": "P(AB) = P(A) \\times P(B)",
      "description": "The probability of both independent events occurring.",
      "description_ru": "Вероятность того, что оба независимых события произойдут.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "P(A) × P(B)",
      "variables": [
        {
          "symbol": "P(A)",
          "name": "P of A",
          "description": "Probability of event A / Вероятность события A"
        },
        {
          "symbol": "P(B)",
          "name": "P of B",
          "description": "Probability of event B / Вероятность события B"
        }
      ],
      "example": "P(A)=0.6, P(B)=0.5: P(AB) = 0.6×0.5 = 0.3"
    },
    {
      "id": "QM-PROB-003",
      "name_en": "Multiplication Rule (Dependent Events)",
      "name_ru": "Правило умножения (зависимые события)",
      "book_id": 1,
      "category": "Probability",
      "formula": "P(AB) = P(A|B) \\times P(B)",
      "description": "The probability of both events occurring when they are dependent.",
      "description_ru": "Вероятность того, что оба события произойдут, когда они зависимы.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "P(A|B) × P(B)",
      "variables": [
        {
          "symbol": "P(A|B)",
          "name": "P of A given B",
          "description": "Conditional probability of A given B / Условная вероятность A при B"
        },
        {
          "symbol": "P(B)",
          "name": "P of B",
          "description": "Probability of event B / Вероятность события B"
        }
      ],
      "example": "P(A|B)=0.7, P(B)=0.5: P(AB) = 0.7×0.5 = 0.35"
    },
    {
      "id": "QM-PROB-004",
      "name_en": "Total Probability Rule",
      "name_ru": "Формула полной вероятности",
      "book_id": 1,
      "category": "Probability",
      "formula": "P(A) = \\sum_{i=1}^{n} P(A|S_i) \\times P(S_i)",
      "description": "The probability of an event using mutually exclusive and exhaustive scenarios.",
      "description_ru": "Вероятность события с использованием взаимоисключающих и исчерпывающих сценариев.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Σ P(A|Si) × P(Si)",
      "variables": [
        {
          "symbol": "P(A)",
          "name": "P of A",
          "description": "Unconditional probability of A / Безусловная вероятность A"
        },
        {
          "symbol": "P(A|S_i)",
          "name": "P of A given S sub i",
          "description": "Conditional probability of A given scenario i / Условная вероятность A при сценарии i"
        },
        {
          "symbol": "P(S_i)",
          "name": "P of S sub i",
          "description": "Probability of scenario i / Вероятность сценария i"
        }
      ],
      "example": "2 scenarios: P(A|S1)=0.8, P(S1)=0.6; P(A|S2)=0.3, P(S2)=0.4: P(A)=0.8×0.6+0.3×0.4=0.60"
    },
    {
      "id": "QM-PROB-005",
      "name_en": "Bayes' Formula",
      "name_ru": "Формула Байеса",
      "book_id": 1,
      "category": "Probability",
      "formula": "P(A|B) = \\frac{P(B|A) \\times P(A)}{P(B)}",
      "description": "Updates the probability of an event based on new information.",
      "description_ru": "Обновляет вероятность события на основе новой информации.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "[P(B|A) × P(A)] ÷ P(B)",
      "variables": [
        {
          "symbol": "P(A|B)",
          "name": "P of A given B",
          "description": "Posterior probability / Апостериорная вероятность"
        },
        {
          "symbol": "P(B|A)",
          "name": "P of B given A",
          "description": "Likelihood / Правдоподобие"
        },
        {
          "symbol": "P(A)",
          "name": "P of A",
          "description": "Prior probability / Априорная вероятность"
        },
        {
          "symbol": "P(B)",
          "name": "P of B",
          "description": "Total probability of B / Полная вероятность B"
        }
      ],
      "example": "P(A)=0.3, P(B|A)=0.9, P(B)=0.5: P(A|B) = (0.9×0.3)/0.5 = 0.54"
    },
    {
      "id": "QM-PROB-006",
      "name_en": "Expected Value",
      "name_ru": "Математическое ожидание",
      "book_id": 1,
      "category": "Probability",
      "formula": "E(X) = \\sum_{i=1}^{n} P(X_i) \\times X_i",
      "description": "The probability-weighted average of all possible outcomes.",
      "description_ru": "Взвешенное по вероятности среднее всех возможных исходов.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Σ P(Xi) × Xi",
      "variables": [
        {
          "symbol": "E(X)",
          "name": "E of X",
          "description": "Expected value / Математическое ожидание"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Outcome i / Исход i"
        },
        {
          "symbol": "P(X_i)",
          "name": "P of X sub i",
          "description": "Probability of outcome i / Вероятность исхода i"
        }
      ],
      "example": "X1=10 (P=0.3), X2=20 (P=0.5), X3=30 (P=0.2): E(X) = 10×0.3+20×0.5+30×0.2 = 19"
    },
    {
      "id": "QM-PROB-007",
      "name_en": "Variance of Random Variable",
      "name_ru": "Дисперсия случайной величины",
      "book_id": 1,
      "category": "Probability",
      "formula": "\\sigma^2(X) = \\sum_{i=1}^{n} P(X_i) \\times [X_i - E(X)]^2",
      "description": "The probability-weighted average of squared deviations from the expected value.",
      "description_ru": "Взвешенное по вероятности среднее квадратов отклонений от математического ожидания.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Σ P(Xi) × [Xi - E(X)]²",
      "variables": [
        {
          "symbol": "\\sigma^2(X)",
          "name": "sigma squared of X",
          "description": "Variance / Дисперсия"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Outcome i / Исход i"
        },
        {
          "symbol": "E(X)",
          "name": "E of X",
          "description": "Expected value / Математическое ожидание"
        },
        {
          "symbol": "P(X_i)",
          "name": "P of X sub i",
          "description": "Probability of outcome i / Вероятность исхода i"
        }
      ],
      "example": "E(X)=19: σ² = 0.3×(10-19)² + 0.5×(20-19)² + 0.2×(30-19)² = 48.9"
    },
    {
      "id": "QM-PROB-008",
      "name_en": "Covariance of Random Variables",
      "name_ru": "Ковариация случайных величин",
      "book_id": 1,
      "category": "Probability",
      "formula": "Cov(X,Y) = E[(X - E(X))(Y - E(Y))]",
      "description": "Measures how two random variables move together.",
      "description_ru": "Измеряет, как две случайные величины изменяются вместе.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "E[(X - μX)(Y - μY)]",
      "variables": [
        {
          "symbol": "Cov(X,Y)",
          "name": "Cov of X,Y",
          "description": "Covariance / Ковариация"
        },
        {
          "symbol": "E(X)",
          "name": "E of X",
          "description": "Expected value of X / Математическое ожидание X"
        },
        {
          "symbol": "E(Y)",
          "name": "E of Y",
          "description": "Expected value of Y / Математическое ожидание Y"
        }
      ],
      "example": "Cov > 0: move together; Cov < 0: move opposite; Cov = 0: no linear relationship"
    },
    {
      "id": "QM-PROB-009",
      "name_en": "Correlation Coefficient",
      "name_ru": "Коэффициент корреляции",
      "book_id": 1,
      "category": "Probability",
      "formula": "\\rho(X,Y) = \\frac{Cov(X,Y)}{\\sigma_X \\times \\sigma_Y}",
      "description": "Standardized measure of linear relationship between two variables, ranging from -1 to +1.",
      "description_ru": "Стандартизированная мера линейной связи между двумя переменными, от -1 до +1.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Cov(X,Y) ÷ (σX × σY)",
      "variables": [
        {
          "symbol": "\\rho(X,Y)",
          "name": "rho of X,Y",
          "description": "Correlation coefficient / Коэффициент корреляции"
        },
        {
          "symbol": "Cov(X,Y)",
          "name": "Cov of X,Y",
          "description": "Covariance / Ковариация"
        },
        {
          "symbol": "\\sigma_X",
          "name": "sigma sub X",
          "description": "Standard deviation of X / Стандартное отклонение X"
        },
        {
          "symbol": "\\sigma_Y",
          "name": "sigma sub Y",
          "description": "Standard deviation of Y / Стандартное отклонение Y"
        }
      ],
      "example": "Cov(X,Y)=15, σX=5, σY=6: ρ = 15/(5×6) = 0.5"
    },
    {
      "id": "QM-PROB-010",
      "name_en": "Portfolio Expected Return",
      "name_ru": "Ожидаемая доходность портфеля",
      "book_id": 1,
      "category": "Probability",
      "formula": "E(R_p) = \\sum_{i=1}^{n} w_i \\times E(R_i)",
      "description": "The weighted average of expected returns of portfolio components.",
      "description_ru": "Взвешенное среднее ожидаемых доходностей компонентов портфеля.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Σ wi × E(Ri)",
      "variables": [
        {
          "symbol": "E(R_p)",
          "name": "E of R sub p",
          "description": "Expected portfolio return / Ожидаемая доходность портфеля"
        },
        {
          "symbol": "w_i",
          "name": "w sub i",
          "description": "Weight of asset i / Вес актива i"
        },
        {
          "symbol": "E(R_i)",
          "name": "E of R sub i",
          "description": "Expected return of asset i / Ожидаемая доходность актива i"
        }
      ],
      "example": "w1=0.6, E(R1)=10%; w2=0.4, E(R2)=8%: E(Rp) = 0.6×10% + 0.4×8% = 9.2%"
    },
    {
      "id": "QM-PROB-011",
      "name_en": "Portfolio Variance (Two Assets)",
      "name_ru": "Дисперсия портфеля (два актива)",
      "book_id": 1,
      "category": "Probability",
      "formula": "\\sigma_p^2 = w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2Cov(R_1,R_2)",
      "description": "The variance of a two-asset portfolio, accounting for correlation.",
      "description_ru": "Дисперсия портфеля из двух активов с учётом корреляции.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "w₁²σ₁² + w₂²σ₂² + 2w₁w₂Cov",
      "variables": [
        {
          "symbol": "\\sigma_p^2",
          "name": "sigma sub p squared",
          "description": "Portfolio variance / Дисперсия портфеля"
        },
        {
          "symbol": "w_1, w_2",
          "name": "w sub 1, w sub 2",
          "description": "Weights of assets / Веса активов"
        },
        {
          "symbol": "\\sigma_1^2, \\sigma_2^2",
          "name": "sigma squared",
          "description": "Variances of assets / Дисперсии активов"
        },
        {
          "symbol": "Cov(R_1,R_2)",
          "name": "Cov of R1,R2",
          "description": "Covariance of returns / Ковариация доходностей"
        }
      ],
      "example": "w1=0.6, σ1=10%; w2=0.4, σ2=15%; Cov=0.006: σp² = 0.36×0.01+0.16×0.0225+2×0.6×0.4×0.006"
    },
    {
      "id": "QM-PROB-012",
      "name_en": "Combinations",
      "name_ru": "Сочетания",
      "book_id": 1,
      "category": "Probability",
      "formula": "_nC_r = \\frac{n!}{(n-r)! \\times r!}",
      "description": "Number of ways to choose r items from n items when order doesn't matter.",
      "description_ru": "Количество способов выбрать r элементов из n, когда порядок не важен.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "n [2ND] [nCr] r [=]",
      "variables": [
        {
          "symbol": "_nC_r",
          "name": "n choose r",
          "description": "Number of combinations / Количество сочетаний"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Total number of items / Общее количество элементов"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Number of items to choose / Количество выбираемых элементов"
        }
      ],
      "example": "Choose 3 from 10: 10C3 = 10!/(7!×3!) = 120"
    },
    {
      "id": "QM-PROB-013",
      "name_en": "Permutations",
      "name_ru": "Перестановки",
      "book_id": 1,
      "category": "Probability",
      "formula": "_nP_r = \\frac{n!}{(n-r)!}",
      "description": "Number of ways to arrange r items from n items when order matters.",
      "description_ru": "Количество способов расположить r элементов из n, когда порядок важен.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "n [2ND] [nPr] r [=]",
      "variables": [
        {
          "symbol": "_nP_r",
          "name": "n permute r",
          "description": "Number of permutations / Количество перестановок"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Total number of items / Общее количество элементов"
        },
        {
          "symbol": "r",
          "name": "r",
          "description": "Number of items to arrange / Количество располагаемых элементов"
        }
      ],
      "example": "Arrange 3 from 10: 10P3 = 10!/7! = 720"
    },
    {
      "id": "QM-PROB-014",
      "name_en": "Binomial Probability",
      "name_ru": "Биномиальная вероятность",
      "book_id": 1,
      "category": "Probability",
      "formula": "P(X=x) = \\binom{n}{x} p^x (1-p)^{n-x}",
      "description": "Probability of exactly x successes in n independent trials.",
      "description_ru": "Вероятность ровно x успехов в n независимых испытаниях.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "nCx × p^x × (1-p)^(n-x)",
      "variables": [
        {
          "symbol": "P(X=x)",
          "name": "P of X equals x",
          "description": "Probability of x successes / Вероятность x успехов"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of trials / Количество испытаний"
        },
        {
          "symbol": "x",
          "name": "x",
          "description": "Number of successes / Количество успехов"
        },
        {
          "symbol": "p",
          "name": "p",
          "description": "Probability of success on each trial / Вероятность успеха в каждом испытании"
        }
      ],
      "example": "n=5, x=3, p=0.4: P = 10×(0.4)³×(0.6)² = 0.2304"
    },
    {
      "id": "QM-PROB-015",
      "name_en": "Binomial Expected Value",
      "name_ru": "Математическое ожидание биномиального распределения",
      "book_id": 1,
      "category": "Probability",
      "formula": "E(X) = n \\times p",
      "description": "Expected number of successes in n binomial trials.",
      "description_ru": "Ожидаемое количество успехов в n биномиальных испытаниях.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "n × p",
      "variables": [
        {
          "symbol": "E(X)",
          "name": "E of X",
          "description": "Expected value / Математическое ожидание"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of trials / Количество испытаний"
        },
        {
          "symbol": "p",
          "name": "p",
          "description": "Probability of success / Вероятность успеха"
        }
      ],
      "example": "n=100, p=0.6: E(X) = 100×0.6 = 60 successes"
    },
    {
      "id": "QM-PROB-016",
      "name_en": "Binomial Variance",
      "name_ru": "Дисперсия биномиального распределения",
      "book_id": 1,
      "category": "Probability",
      "formula": "\\sigma^2 = n \\times p \\times (1-p)",
      "description": "Variance of the binomial distribution.",
      "description_ru": "Дисперсия биномиального распределения.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "n × p × (1-p)",
      "variables": [
        {
          "symbol": "\\sigma^2",
          "name": "sigma squared",
          "description": "Variance / Дисперсия"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of trials / Количество испытаний"
        },
        {
          "symbol": "p",
          "name": "p",
          "description": "Probability of success / Вероятность успеха"
        }
      ],
      "example": "n=100, p=0.6: σ² = 100×0.6×0.4 = 24"
    },
    {
      "id": "QM-DIST-001",
      "name_en": "Normal Distribution (Z-Score)",
      "name_ru": "Нормальное распределение (Z-оценка)",
      "book_id": 1,
      "category": "Distributions",
      "formula": "z = \\frac{X - \\mu}{\\sigma}",
      "description": "Standardizes a value by expressing how many standard deviations it is from the mean.",
      "description_ru": "Стандартизирует значение, выражая, на сколько стандартных отклонений оно отстоит от среднего.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(X - μ) ÷ σ",
      "variables": [
        {
          "symbol": "z",
          "name": "z",
          "description": "Z-score (standard score) / Z-оценка (стандартный балл)"
        },
        {
          "symbol": "X",
          "name": "X",
          "description": "Observed value / Наблюдаемое значение"
        },
        {
          "symbol": "\\mu",
          "name": "mu",
          "description": "Population mean / Среднее генеральной совокупности"
        },
        {
          "symbol": "\\sigma",
          "name": "sigma",
          "description": "Population standard deviation / Стандартное отклонение совокупности"
        }
      ],
      "example": "X=85, μ=70, σ=10: z = (85-70)/10 = 1.5"
    },
    {
      "id": "QM-DIST-002",
      "name_en": "Confidence Interval (Normal)",
      "name_ru": "Доверительный интервал (нормальный)",
      "book_id": 1,
      "category": "Distributions",
      "formula": "CI = \\bar{X} \\pm z_{\\alpha/2} \\times \\frac{\\sigma}{\\sqrt{n}}",
      "description": "Confidence interval for the population mean when population standard deviation is known.",
      "description_ru": "Доверительный интервал для среднего совокупности, когда стандартное отклонение известно.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "X̄ ± z × (σ ÷ √n)",
      "variables": [
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "z_{\\alpha/2}",
          "name": "z alpha/2",
          "description": "Critical z-value (1.96 for 95%) / Критическое z-значение"
        },
        {
          "symbol": "\\sigma",
          "name": "sigma",
          "description": "Population standard deviation / Стандартное отклонение совокупности"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "X̄=100, σ=15, n=36, 95% CI: 100 ± 1.96×(15/6) = 100 ± 4.9 = [95.1, 104.9]"
    },
    {
      "id": "QM-DIST-003",
      "name_en": "Confidence Interval (t-distribution)",
      "name_ru": "Доверительный интервал (t-распределение)",
      "book_id": 1,
      "category": "Distributions",
      "formula": "CI = \\bar{X} \\pm t_{\\alpha/2} \\times \\frac{s}{\\sqrt{n}}",
      "description": "Confidence interval when population standard deviation is unknown and sample size is small.",
      "description_ru": "Доверительный интервал, когда стандартное отклонение совокупности неизвестно и выборка мала.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "X̄ ± t × (s ÷ √n)",
      "variables": [
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "t_{\\alpha/2}",
          "name": "t alpha/2",
          "description": "Critical t-value (df = n-1) / Критическое t-значение"
        },
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "X̄=50, s=8, n=25, t(24,0.025)=2.064: 50 ± 2.064×(8/5) = [46.7, 53.3]"
    },
    {
      "id": "QM-DIST-004",
      "name_en": "Standard Error of the Mean",
      "name_ru": "Стандартная ошибка среднего",
      "book_id": 1,
      "category": "Distributions",
      "formula": "\\sigma_{\\bar{X}} = \\frac{\\sigma}{\\sqrt{n}}",
      "description": "The standard deviation of the sampling distribution of the sample mean.",
      "description_ru": "Стандартное отклонение выборочного распределения выборочного среднего.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "σ ÷ √n",
      "variables": [
        {
          "symbol": "\\sigma_{\\bar{X}}",
          "name": "sigma sub X-bar",
          "description": "Standard error / Стандартная ошибка"
        },
        {
          "symbol": "\\sigma",
          "name": "sigma",
          "description": "Population standard deviation / Стандартное отклонение совокупности"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "σ=20, n=100: SE = 20/√100 = 20/10 = 2"
    },
    {
      "id": "QM-DIST-005",
      "name_en": "Lognormal Distribution (Continuous Return)",
      "name_ru": "Логнормальное распределение (непрерывная доходность)",
      "book_id": 1,
      "category": "Distributions",
      "formula": "\\frac{S_T}{S_0} = e^{r_{0,T}}",
      "description": "If returns are normally distributed, prices follow a lognormal distribution.",
      "description_ru": "Если доходности распределены нормально, цены следуют логнормальному распределению.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "ST = S0 × e^r",
      "variables": [
        {
          "symbol": "S_T",
          "name": "S sub T",
          "description": "Price at time T / Цена в момент T"
        },
        {
          "symbol": "S_0",
          "name": "S sub 0",
          "description": "Price at time 0 / Цена в момент 0"
        },
        {
          "symbol": "r_{0,T}",
          "name": "r sub 0,T",
          "description": "Continuously compounded return / Непрерывно начисляемая доходность"
        }
      ],
      "example": "S0=$100, r=10%: ST = 100×e^0.10 = $110.52"
    },
    {
      "id": "QM-DIST-006",
      "name_en": "Roy's Safety-First Ratio (SFRatio)",
      "name_ru": "Коэффициент безопасности Роя (SFRatio)",
      "book_id": 1,
      "category": "Distributions",
      "formula": "SFRatio = \\frac{E(R_p) - R_L}{\\sigma_p}",
      "description": "Measures distance from expected return to minimum acceptable return in standard deviations.",
      "description_ru": "Измеряет расстояние от ожидаемой доходности до минимально приемлемой в стандартных отклонениях.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "[E(Rp) - RL] ÷ σp",
      "variables": [
        {
          "symbol": "SFRatio",
          "name": "SF Ratio",
          "description": "Safety-First Ratio / Коэффициент безопасности"
        },
        {
          "symbol": "E(R_p)",
          "name": "E of R sub p",
          "description": "Expected portfolio return / Ожидаемая доходность портфеля"
        },
        {
          "symbol": "R_L",
          "name": "R sub L",
          "description": "Minimum acceptable return (threshold) / Минимально приемлемая доходность"
        },
        {
          "symbol": "\\sigma_p",
          "name": "sigma sub p",
          "description": "Portfolio standard deviation / Стандартное отклонение портфеля"
        }
      ],
      "example": "E(Rp)=12%, RL=5%, σp=10%: SFRatio = (12-5)/10 = 0.70"
    },
    {
      "id": "QM-HYP-001",
      "name_en": "Z-Test Statistic",
      "name_ru": "Z-статистика теста",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "z = \\frac{\\bar{X} - \\mu_0}{\\sigma / \\sqrt{n}}",
      "description": "Test statistic for hypothesis test when population standard deviation is known.",
      "description_ru": "Тестовая статистика для проверки гипотезы, когда стандартное отклонение совокупности известно.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(X̄ - μ₀) ÷ (σ ÷ √n)",
      "variables": [
        {
          "symbol": "z",
          "name": "z",
          "description": "Z-test statistic / Z-статистика"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "\\mu_0",
          "name": "mu sub 0",
          "description": "Hypothesized population mean / Гипотетическое среднее совокупности"
        },
        {
          "symbol": "\\sigma",
          "name": "sigma",
          "description": "Population standard deviation / Стандартное отклонение совокупности"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "X̄=52, μ₀=50, σ=10, n=100: z = (52-50)/(10/10) = 2.0"
    },
    {
      "id": "QM-HYP-002",
      "name_en": "T-Test Statistic",
      "name_ru": "T-статистика теста",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "t = \\frac{\\bar{X} - \\mu_0}{s / \\sqrt{n}}",
      "description": "Test statistic for hypothesis test when population standard deviation is unknown.",
      "description_ru": "Тестовая статистика для проверки гипотезы, когда стандартное отклонение совокупности неизвестно.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(X̄ - μ₀) ÷ (s ÷ √n)",
      "variables": [
        {
          "symbol": "t",
          "name": "t",
          "description": "T-test statistic / T-статистика"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Sample mean / Выборочное среднее"
        },
        {
          "symbol": "\\mu_0",
          "name": "mu sub 0",
          "description": "Hypothesized population mean / Гипотетическое среднее совокупности"
        },
        {
          "symbol": "s",
          "name": "s",
          "description": "Sample standard deviation / Выборочное стандартное отклонение"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        }
      ],
      "example": "X̄=52, μ₀=50, s=8, n=25: t = (52-50)/(8/5) = 1.25 (df=24)"
    },
    {
      "id": "QM-HYP-003",
      "name_en": "Paired T-Test Statistic",
      "name_ru": "Парная T-статистика",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "t = \\frac{\\bar{d} - \\mu_{d_0}}{s_d / \\sqrt{n}}",
      "description": "Test statistic for comparing paired samples (before/after, matched pairs).",
      "description_ru": "Тестовая статистика для сравнения парных выборок (до/после, согласованные пары).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(d̄ - μd₀) ÷ (sd ÷ √n)",
      "variables": [
        {
          "symbol": "t",
          "name": "t",
          "description": "T-test statistic / T-статистика"
        },
        {
          "symbol": "\\bar{d}",
          "name": "d-bar",
          "description": "Mean of differences / Среднее разностей"
        },
        {
          "symbol": "\\mu_{d_0}",
          "name": "mu sub d0",
          "description": "Hypothesized mean difference (usually 0) / Гипотетическая средняя разность"
        },
        {
          "symbol": "s_d",
          "name": "s sub d",
          "description": "Standard deviation of differences / Стандартное отклонение разностей"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of pairs / Количество пар"
        }
      ],
      "example": "d̄=3, μd₀=0, sd=5, n=20: t = (3-0)/(5/√20) = 2.68"
    },
    {
      "id": "QM-HYP-004",
      "name_en": "T-Test for Difference in Means (Equal Variances)",
      "name_ru": "T-тест для разности средних (равные дисперсии)",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "t = \\frac{(\\bar{X}_1 - \\bar{X}_2) - (\\mu_1 - \\mu_2)_0}{s_p \\sqrt{\\frac{1}{n_1} + \\frac{1}{n_2}}}",
      "description": "Test statistic for comparing means of two independent samples with equal variances.",
      "description_ru": "Тестовая статистика для сравнения средних двух независимых выборок с равными дисперсиями.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Требует расчёта pooled variance sp²",
      "variables": [
        {
          "symbol": "\\bar{X}_1, \\bar{X}_2",
          "name": "X-bar 1, X-bar 2",
          "description": "Sample means / Выборочные средние"
        },
        {
          "symbol": "(\\mu_1 - \\mu_2)_0",
          "name": "mu1 - mu2",
          "description": "Hypothesized difference (usually 0) / Гипотетическая разность"
        },
        {
          "symbol": "s_p",
          "name": "s sub p",
          "description": "Pooled standard deviation / Объединённое стандартное отклонение"
        },
        {
          "symbol": "n_1, n_2",
          "name": "n sub 1, n sub 2",
          "description": "Sample sizes / Размеры выборок"
        }
      ],
      "example": "X̄1=75, X̄2=70, sp=10, n1=n2=30: t = (75-70)/(10×√(1/30+1/30)) = 1.94"
    },
    {
      "id": "QM-HYP-005",
      "name_en": "Pooled Variance",
      "name_ru": "Объединённая дисперсия",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "s_p^2 = \\frac{(n_1-1)s_1^2 + (n_2-1)s_2^2}{n_1 + n_2 - 2}",
      "description": "Combined variance estimate from two samples, assuming equal population variances.",
      "description_ru": "Комбинированная оценка дисперсии по двум выборкам при допущении равных дисперсий совокупностей.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "[(n1-1)s1² + (n2-1)s2²] ÷ (n1+n2-2)",
      "variables": [
        {
          "symbol": "s_p^2",
          "name": "s sub p squared",
          "description": "Pooled variance / Объединённая дисперсия"
        },
        {
          "symbol": "s_1^2, s_2^2",
          "name": "s1 squared, s2 squared",
          "description": "Sample variances / Выборочные дисперсии"
        },
        {
          "symbol": "n_1, n_2",
          "name": "n sub 1, n sub 2",
          "description": "Sample sizes / Размеры выборок"
        }
      ],
      "example": "s1²=64, s2²=81, n1=20, n2=25: sp² = (19×64+24×81)/43 = 73.4"
    },
    {
      "id": "QM-HYP-006",
      "name_en": "Chi-Square Test Statistic (Variance)",
      "name_ru": "Хи-квадрат статистика (дисперсия)",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "\\chi^2 = \\frac{(n-1)s^2}{\\sigma_0^2}",
      "description": "Test statistic for hypothesis test about population variance.",
      "description_ru": "Тестовая статистика для проверки гипотезы о дисперсии совокупности.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(n-1) × s² ÷ σ₀²",
      "variables": [
        {
          "symbol": "\\chi^2",
          "name": "chi-squared",
          "description": "Chi-square statistic / Хи-квадрат статистика"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Sample size / Размер выборки"
        },
        {
          "symbol": "s^2",
          "name": "s squared",
          "description": "Sample variance / Выборочная дисперсия"
        },
        {
          "symbol": "\\sigma_0^2",
          "name": "sigma sub 0 squared",
          "description": "Hypothesized variance / Гипотетическая дисперсия"
        }
      ],
      "example": "n=25, s²=120, σ₀²=100: χ² = 24×120/100 = 28.8 (df=24)"
    },
    {
      "id": "QM-HYP-007",
      "name_en": "F-Test Statistic (Equality of Variances)",
      "name_ru": "F-статистика (равенство дисперсий)",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "F = \\frac{s_1^2}{s_2^2}",
      "description": "Test statistic for comparing variances of two populations (larger variance in numerator).",
      "description_ru": "Тестовая статистика для сравнения дисперсий двух совокупностей (большая дисперсия в числителе).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "s₁² ÷ s₂² (больший в числитель)",
      "variables": [
        {
          "symbol": "F",
          "name": "F",
          "description": "F-test statistic / F-статистика"
        },
        {
          "symbol": "s_1^2",
          "name": "s sub 1 squared",
          "description": "Larger sample variance / Большая выборочная дисперсия"
        },
        {
          "symbol": "s_2^2",
          "name": "s sub 2 squared",
          "description": "Smaller sample variance / Меньшая выборочная дисперсия"
        }
      ],
      "example": "s1²=144, s2²=81: F = 144/81 = 1.78 (df1=n1-1, df2=n2-1)"
    },
    {
      "id": "QM-HYP-008",
      "name_en": "Power of a Test",
      "name_ru": "Мощность теста",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "Power = 1 - \\beta = 1 - P(\\text{Type II error})",
      "description": "Probability of correctly rejecting a false null hypothesis.",
      "description_ru": "Вероятность правильного отклонения ложной нулевой гипотезы.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "1 - β",
      "variables": [
        {
          "symbol": "Power",
          "name": "Power",
          "description": "Power of the test / Мощность теста"
        },
        {
          "symbol": "\\beta",
          "name": "beta",
          "description": "Probability of Type II error / Вероятность ошибки II рода"
        }
      ],
      "example": "β=0.20: Power = 1-0.20 = 0.80 (80% chance of detecting true effect)"
    },
    {
      "id": "QM-HYP-009",
      "name_en": "Type I and Type II Errors",
      "name_ru": "Ошибки I и II рода",
      "book_id": 1,
      "category": "Hypothesis Testing",
      "formula": "\\alpha = P(\\text{reject } H_0 | H_0 \\text{ true}), \\quad \\beta = P(\\text{fail to reject } H_0 | H_0 \\text{ false})",
      "description": "Type I error (α): false positive. Type II error (β): false negative.",
      "description_ru": "Ошибка I рода (α): ложноположительная. Ошибка II рода (β): ложноотрицательная.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "α = significance level; β depends on effect size and n",
      "variables": [
        {
          "symbol": "\\alpha",
          "name": "alpha",
          "description": "Significance level / Уровень значимости"
        },
        {
          "symbol": "\\beta",
          "name": "beta",
          "description": "Probability of Type II error / Вероятность ошибки II рода"
        },
        {
          "symbol": "H_0",
          "name": "H sub 0",
          "description": "Null hypothesis / Нулевая гипотеза"
        }
      ],
      "example": "α=0.05 means 5% chance of rejecting true H₀"
    },
    {
      "id": "QM-REG-001",
      "name_en": "Simple Linear Regression Model",
      "name_ru": "Простая линейная регрессия",
      "book_id": 1,
      "category": "Regression",
      "formula": "Y_i = b_0 + b_1 X_i + \\epsilon_i",
      "description": "Linear relationship between dependent variable Y and independent variable X.",
      "description_ru": "Линейная зависимость между зависимой переменной Y и независимой переменной X.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Y = intercept + slope × X + error",
      "variables": [
        {
          "symbol": "Y_i",
          "name": "Y sub i",
          "description": "Dependent variable / Зависимая переменная"
        },
        {
          "symbol": "b_0",
          "name": "b sub 0",
          "description": "Y-intercept / Свободный член (пересечение с осью Y)"
        },
        {
          "symbol": "b_1",
          "name": "b sub 1",
          "description": "Slope coefficient / Коэффициент наклона"
        },
        {
          "symbol": "X_i",
          "name": "X sub i",
          "description": "Independent variable / Независимая переменная"
        },
        {
          "symbol": "\\epsilon_i",
          "name": "epsilon sub i",
          "description": "Error term / Ошибка"
        }
      ],
      "example": "Y = 2 + 3X means: when X=0, Y=2; when X increases by 1, Y increases by 3"
    },
    {
      "id": "QM-REG-002",
      "name_en": "Slope Coefficient (b₁)",
      "name_ru": "Коэффициент наклона (b₁)",
      "book_id": 1,
      "category": "Regression",
      "formula": "b_1 = \\frac{Cov(X,Y)}{Var(X)} = \\frac{\\sum(X_i - \\bar{X})(Y_i - \\bar{Y})}{\\sum(X_i - \\bar{X})^2}",
      "description": "The slope measures the change in Y for a one-unit change in X.",
      "description_ru": "Наклон измеряет изменение Y при изменении X на единицу.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Cov(X,Y) ÷ Var(X)",
      "variables": [
        {
          "symbol": "b_1",
          "name": "b sub 1",
          "description": "Slope coefficient / Коэффициент наклона"
        },
        {
          "symbol": "Cov(X,Y)",
          "name": "Cov of X,Y",
          "description": "Covariance of X and Y / Ковариация X и Y"
        },
        {
          "symbol": "Var(X)",
          "name": "Var of X",
          "description": "Variance of X / Дисперсия X"
        }
      ],
      "example": "Cov(X,Y)=150, Var(X)=50: b₁ = 150/50 = 3"
    },
    {
      "id": "QM-REG-003",
      "name_en": "Intercept (b₀)",
      "name_ru": "Свободный член (b₀)",
      "book_id": 1,
      "category": "Regression",
      "formula": "b_0 = \\bar{Y} - b_1 \\bar{X}",
      "description": "The Y-intercept, or predicted Y when X equals zero.",
      "description_ru": "Пересечение с осью Y, или предсказанное Y когда X равен нулю.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Ȳ - b₁ × X̄",
      "variables": [
        {
          "symbol": "b_0",
          "name": "b sub 0",
          "description": "Y-intercept / Свободный член"
        },
        {
          "symbol": "\\bar{Y}",
          "name": "Y-bar",
          "description": "Mean of Y / Среднее Y"
        },
        {
          "symbol": "b_1",
          "name": "b sub 1",
          "description": "Slope coefficient / Коэффициент наклона"
        },
        {
          "symbol": "\\bar{X}",
          "name": "X-bar",
          "description": "Mean of X / Среднее X"
        }
      ],
      "example": "Ȳ=20, X̄=5, b₁=3: b₀ = 20 - 3×5 = 5"
    },
    {
      "id": "QM-REG-004",
      "name_en": "Total Sum of Squares (SST)",
      "name_ru": "Общая сумма квадратов (SST)",
      "book_id": 1,
      "category": "Regression",
      "formula": "SST = \\sum_{i=1}^{n} (Y_i - \\bar{Y})^2",
      "description": "Total variation in the dependent variable Y.",
      "description_ru": "Общая вариация зависимой переменной Y.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Σ(Yi - Ȳ)²",
      "variables": [
        {
          "symbol": "SST",
          "name": "SST",
          "description": "Total Sum of Squares / Общая сумма квадратов"
        },
        {
          "symbol": "Y_i",
          "name": "Y sub i",
          "description": "Observed Y value / Наблюдаемое значение Y"
        },
        {
          "symbol": "\\bar{Y}",
          "name": "Y-bar",
          "description": "Mean of Y / Среднее Y"
        }
      ],
      "example": "SST = SSR + SSE (total = explained + unexplained)"
    },
    {
      "id": "QM-REG-005",
      "name_en": "Regression Sum of Squares (SSR)",
      "name_ru": "Регрессионная сумма квадратов (SSR)",
      "book_id": 1,
      "category": "Regression",
      "formula": "SSR = \\sum_{i=1}^{n} (\\hat{Y}_i - \\bar{Y})^2",
      "description": "Variation in Y explained by the regression (explained variation).",
      "description_ru": "Вариация Y, объяснённая регрессией (объяснённая вариация).",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Σ(Ŷi - Ȳ)²",
      "variables": [
        {
          "symbol": "SSR",
          "name": "SSR",
          "description": "Regression Sum of Squares / Регрессионная сумма квадратов"
        },
        {
          "symbol": "\\hat{Y}_i",
          "name": "Y-hat sub i",
          "description": "Predicted Y value / Предсказанное значение Y"
        },
        {
          "symbol": "\\bar{Y}",
          "name": "Y-bar",
          "description": "Mean of Y / Среднее Y"
        }
      ],
      "example": "Higher SSR = model explains more variation"
    },
    {
      "id": "QM-REG-006",
      "name_en": "Sum of Squared Errors (SSE)",
      "name_ru": "Сумма квадратов ошибок (SSE)",
      "book_id": 1,
      "category": "Regression",
      "formula": "SSE = \\sum_{i=1}^{n} (Y_i - \\hat{Y}_i)^2 = \\sum_{i=1}^{n} \\epsilon_i^2",
      "description": "Variation in Y not explained by the regression (unexplained/residual variation).",
      "description_ru": "Вариация Y, не объяснённая регрессией (необъяснённая/остаточная вариация).",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Σ(Yi - Ŷi)² = Σεi²",
      "variables": [
        {
          "symbol": "SSE",
          "name": "SSE",
          "description": "Sum of Squared Errors / Сумма квадратов ошибок"
        },
        {
          "symbol": "Y_i",
          "name": "Y sub i",
          "description": "Observed Y value / Наблюдаемое значение Y"
        },
        {
          "symbol": "\\hat{Y}_i",
          "name": "Y-hat sub i",
          "description": "Predicted Y value / Предсказанное значение Y"
        },
        {
          "symbol": "\\epsilon_i",
          "name": "epsilon sub i",
          "description": "Residual error / Остаточная ошибка"
        }
      ],
      "example": "Lower SSE = better fit"
    },
    {
      "id": "QM-REG-007",
      "name_en": "Coefficient of Determination (R²)",
      "name_ru": "Коэффициент детерминации (R²)",
      "book_id": 1,
      "category": "Regression",
      "formula": "R^2 = \\frac{SSR}{SST} = 1 - \\frac{SSE}{SST}",
      "description": "Proportion of total variation in Y explained by the regression.",
      "description_ru": "Доля общей вариации Y, объяснённая регрессией.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "SSR ÷ SST или 1 - (SSE ÷ SST)",
      "variables": [
        {
          "symbol": "R^2",
          "name": "R squared",
          "description": "Coefficient of determination / Коэффициент детерминации"
        },
        {
          "symbol": "SSR",
          "name": "SSR",
          "description": "Regression Sum of Squares / Регрессионная сумма квадратов"
        },
        {
          "symbol": "SST",
          "name": "SST",
          "description": "Total Sum of Squares / Общая сумма квадратов"
        },
        {
          "symbol": "SSE",
          "name": "SSE",
          "description": "Sum of Squared Errors / Сумма квадратов ошибок"
        }
      ],
      "example": "R²=0.75 means 75% of variation in Y is explained by X"
    },
    {
      "id": "QM-REG-008",
      "name_en": "Standard Error of Estimate (SEE)",
      "name_ru": "Стандартная ошибка оценки (SEE)",
      "book_id": 1,
      "category": "Regression",
      "formula": "SEE = \\sqrt{\\frac{SSE}{n-2}} = \\sqrt{MSE}",
      "description": "Standard deviation of regression residuals, measuring prediction accuracy.",
      "description_ru": "Стандартное отклонение остатков регрессии, измеряющее точность прогноза.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "√(SSE ÷ (n-2))",
      "variables": [
        {
          "symbol": "SEE",
          "name": "SEE",
          "description": "Standard Error of Estimate / Стандартная ошибка оценки"
        },
        {
          "symbol": "SSE",
          "name": "SSE",
          "description": "Sum of Squared Errors / Сумма квадратов ошибок"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        },
        {
          "symbol": "MSE",
          "name": "MSE",
          "description": "Mean Squared Error / Среднеквадратичная ошибка"
        }
      ],
      "example": "SSE=400, n=22: SEE = √(400/20) = √20 = 4.47"
    },
    {
      "id": "QM-REG-009",
      "name_en": "T-Test for Regression Coefficient",
      "name_ru": "T-тест для коэффициента регрессии",
      "book_id": 1,
      "category": "Regression",
      "formula": "t = \\frac{\\hat{b}_1 - b_1}{s_{\\hat{b}_1}}",
      "description": "Test whether regression coefficient is significantly different from hypothesized value.",
      "description_ru": "Проверка, значимо ли отличается коэффициент регрессии от гипотетического значения.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(b̂₁ - b₁) ÷ sb̂₁",
      "variables": [
        {
          "symbol": "t",
          "name": "t",
          "description": "T-statistic / T-статистика"
        },
        {
          "symbol": "\\hat{b}_1",
          "name": "b-hat sub 1",
          "description": "Estimated slope / Оценённый наклон"
        },
        {
          "symbol": "b_1",
          "name": "b sub 1",
          "description": "Hypothesized slope (usually 0) / Гипотетический наклон"
        },
        {
          "symbol": "s_{\\hat{b}_1}",
          "name": "s sub b-hat 1",
          "description": "Standard error of slope / Стандартная ошибка наклона"
        }
      ],
      "example": "b̂₁=2.5, b₁=0, sb̂₁=0.8: t = (2.5-0)/0.8 = 3.125 (df=n-2)"
    },
    {
      "id": "QM-REG-010",
      "name_en": "F-Test for Overall Regression",
      "name_ru": "F-тест для регрессии в целом",
      "book_id": 1,
      "category": "Regression",
      "formula": "F = \\frac{MSR}{MSE} = \\frac{SSR/k}{SSE/(n-k-1)}",
      "description": "Tests whether at least one independent variable explains variation in Y.",
      "description_ru": "Проверяет, объясняет ли хотя бы одна независимая переменная вариацию в Y.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "MSR ÷ MSE (для простой регрессии: SSR ÷ (SSE/(n-2)))",
      "variables": [
        {
          "symbol": "F",
          "name": "F",
          "description": "F-statistic / F-статистика"
        },
        {
          "symbol": "MSR",
          "name": "MSR",
          "description": "Mean Square Regression = SSR/k / Средний квадрат регрессии"
        },
        {
          "symbol": "MSE",
          "name": "MSE",
          "description": "Mean Square Error = SSE/(n-k-1) / Средний квадрат ошибки"
        },
        {
          "symbol": "k",
          "name": "k",
          "description": "Number of independent variables / Количество независимых переменных"
        }
      ],
      "example": "SSR=500, SSE=200, n=22, k=1: F = (500/1)/(200/20) = 50"
    },
    {
      "id": "QM-REG-011",
      "name_en": "Confidence Interval for Slope",
      "name_ru": "Доверительный интервал для наклона",
      "book_id": 1,
      "category": "Regression",
      "formula": "\\hat{b}_1 \\pm t_{\\alpha/2} \\times s_{\\hat{b}_1}",
      "description": "Confidence interval for the true population slope coefficient.",
      "description_ru": "Доверительный интервал для истинного коэффициента наклона совокупности.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "b̂₁ ± t × sb̂₁",
      "variables": [
        {
          "symbol": "\\hat{b}_1",
          "name": "b-hat sub 1",
          "description": "Estimated slope / Оценённый наклон"
        },
        {
          "symbol": "t_{\\alpha/2}",
          "name": "t alpha/2",
          "description": "Critical t-value (df=n-2) / Критическое t-значение"
        },
        {
          "symbol": "s_{\\hat{b}_1}",
          "name": "s sub b-hat 1",
          "description": "Standard error of slope / Стандартная ошибка наклона"
        }
      ],
      "example": "b̂₁=2.5, sb̂₁=0.8, t(0.025,20)=2.086: CI = 2.5 ± 2.086×0.8 = [0.83, 4.17]"
    },
    {
      "id": "QM-REG-012",
      "name_en": "Prediction Interval",
      "name_ru": "Интервал прогноза",
      "book_id": 1,
      "category": "Regression",
      "formula": "\\hat{Y} \\pm t_{\\alpha/2} \\times s_f",
      "description": "Interval estimate for an individual predicted Y value.",
      "description_ru": "Интервальная оценка для индивидуального предсказанного значения Y.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Ŷ ± t × sf (sf включает SEE и неопределённость X)",
      "variables": [
        {
          "symbol": "\\hat{Y}",
          "name": "Y-hat",
          "description": "Predicted Y value / Предсказанное значение Y"
        },
        {
          "symbol": "t_{\\alpha/2}",
          "name": "t alpha/2",
          "description": "Critical t-value / Критическое t-значение"
        },
        {
          "symbol": "s_f",
          "name": "s sub f",
          "description": "Standard error of forecast / Стандартная ошибка прогноза"
        }
      ],
      "example": "Prediction intervals are wider than confidence intervals for the mean"
    },
    {
      "id": "QM-REG-013",
      "name_en": "Multiple Regression Model",
      "name_ru": "Множественная регрессия",
      "book_id": 1,
      "category": "Regression",
      "formula": "Y_i = b_0 + b_1 X_{1i} + b_2 X_{2i} + \\cdots + b_k X_{ki} + \\epsilon_i",
      "description": "Linear model with multiple independent variables.",
      "description_ru": "Линейная модель с несколькими независимыми переменными.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "Y = b₀ + b₁X₁ + b₂X₂ + ... + bₖXₖ + ε",
      "variables": [
        {
          "symbol": "Y_i",
          "name": "Y sub i",
          "description": "Dependent variable / Зависимая переменная"
        },
        {
          "symbol": "b_0",
          "name": "b sub 0",
          "description": "Intercept / Свободный член"
        },
        {
          "symbol": "b_1, b_2, \\ldots, b_k",
          "name": "b sub 1 through k",
          "description": "Slope coefficients / Коэффициенты наклона"
        },
        {
          "symbol": "X_{1i}, X_{2i}, \\ldots, X_{ki}",
          "name": "X variables",
          "description": "Independent variables / Независимые переменные"
        },
        {
          "symbol": "\\epsilon_i",
          "name": "epsilon sub i",
          "description": "Error term / Ошибка"
        }
      ],
      "example": "Salary = 30000 + 2000×Experience + 5000×Education"
    },
    {
      "id": "QM-REG-014",
      "name_en": "Adjusted R²",
      "name_ru": "Скорректированный R²",
      "book_id": 1,
      "category": "Regression",
      "formula": "\\bar{R}^2 = 1 - \\left[\\frac{(1-R^2)(n-1)}{n-k-1}\\right]",
      "description": "R² adjusted for number of independent variables; penalizes adding irrelevant variables.",
      "description_ru": "R², скорректированный на количество независимых переменных; штрафует за добавление нерелевантных переменных.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "1 - [(1-R²)(n-1) ÷ (n-k-1)]",
      "variables": [
        {
          "symbol": "\\bar{R}^2",
          "name": "R-bar squared",
          "description": "Adjusted R² / Скорректированный R²"
        },
        {
          "symbol": "R^2",
          "name": "R squared",
          "description": "Coefficient of determination / Коэффициент детерминации"
        },
        {
          "symbol": "n",
          "name": "n",
          "description": "Number of observations / Количество наблюдений"
        },
        {
          "symbol": "k",
          "name": "k",
          "description": "Number of independent variables / Количество независимых переменных"
        }
      ],
      "example": "R²=0.80, n=50, k=3: Adj R² = 1 - [(0.20×49)/46] = 0.787"
    },
    {
      "id": "QM-REG-015",
      "name_en": "Durbin-Watson Statistic",
      "name_ru": "Статистика Дарбина-Уотсона",
      "book_id": 1,
      "category": "Regression",
      "formula": "DW = \\frac{\\sum_{t=2}^{T}(\\epsilon_t - \\epsilon_{t-1})^2}{\\sum_{t=1}^{T}\\epsilon_t^2}",
      "description": "Tests for first-order autocorrelation in regression residuals.",
      "description_ru": "Проверяет наличие автокорреляции первого порядка в остатках регрессии.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "DW ≈ 2(1-r), где r = автокорреляция",
      "variables": [
        {
          "symbol": "DW",
          "name": "DW",
          "description": "Durbin-Watson statistic / Статистика Дарбина-Уотсона"
        },
        {
          "symbol": "\\epsilon_t",
          "name": "epsilon sub t",
          "description": "Residual at time t / Остаток в момент t"
        },
        {
          "symbol": "\\epsilon_{t-1}",
          "name": "epsilon sub t-1",
          "description": "Residual at time t-1 / Остаток в момент t-1"
        }
      ],
      "example": "DW≈2: no autocorrelation; DW<2: positive; DW>2: negative autocorrelation"
    },
    {
      "id": "EC-MACRO-001",
      "name_en": "Budget Surplus or Deficit",
      "name_ru": "Профицит или дефицит бюджета",
      "book_id": 2,
      "category": "Macroeconomics",
      "formula": "\\text{Budget Surplus or Deficit} = G - T + B",
      "description": "Measures the difference between government spending and revenue.",
      "description_ru": "Измеряет разницу между государственными расходами и доходами.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "G - T + B",
      "variables": [
        {
          "symbol": "G",
          "name": "G",
          "description": "Government spending / Государственные расходы"
        },
        {
          "symbol": "T",
          "name": "T",
          "description": "Taxes / Налоги"
        },
        {
          "symbol": "B",
          "name": "B",
          "description": "Payment of transfer benefits / Трансфертные выплаты"
        }
      ],
      "example": "G=$500B, T=$450B, B=$100B: Deficit = 500-450+100 = $150B"
    },
    {
      "id": "EC-MACRO-002",
      "name_en": "Disposable Income",
      "name_ru": "Располагаемый доход",
      "book_id": 2,
      "category": "Macroeconomics",
      "formula": "Y_D = Y - NT = (1 - t)Y",
      "description": "Income available after taxes for consumption and saving.",
      "description_ru": "Доход, доступный после уплаты налогов для потребления и сбережений.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Y × (1 - t)",
      "variables": [
        {
          "symbol": "Y_D",
          "name": "Y sub D",
          "description": "Disposable income / Располагаемый доход"
        },
        {
          "symbol": "Y",
          "name": "Y",
          "description": "National income or output / Национальный доход"
        },
        {
          "symbol": "NT",
          "name": "NT",
          "description": "Net taxes / Чистые налоги"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Net tax rate / Ставка чистых налогов"
        }
      ],
      "example": "Y=$50,000, t=25%: YD = 50000×(1-0.25) = $37,500"
    },
    {
      "id": "EC-MACRO-003",
      "name_en": "Fiscal Multiplier",
      "name_ru": "Фискальный мультипликатор",
      "book_id": 2,
      "category": "Macroeconomics",
      "formula": "\\text{Fiscal Multiplier} = \\frac{1}{1 - MPC(1 - t)}",
      "description": "The ratio of change in national income to change in government spending.",
      "description_ru": "Отношение изменения национального дохода к изменению государственных расходов.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "1 ÷ [1 - MPC×(1-t)]",
      "variables": [
        {
          "symbol": "MPC",
          "name": "MPC",
          "description": "Marginal Propensity to Consume / Предельная склонность к потреблению"
        },
        {
          "symbol": "t",
          "name": "t",
          "description": "Net tax rate / Ставка чистых налогов"
        }
      ],
      "example": "MPC=0.8, t=25%: Multiplier = 1/[1-0.8×0.75] = 1/0.4 = 2.5"
    },
    {
      "id": "EC-MACRO-004",
      "name_en": "Marginal Propensity to Save (MPS)",
      "name_ru": "Предельная склонность к сбережению (MPS)",
      "book_id": 2,
      "category": "Macroeconomics",
      "formula": "MPS = 1 - MPC",
      "description": "The fraction of additional income that is saved rather than consumed.",
      "description_ru": "Доля дополнительного дохода, которая сберегается, а не потребляется.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "1 - MPC",
      "variables": [
        {
          "symbol": "MPS",
          "name": "MPS",
          "description": "Marginal Propensity to Save / Предельная склонность к сбережению"
        },
        {
          "symbol": "MPC",
          "name": "MPC",
          "description": "Marginal Propensity to Consume / Предельная склонность к потреблению"
        }
      ],
      "example": "MPC=0.8: MPS = 1-0.8 = 0.2 (20% of extra income is saved)"
    },
    {
      "id": "EC-FX-001",
      "name_en": "Real Exchange Rate",
      "name_ru": "Реальный обменный курс",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "\\text{Real Exchange Rate}_{d/f} = S_{d/f} \\times \\frac{P_f}{P_d}",
      "description": "Exchange rate adjusted for relative price levels between countries.",
      "description_ru": "Обменный курс, скорректированный на относительные уровни цен между странами.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Spot rate × (Foreign price ÷ Domestic price)",
      "variables": [
        {
          "symbol": "S_{d/f}",
          "name": "S sub d/f",
          "description": "Spot exchange rate (domestic per foreign) / Спотовый курс"
        },
        {
          "symbol": "P_f",
          "name": "P sub f",
          "description": "Foreign price level / Уровень цен за рубежом"
        },
        {
          "symbol": "P_d",
          "name": "P sub d",
          "description": "Domestic price level / Уровень внутренних цен"
        }
      ],
      "example": "S=1.20 USD/EUR, Pf=100, Pd=110: Real rate = 1.20×(100/110) = 1.09"
    },
    {
      "id": "EC-FX-002",
      "name_en": "Percentage Change in Real Exchange Rate",
      "name_ru": "Процентное изменение реального обменного курса",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "\\frac{(1 + \\frac{\\Delta S_{d/f}}{S_{d/f}}) \\times (1 + \\frac{\\Delta P_f}{P_f})}{(1 + \\frac{\\Delta P_d}{P_d})}",
      "description": "Change in real exchange rate accounting for nominal rate and inflation changes.",
      "description_ru": "Изменение реального обменного курса с учётом изменений номинального курса и инфляции.",
      "calculator_category": "complex",
      "calculator_template": null,
      "calculator_note": "(1+ΔS/S) × (1+ΔPf/Pf) ÷ (1+ΔPd/Pd)",
      "variables": [
        {
          "symbol": "\\Delta S_{d/f}",
          "name": "Delta S",
          "description": "Change in spot rate / Изменение спотового курса"
        },
        {
          "symbol": "\\Delta P_f",
          "name": "Delta P sub f",
          "description": "Change in foreign price level / Изменение уровня цен за рубежом"
        },
        {
          "symbol": "\\Delta P_d",
          "name": "Delta P sub d",
          "description": "Change in domestic price level / Изменение уровня внутренних цен"
        }
      ],
      "example": "ΔS/S=5%, ΔPf/Pf=2%, ΔPd/Pd=3%: (1.05×1.02)/1.03 = 1.04 (4% appreciation)"
    },
    {
      "id": "EC-FX-003",
      "name_en": "Trade Balance and Savings-Investment",
      "name_ru": "Торговый баланс и сбережения-инвестиции",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "(S - I) = (G - T) + (X - M)",
      "description": "Links private savings-investment balance to fiscal and trade balances.",
      "description_ru": "Связывает баланс частных сбережений-инвестиций с фискальным и торговым балансами.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Private balance = Fiscal balance + Trade balance",
      "variables": [
        {
          "symbol": "S - I",
          "name": "S minus I",
          "description": "Excess of private saving over domestic investment / Превышение частных сбережений над инвестициями"
        },
        {
          "symbol": "G - T",
          "name": "G minus T",
          "description": "Fiscal balance (deficit if positive) / Фискальный баланс"
        },
        {
          "symbol": "X - M",
          "name": "X minus M",
          "description": "Trade balance (exports minus imports) / Торговый баланс"
        }
      ],
      "example": "If (S-I)=$100B and (G-T)=$80B deficit, then (X-M)=$20B surplus"
    },
    {
      "id": "EC-FX-004",
      "name_en": "Cross Rates",
      "name_ru": "Кросс-курсы",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "\\frac{X}{Y} \\times \\frac{Y}{Z} = \\frac{X}{Z}",
      "description": "Calculating exchange rate between two currencies using a common third currency.",
      "description_ru": "Расчёт обменного курса между двумя валютами через общую третью валюту.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(X/Y) × (Y/Z) = X/Z",
      "variables": [
        {
          "symbol": "X, Y, Z",
          "name": "X, Y, Z",
          "description": "Exchange rates / Обменные курсы"
        }
      ],
      "example": "USD/EUR=1.10, EUR/GBP=0.85: USD/GBP = 1.10×0.85 = 0.935"
    },
    {
      "id": "EC-FX-005",
      "name_en": "Forward Rate",
      "name_ru": "Форвардный курс",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "F_{f/d} = S_{f/d} \\times \\frac{1 + r_f}{1 + r_d}",
      "description": "Forward exchange rate based on interest rate parity.",
      "description_ru": "Форвардный обменный курс на основе паритета процентных ставок.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Spot × (1+rf) ÷ (1+rd)",
      "variables": [
        {
          "symbol": "F_{f/d}",
          "name": "F sub f/d",
          "description": "Forward rate / Форвардный курс"
        },
        {
          "symbol": "S_{f/d}",
          "name": "S sub f/d",
          "description": "Spot rate / Спотовый курс"
        },
        {
          "symbol": "r_f",
          "name": "r sub f",
          "description": "Foreign interest rate / Иностранная процентная ставка"
        },
        {
          "symbol": "r_d",
          "name": "r sub d",
          "description": "Domestic interest rate / Внутренняя процентная ставка"
        }
      ],
      "example": "S=0.80 EUR/USD, rf=3%, rd=5%: F = 0.80×(1.03/1.05) = 0.785"
    },
    {
      "id": "EC-FX-006",
      "name_en": "Forward Rate (Fractional Period)",
      "name_ru": "Форвардный курс (дробный период)",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "F_{f/d} = S_{f/d} \\times \\frac{1 + r_f \\tau}{1 + r_d \\tau}",
      "description": "Forward rate calculation for periods less than one year.",
      "description_ru": "Расчёт форвардного курса для периодов менее одного года.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Spot × (1+rf×τ) ÷ (1+rd×τ)",
      "variables": [
        {
          "symbol": "F_{f/d}",
          "name": "F sub f/d",
          "description": "Forward rate / Форвардный курс"
        },
        {
          "symbol": "S_{f/d}",
          "name": "S sub f/d",
          "description": "Spot rate / Спотовый курс"
        },
        {
          "symbol": "r_f",
          "name": "r sub f",
          "description": "Foreign interest rate (annual) / Иностранная ставка (годовая)"
        },
        {
          "symbol": "r_d",
          "name": "r sub d",
          "description": "Domestic interest rate (annual) / Внутренняя ставка (годовая)"
        },
        {
          "symbol": "\\tau",
          "name": "tau",
          "description": "Investment horizon (fraction of year) / Горизонт инвестирования"
        }
      ],
      "example": "S=0.80, rf=3%, rd=5%, τ=0.5 (6 months): F = 0.80×(1.015/1.025) = 0.792"
    },
    {
      "id": "EC-FX-007",
      "name_en": "Forward Discount or Premium",
      "name_ru": "Форвардный дисконт или премия",
      "book_id": 2,
      "category": "Foreign Exchange",
      "formula": "F_{f/d} - S_{f/d} = S_{f/d} \\times \\frac{(r_f - r_d)}{1 + r_d \\tau} \\times \\tau",
      "description": "The difference between forward and spot rates, indicating premium or discount.",
      "description_ru": "Разница между форвардным и спотовым курсами, указывающая на премию или дисконт.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Spot × (rf-rd)/(1+rd×τ) × τ",
      "variables": [
        {
          "symbol": "F_{f/d} - S_{f/d}",
          "name": "Forward minus Spot",
          "description": "Forward points / Форвардные пункты"
        },
        {
          "symbol": "r_f - r_d",
          "name": "rf minus rd",
          "description": "Interest rate differential / Разница процентных ставок"
        },
        {
          "symbol": "\\tau",
          "name": "tau",
          "description": "Investment horizon / Горизонт инвестирования"
        }
      ],
      "example": "If rf > rd, forward trades at premium (F > S)"
    },
    {
      "id": "PM-PERF-001",
      "name_en": "M² (Risk-Adjusted Performance)",
      "name_ru": "M² (доходность с поправкой на риск)",
      "book_id": 4,
      "category": "Portfolio Performance",
      "formula": "M^2 = [E(R_p) - R_f] \\times \\frac{\\sigma_m}{\\sigma_p} + R_f",
      "description": "Measures portfolio return adjusted to the same risk level as the market.",
      "description_ru": "Измеряет доходность портфеля, скорректированную до того же уровня риска, что и рынок.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "[E(Rp) - Rf] × (σm ÷ σp) + Rf",
      "variables": [
        {"symbol": "M^2", "name": "M squared", "description": "Risk-adjusted performance / Доходность с поправкой на риск"},
        {"symbol": "E(R_p)", "name": "E of R sub p", "description": "Expected portfolio return / Ожидаемая доходность портфеля"},
        {"symbol": "R_f", "name": "R sub f", "description": "Risk-free rate / Безрисковая ставка"},
        {"symbol": "\\sigma_p", "name": "sigma sub p", "description": "Portfolio standard deviation / Стандартное отклонение портфеля"},
        {"symbol": "\\sigma_m", "name": "sigma sub m", "description": "Market standard deviation / Стандартное отклонение рынка"}
      ],
      "example": "E(Rp)=12%, Rf=3%, σp=20%, σm=15%: M² = (12-3)×(15/20)+3 = 9.75%"
    },
    {
      "id": "PM-PERF-002",
      "name_en": "Treynor Ratio",
      "name_ru": "Коэффициент Трейнора",
      "book_id": 4,
      "category": "Portfolio Performance",
      "formula": "TR = \\frac{E(R_p) - R_f}{\\beta_p}",
      "description": "Measures excess return per unit of systematic risk (beta).",
      "description_ru": "Измеряет избыточную доходность на единицу систематического риска (бета).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "[E(Rp) - Rf] ÷ βp",
      "variables": [
        {"symbol": "TR", "name": "TR", "description": "Treynor Ratio / Коэффициент Трейнора"},
        {"symbol": "E(R_p)", "name": "E of R sub p", "description": "Expected portfolio return / Ожидаемая доходность портфеля"},
        {"symbol": "R_f", "name": "R sub f", "description": "Risk-free rate / Безрисковая ставка"},
        {"symbol": "\\beta_p", "name": "beta sub p", "description": "Portfolio beta / Бета портфеля"}
      ],
      "example": "E(Rp)=12%, Rf=3%, βp=1.2: TR = (12-3)/1.2 = 7.5%"
    },
    {
      "id": "PM-PERF-003",
      "name_en": "Jensen's Alpha",
      "name_ru": "Альфа Дженсена",
      "book_id": 4,
      "category": "Portfolio Performance",
      "formula": "\\alpha_p = R_p - [R_f + \\beta_p(E(R_m) - R_f)]",
      "description": "Measures portfolio's excess return over CAPM-predicted return. Positive alpha = outperformance.",
      "description_ru": "Измеряет избыточную доходность портфеля над доходностью по CAPM. Положительная альфа = опережение рынка.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Rp - [Rf + βp×(Rm - Rf)]",
      "variables": [
        {"symbol": "\\alpha_p", "name": "alpha sub p", "description": "Jensen's Alpha / Альфа Дженсена"},
        {"symbol": "R_p", "name": "R sub p", "description": "Portfolio return / Доходность портфеля"},
        {"symbol": "R_f", "name": "R sub f", "description": "Risk-free rate / Безрисковая ставка"},
        {"symbol": "\\beta_p", "name": "beta sub p", "description": "Portfolio beta / Бета портфеля"},
        {"symbol": "E(R_m)", "name": "E of R sub m", "description": "Expected market return / Ожидаемая рыночная доходность"}
      ],
      "example": "Rp=14%, Rf=3%, βp=1.2, Rm=10%: α = 14 - [3+1.2×(10-3)] = 14-11.4 = 2.6%"
    },
    {
      "id": "FRA-EPS-001",
      "name_en": "Basic EPS",
      "name_ru": "Базовая прибыль на акцию",
      "book_id": 3,
      "category": "Financial Reporting",
      "formula": "\\text{Basic EPS} = \\frac{\\text{Net Income} - \\text{Preferred Dividends}}{\\text{Weighted Average Shares Outstanding}}",
      "description": "Earnings available to common shareholders per share.",
      "description_ru": "Прибыль, доступная держателям обыкновенных акций, на одну акцию.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(NI - Pref Div) ÷ Weighted Avg Shares",
      "variables": [
        {"symbol": "\\text{EPS}", "name": "EPS", "description": "Earnings Per Share / Прибыль на акцию"},
        {"symbol": "\\text{Net Income}", "name": "Net Income", "description": "Net income / Чистая прибыль"},
        {"symbol": "\\text{Preferred Dividends}", "name": "Preferred Dividends", "description": "Dividends to preferred shareholders / Дивиденды привилегированным акционерам"}
      ],
      "example": "NI=$10M, Pref Div=$1M, Shares=4.5M: EPS = (10-1)/4.5 = $2.00"
    },
    {
      "id": "FRA-CF-001",
      "name_en": "Cash Received from Customers",
      "name_ru": "Денежные поступления от клиентов",
      "book_id": 3,
      "category": "Cash Flow",
      "formula": "\\text{Cash from Customers} = \\text{Revenue} - \\Delta\\text{Accounts Receivable}",
      "description": "Converts accrual revenue to cash basis.",
      "description_ru": "Преобразует выручку по методу начисления в денежную основу.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Revenue - Increase in AR (or + Decrease in AR)",
      "variables": [
        {"symbol": "\\text{Revenue}", "name": "Revenue", "description": "Accrual revenue / Выручка по начислению"},
        {"symbol": "\\Delta\\text{AR}", "name": "Delta AR", "description": "Change in Accounts Receivable / Изменение дебиторской задолженности"}
      ],
      "example": "Revenue=$100M, AR increased $5M: Cash = 100-5 = $95M"
    },
    {
      "id": "FRA-CF-002",
      "name_en": "Cash Paid to Suppliers",
      "name_ru": "Денежные выплаты поставщикам",
      "book_id": 3,
      "category": "Cash Flow",
      "formula": "\\text{Cash to Suppliers} = \\text{COGS} + \\Delta\\text{Inventory} - \\Delta\\text{Accounts Payable}",
      "description": "Converts COGS to cash paid to suppliers.",
      "description_ru": "Преобразует себестоимость в денежные выплаты поставщикам.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "COGS + ΔInventory - ΔAP",
      "variables": [
        {"symbol": "\\text{COGS}", "name": "COGS", "description": "Cost of Goods Sold / Себестоимость"},
        {"symbol": "\\Delta\\text{Inventory}", "name": "Delta Inventory", "description": "Change in inventory / Изменение запасов"},
        {"symbol": "\\Delta\\text{AP}", "name": "Delta AP", "description": "Change in Accounts Payable / Изменение кредиторской задолженности"}
      ],
      "example": "COGS=$60M, Inv+$3M, AP+$2M: Cash = 60+3-2 = $61M"
    },
    {
      "id": "FRA-CF-003",
      "name_en": "Free Cash Flow to Firm (FCFF)",
      "name_ru": "Свободный денежный поток фирмы (FCFF)",
      "book_id": 3,
      "category": "Cash Flow",
      "formula": "FCFF = NI + NCC + Int(1-t) - FCInv - WCInv",
      "description": "Cash available to all capital providers (debt and equity).",
      "description_ru": "Денежные средства, доступные всем поставщикам капитала (долг и собственный капитал).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "NI + Depreciation + Interest×(1-t) - CapEx - ΔWC",
      "variables": [
        {"symbol": "NI", "name": "NI", "description": "Net Income / Чистая прибыль"},
        {"symbol": "NCC", "name": "NCC", "description": "Non-cash charges (depreciation) / Неденежные расходы"},
        {"symbol": "Int", "name": "Int", "description": "Interest expense / Процентные расходы"},
        {"symbol": "t", "name": "t", "description": "Tax rate / Ставка налога"},
        {"symbol": "FCInv", "name": "FCInv", "description": "Fixed capital investment / Капитальные затраты"},
        {"symbol": "WCInv", "name": "WCInv", "description": "Working capital investment / Инвестиции в оборотный капитал"}
      ],
      "example": "NI=$50M, Depr=$10M, Int=$5M, t=30%, CapEx=$15M, ΔWC=$3M: FCFF=50+10+5×0.7-15-3=$45.5M"
    },
    {
      "id": "FRA-CF-004",
      "name_en": "Free Cash Flow to Equity (FCFE)",
      "name_ru": "Свободный денежный поток на собственный капитал (FCFE)",
      "book_id": 3,
      "category": "Cash Flow",
      "formula": "FCFE = CFO - FCInv + \\text{Net Borrowing}",
      "description": "Cash available to common shareholders after all obligations.",
      "description_ru": "Денежные средства, доступные держателям обыкновенных акций после всех обязательств.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "CFO - CapEx + Net Borrowing",
      "variables": [
        {"symbol": "CFO", "name": "CFO", "description": "Cash Flow from Operations / Операционный денежный поток"},
        {"symbol": "FCInv", "name": "FCInv", "description": "Fixed capital investment / Капитальные затраты"},
        {"symbol": "\\text{Net Borrowing}", "name": "Net Borrowing", "description": "New debt - Debt repayment / Новый долг - Погашение долга"}
      ],
      "example": "CFO=$60M, CapEx=$20M, Net Borrowing=$5M: FCFE=60-20+5=$45M"
    },
    {
      "id": "FRA-RATIO-001",
      "name_en": "Gross Profit Margin",
      "name_ru": "Валовая маржа",
      "book_id": 3,
      "category": "Profitability Ratios",
      "formula": "\\text{Gross Profit Margin} = \\frac{\\text{Gross Profit}}{\\text{Revenue}}",
      "description": "Percentage of revenue remaining after COGS.",
      "description_ru": "Процент выручки, остающийся после себестоимости.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Gross Profit ÷ Revenue",
      "variables": [
        {"symbol": "\\text{Gross Profit}", "name": "Gross Profit", "description": "Revenue - COGS / Валовая прибыль"},
        {"symbol": "\\text{Revenue}", "name": "Revenue", "description": "Total revenue / Выручка"}
      ],
      "example": "GP=$40M, Revenue=$100M: Margin = 40/100 = 40%"
    },
    {
      "id": "FRA-RATIO-002",
      "name_en": "Operating Profit Margin",
      "name_ru": "Операционная маржа",
      "book_id": 3,
      "category": "Profitability Ratios",
      "formula": "\\text{Operating Profit Margin} = \\frac{EBIT}{\\text{Revenue}}",
      "description": "Percentage of revenue remaining after operating expenses.",
      "description_ru": "Процент выручки, остающийся после операционных расходов.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "EBIT ÷ Revenue",
      "variables": [
        {"symbol": "EBIT", "name": "EBIT", "description": "Earnings Before Interest and Taxes / Прибыль до процентов и налогов"},
        {"symbol": "\\text{Revenue}", "name": "Revenue", "description": "Total revenue / Выручка"}
      ],
      "example": "EBIT=$25M, Revenue=$100M: Margin = 25%"
    },
    {
      "id": "FRA-RATIO-003",
      "name_en": "Net Profit Margin",
      "name_ru": "Чистая маржа",
      "book_id": 3,
      "category": "Profitability Ratios",
      "formula": "\\text{Net Profit Margin} = \\frac{\\text{Net Income}}{\\text{Revenue}}",
      "description": "Percentage of revenue that becomes profit.",
      "description_ru": "Процент выручки, который становится прибылью.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "NI ÷ Revenue",
      "variables": [
        {"symbol": "\\text{Net Income}", "name": "Net Income", "description": "Net income / Чистая прибыль"},
        {"symbol": "\\text{Revenue}", "name": "Revenue", "description": "Total revenue / Выручка"}
      ],
      "example": "NI=$15M, Revenue=$100M: Margin = 15%"
    },
    {
      "id": "FRA-RATIO-004",
      "name_en": "Return on Assets (ROA)",
      "name_ru": "Рентабельность активов (ROA)",
      "book_id": 3,
      "category": "Profitability Ratios",
      "formula": "ROA = \\frac{\\text{Net Income}}{\\text{Average Total Assets}}",
      "description": "Measures how efficiently assets generate profit.",
      "description_ru": "Измеряет, насколько эффективно активы генерируют прибыль.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "NI ÷ Avg Total Assets",
      "variables": [
        {"symbol": "\\text{Net Income}", "name": "Net Income", "description": "Net income / Чистая прибыль"},
        {"symbol": "\\text{Avg Total Assets}", "name": "Avg Total Assets", "description": "Average total assets / Средние совокупные активы"}
      ],
      "example": "NI=$15M, Avg Assets=$150M: ROA = 10%"
    },
    {
      "id": "FRA-RATIO-005",
      "name_en": "Return on Equity (ROE)",
      "name_ru": "Рентабельность собственного капитала (ROE)",
      "book_id": 3,
      "category": "Profitability Ratios",
      "formula": "ROE = \\frac{\\text{Net Income}}{\\text{Average Shareholders' Equity}}",
      "description": "Measures return generated on shareholders' investment.",
      "description_ru": "Измеряет доходность, генерируемую на инвестиции акционеров.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "NI ÷ Avg Equity",
      "variables": [
        {"symbol": "\\text{Net Income}", "name": "Net Income", "description": "Net income / Чистая прибыль"},
        {"symbol": "\\text{Avg Equity}", "name": "Avg Equity", "description": "Average shareholders' equity / Средний собственный капитал"}
      ],
      "example": "NI=$15M, Avg Equity=$75M: ROE = 20%"
    },
    {
      "id": "FRA-RATIO-006",
      "name_en": "Current Ratio",
      "name_ru": "Коэффициент текущей ликвидности",
      "book_id": 3,
      "category": "Liquidity Ratios",
      "formula": "\\text{Current Ratio} = \\frac{\\text{Current Assets}}{\\text{Current Liabilities}}",
      "description": "Measures ability to pay short-term obligations.",
      "description_ru": "Измеряет способность погашать краткосрочные обязательства.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "CA ÷ CL",
      "variables": [
        {"symbol": "\\text{CA}", "name": "CA", "description": "Current Assets / Оборотные активы"},
        {"symbol": "\\text{CL}", "name": "CL", "description": "Current Liabilities / Краткосрочные обязательства"}
      ],
      "example": "CA=$50M, CL=$25M: Current Ratio = 2.0x"
    },
    {
      "id": "FRA-RATIO-007",
      "name_en": "Quick Ratio",
      "name_ru": "Коэффициент быстрой ликвидности",
      "book_id": 3,
      "category": "Liquidity Ratios",
      "formula": "\\text{Quick Ratio} = \\frac{\\text{Cash} + \\text{Marketable Securities} + \\text{Receivables}}{\\text{Current Liabilities}}",
      "description": "Measures ability to pay short-term obligations with most liquid assets.",
      "description_ru": "Измеряет способность погашать краткосрочные обязательства наиболее ликвидными активами.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(Cash + Securities + AR) ÷ CL",
      "variables": [
        {"symbol": "\\text{Cash}", "name": "Cash", "description": "Cash and equivalents / Денежные средства"},
        {"symbol": "\\text{Receivables}", "name": "Receivables", "description": "Accounts receivable / Дебиторская задолженность"},
        {"symbol": "\\text{CL}", "name": "CL", "description": "Current Liabilities / Краткосрочные обязательства"}
      ],
      "example": "Cash=$10M, Securities=$5M, AR=$15M, CL=$25M: Quick = 1.2x"
    },
    {
      "id": "FRA-RATIO-008",
      "name_en": "Cash Conversion Cycle",
      "name_ru": "Цикл конверсии денежных средств",
      "book_id": 3,
      "category": "Activity Ratios",
      "formula": "CCC = DOH + DSO - DPO",
      "description": "Days to convert inventory investment into cash.",
      "description_ru": "Дни для конвертации инвестиций в запасы в денежные средства.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Days Inventory + Days Receivables - Days Payables",
      "variables": [
        {"symbol": "DOH", "name": "DOH", "description": "Days of Inventory on Hand / Дни запасов"},
        {"symbol": "DSO", "name": "DSO", "description": "Days Sales Outstanding / Дни дебиторской задолженности"},
        {"symbol": "DPO", "name": "DPO", "description": "Days Payables Outstanding / Дни кредиторской задолженности"}
      ],
      "example": "DOH=45, DSO=30, DPO=40: CCC = 45+30-40 = 35 days"
    },
    {
      "id": "FRA-RATIO-009",
      "name_en": "Inventory Turnover",
      "name_ru": "Оборачиваемость запасов",
      "book_id": 3,
      "category": "Activity Ratios",
      "formula": "\\text{Inventory Turnover} = \\frac{COGS}{\\text{Average Inventory}}",
      "description": "How many times inventory is sold and replaced per period.",
      "description_ru": "Сколько раз запасы продаются и заменяются за период.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "COGS ÷ Avg Inventory",
      "variables": [
        {"symbol": "COGS", "name": "COGS", "description": "Cost of Goods Sold / Себестоимость"},
        {"symbol": "\\text{Avg Inventory}", "name": "Avg Inventory", "description": "Average inventory / Средние запасы"}
      ],
      "example": "COGS=$60M, Avg Inv=$10M: Turnover = 6.0x"
    },
    {
      "id": "FRA-RATIO-010",
      "name_en": "Receivables Turnover",
      "name_ru": "Оборачиваемость дебиторской задолженности",
      "book_id": 3,
      "category": "Activity Ratios",
      "formula": "\\text{Receivables Turnover} = \\frac{\\text{Revenue}}{\\text{Average Receivables}}",
      "description": "How quickly receivables are collected.",
      "description_ru": "Как быстро собирается дебиторская задолженность.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Revenue ÷ Avg AR",
      "variables": [
        {"symbol": "\\text{Revenue}", "name": "Revenue", "description": "Annual revenue / Годовая выручка"},
        {"symbol": "\\text{Avg AR}", "name": "Avg AR", "description": "Average accounts receivable / Средняя дебиторская задолженность"}
      ],
      "example": "Revenue=$100M, Avg AR=$8.33M: Turnover = 12x (DSO=30 days)"
    },
    {
      "id": "FRA-RATIO-011",
      "name_en": "Debt-to-Equity Ratio",
      "name_ru": "Коэффициент долга к собственному капиталу",
      "book_id": 3,
      "category": "Solvency Ratios",
      "formula": "\\text{Debt-to-Equity} = \\frac{\\text{Total Debt}}{\\text{Total Equity}}",
      "description": "Measures financial leverage.",
      "description_ru": "Измеряет финансовый леверидж.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Total Debt ÷ Total Equity",
      "variables": [
        {"symbol": "\\text{Total Debt}", "name": "Total Debt", "description": "Total debt / Общий долг"},
        {"symbol": "\\text{Total Equity}", "name": "Total Equity", "description": "Total shareholders' equity / Общий собственный капитал"}
      ],
      "example": "Debt=$40M, Equity=$60M: D/E = 0.67x"
    },
    {
      "id": "FRA-RATIO-012",
      "name_en": "Interest Coverage Ratio",
      "name_ru": "Коэффициент покрытия процентов",
      "book_id": 3,
      "category": "Solvency Ratios",
      "formula": "\\text{Interest Coverage} = \\frac{EBIT}{\\text{Interest Expense}}",
      "description": "Ability to pay interest on debt.",
      "description_ru": "Способность выплачивать проценты по долгу.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "EBIT ÷ Interest Expense",
      "variables": [
        {"symbol": "EBIT", "name": "EBIT", "description": "Earnings Before Interest and Taxes / EBIT"},
        {"symbol": "\\text{Interest}", "name": "Interest", "description": "Interest expense / Процентные расходы"}
      ],
      "example": "EBIT=$25M, Interest=$5M: Coverage = 5.0x"
    },
    {
      "id": "FRA-DUPONT-001",
      "name_en": "DuPont 3-Component",
      "name_ru": "Трёхкомпонентная модель DuPont",
      "book_id": 3,
      "category": "DuPont Analysis",
      "formula": "ROE = \\frac{NI}{Revenue} \\times \\frac{Revenue}{Assets} \\times \\frac{Assets}{Equity}",
      "description": "Decomposes ROE into profit margin, asset turnover, and leverage.",
      "description_ru": "Разлагает ROE на маржу прибыли, оборачиваемость активов и леверидж.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Net Profit Margin × Asset Turnover × Leverage",
      "variables": [
        {"symbol": "\\text{Net Profit Margin}", "name": "NPM", "description": "NI/Revenue / Чистая маржа"},
        {"symbol": "\\text{Asset Turnover}", "name": "AT", "description": "Revenue/Assets / Оборачиваемость активов"},
        {"symbol": "\\text{Leverage}", "name": "Leverage", "description": "Assets/Equity / Леверидж"}
      ],
      "example": "NPM=15%, AT=0.67x, Leverage=2x: ROE = 0.15×0.67×2 = 20%"
    },
    {
      "id": "FRA-DUPONT-002",
      "name_en": "DuPont 5-Component (Extended)",
      "name_ru": "Пятикомпонентная модель DuPont (расширенная)",
      "book_id": 3,
      "category": "DuPont Analysis",
      "formula": "ROE = \\frac{NI}{EBT} \\times \\frac{EBT}{EBIT} \\times \\frac{EBIT}{Rev} \\times \\frac{Rev}{Assets} \\times \\frac{Assets}{Equity}",
      "description": "Decomposes ROE into tax burden, interest burden, EBIT margin, turnover, and leverage.",
      "description_ru": "Разлагает ROE на налоговое бремя, процентное бремя, маржу EBIT, оборачиваемость и леверидж.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Tax burden × Interest burden × EBIT margin × Turnover × Leverage",
      "variables": [
        {"symbol": "\\frac{NI}{EBT}", "name": "Tax Burden", "description": "Tax burden (1-t) / Налоговое бремя"},
        {"symbol": "\\frac{EBT}{EBIT}", "name": "Interest Burden", "description": "Interest burden / Процентное бремя"},
        {"symbol": "\\frac{EBIT}{Rev}", "name": "EBIT Margin", "description": "Operating margin / Операционная маржа"},
        {"symbol": "\\frac{Rev}{Assets}", "name": "Turnover", "description": "Asset turnover / Оборачиваемость"},
        {"symbol": "\\frac{Assets}{Equity}", "name": "Leverage", "description": "Financial leverage / Леверидж"}
      ],
      "example": "Tax=0.75, Int=0.9, EBIT%=20%, Turn=0.8, Lev=1.5: ROE=0.75×0.9×0.2×0.8×1.5=16.2%"
    },
    {
      "id": "CF-COST-001",
      "name_en": "Weighted Average Cost of Capital (WACC)",
      "name_ru": "Средневзвешенная стоимость капитала (WACC)",
      "book_id": 9,
      "category": "Cost of Capital",
      "formula": "WACC = w_d r_d (1-t) + w_e r_e",
      "description": "The overall required rate of return for a company, weighted by capital structure.",
      "description_ru": "Общая требуемая норма доходности компании, взвешенная по структуре капитала.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "wd×rd×(1-t) + we×re",
      "variables": [
        {"symbol": "w_d", "name": "w sub d", "description": "Weight of debt / Доля долга"},
        {"symbol": "r_d", "name": "r sub d", "description": "Cost of debt (pre-tax) / Стоимость долга (до налогов)"},
        {"symbol": "t", "name": "t", "description": "Tax rate / Ставка налога"},
        {"symbol": "w_e", "name": "w sub e", "description": "Weight of equity / Доля собственного капитала"},
        {"symbol": "r_e", "name": "r sub e", "description": "Cost of equity / Стоимость собственного капитала"}
      ],
      "example": "wd=40%, rd=6%, t=25%, we=60%, re=12%: WACC = 0.4×6%×0.75 + 0.6×12% = 9%"
    },
    {
      "id": "CF-COST-002",
      "name_en": "CAPM (Cost of Equity)",
      "name_ru": "CAPM (стоимость собственного капитала)",
      "book_id": 9,
      "category": "Cost of Capital",
      "formula": "r_e = R_f + \\beta [E(R_m) - R_f]",
      "description": "Cost of equity using the Capital Asset Pricing Model.",
      "description_ru": "Стоимость собственного капитала по модели CAPM.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Rf + β × (Rm - Rf)",
      "variables": [
        {"symbol": "r_e", "name": "r sub e", "description": "Cost of equity / Стоимость собственного капитала"},
        {"symbol": "R_f", "name": "R sub f", "description": "Risk-free rate / Безрисковая ставка"},
        {"symbol": "\\beta", "name": "beta", "description": "Equity beta / Бета акции"},
        {"symbol": "E(R_m)", "name": "E of R sub m", "description": "Expected market return / Ожидаемая рыночная доходность"}
      ],
      "example": "Rf=3%, β=1.2, Rm=10%: re = 3% + 1.2×(10%-3%) = 11.4%"
    },
    {
      "id": "CF-COST-003",
      "name_en": "Sustainable Growth Rate",
      "name_ru": "Устойчивый темп роста",
      "book_id": 9,
      "category": "Cost of Capital",
      "formula": "g = b \\times ROE",
      "description": "Maximum growth rate without external equity financing.",
      "description_ru": "Максимальный темп роста без внешнего долевого финансирования.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Retention rate × ROE",
      "variables": [
        {"symbol": "g", "name": "g", "description": "Sustainable growth rate / Устойчивый темп роста"},
        {"symbol": "b", "name": "b", "description": "Retention rate (1 - payout) / Коэффициент реинвестирования"},
        {"symbol": "ROE", "name": "ROE", "description": "Return on Equity / Рентабельность собственного капитала"}
      ],
      "example": "b=60%, ROE=15%: g = 0.6×15% = 9%"
    },
    {
      "id": "CF-MM-001",
      "name_en": "MM Proposition I (No Taxes)",
      "name_ru": "ММ Теорема I (без налогов)",
      "book_id": 9,
      "category": "Capital Structure",
      "formula": "V_L = V_U",
      "description": "In a world without taxes, firm value is independent of capital structure.",
      "description_ru": "В мире без налогов стоимость фирмы не зависит от структуры капитала.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Levered firm value = Unlevered firm value",
      "variables": [
        {"symbol": "V_L", "name": "V sub L", "description": "Value of levered firm / Стоимость фирмы с долгом"},
        {"symbol": "V_U", "name": "V sub U", "description": "Value of unlevered firm / Стоимость фирмы без долга"}
      ],
      "example": "If VU=$100M, then VL=$100M (no tax benefit from debt)"
    },
    {
      "id": "CF-MM-002",
      "name_en": "MM Proposition II (No Taxes)",
      "name_ru": "ММ Теорема II (без налогов)",
      "book_id": 9,
      "category": "Capital Structure",
      "formula": "r_e = r_0 + (r_0 - r_d) \\frac{D}{E}",
      "description": "Cost of equity increases linearly with leverage (no taxes).",
      "description_ru": "Стоимость собственного капитала линейно растёт с левериджем (без налогов).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "r0 + (r0 - rd) × D/E",
      "variables": [
        {"symbol": "r_e", "name": "r sub e", "description": "Cost of equity / Стоимость собственного капитала"},
        {"symbol": "r_0", "name": "r sub 0", "description": "Unlevered cost of capital / Стоимость капитала без долга"},
        {"symbol": "r_d", "name": "r sub d", "description": "Cost of debt / Стоимость долга"},
        {"symbol": "D/E", "name": "D over E", "description": "Debt-to-equity ratio / Соотношение долга к капиталу"}
      ],
      "example": "r0=10%, rd=5%, D/E=0.5: re = 10% + (10%-5%)×0.5 = 12.5%"
    },
    {
      "id": "CF-MM-003",
      "name_en": "MM Proposition I (With Taxes)",
      "name_ru": "ММ Теорема I (с налогами)",
      "book_id": 9,
      "category": "Capital Structure",
      "formula": "V_L = V_U + tD",
      "description": "Firm value increases by tax shield on debt.",
      "description_ru": "Стоимость фирмы увеличивается на величину налогового щита по долгу.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "VU + (tax rate × Debt)",
      "variables": [
        {"symbol": "V_L", "name": "V sub L", "description": "Value of levered firm / Стоимость фирмы с долгом"},
        {"symbol": "V_U", "name": "V sub U", "description": "Value of unlevered firm / Стоимость фирмы без долга"},
        {"symbol": "t", "name": "t", "description": "Tax rate / Ставка налога"},
        {"symbol": "D", "name": "D", "description": "Market value of debt / Рыночная стоимость долга"}
      ],
      "example": "VU=$100M, t=30%, D=$40M: VL = 100 + 0.3×40 = $112M"
    },
    {
      "id": "CF-MM-004",
      "name_en": "MM Proposition II (With Taxes)",
      "name_ru": "ММ Теорема II (с налогами)",
      "book_id": 9,
      "category": "Capital Structure",
      "formula": "r_e = r_0 + (r_0 - r_d)(1-t) \\frac{D}{E}",
      "description": "Cost of equity increases with leverage, but less than without taxes.",
      "description_ru": "Стоимость собственного капитала растёт с левериджем, но меньше чем без налогов.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "r0 + (r0 - rd)×(1-t)×D/E",
      "variables": [
        {"symbol": "r_e", "name": "r sub e", "description": "Cost of equity / Стоимость собственного капитала"},
        {"symbol": "r_0", "name": "r sub 0", "description": "Unlevered cost of capital / Стоимость капитала без долга"},
        {"symbol": "r_d", "name": "r sub d", "description": "Cost of debt / Стоимость долга"},
        {"symbol": "t", "name": "t", "description": "Tax rate / Ставка налога"},
        {"symbol": "D/E", "name": "D over E", "description": "Debt-to-equity ratio / Соотношение долга к капиталу"}
      ],
      "example": "r0=10%, rd=5%, t=30%, D/E=0.5: re = 10% + (10%-5%)×0.7×0.5 = 11.75%"
    },
    {
      "id": "CF-LEV-001",
      "name_en": "Degree of Operating Leverage (DOL)",
      "name_ru": "Степень операционного левериджа (DOL)",
      "book_id": 9,
      "category": "Leverage",
      "formula": "DOL = \\frac{\\%\\Delta EBIT}{\\%\\Delta Sales} = \\frac{Q(P-V)}{Q(P-V)-F}",
      "description": "Sensitivity of operating income to changes in sales.",
      "description_ru": "Чувствительность операционной прибыли к изменениям выручки.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Contribution Margin ÷ Operating Income",
      "variables": [
        {"symbol": "DOL", "name": "DOL", "description": "Degree of Operating Leverage / Степень операционного левериджа"},
        {"symbol": "Q", "name": "Q", "description": "Quantity sold / Количество продаж"},
        {"symbol": "P", "name": "P", "description": "Price per unit / Цена за единицу"},
        {"symbol": "V", "name": "V", "description": "Variable cost per unit / Переменные затраты на единицу"},
        {"symbol": "F", "name": "F", "description": "Fixed operating costs / Постоянные операционные затраты"}
      ],
      "example": "Q=1000, P=$50, V=$30, F=$10,000: DOL = 20,000/(20,000-10,000) = 2.0x"
    },
    {
      "id": "CF-LEV-002",
      "name_en": "Degree of Financial Leverage (DFL)",
      "name_ru": "Степень финансового левериджа (DFL)",
      "book_id": 9,
      "category": "Leverage",
      "formula": "DFL = \\frac{\\%\\Delta EPS}{\\%\\Delta EBIT} = \\frac{Q(P-V)-F}{Q(P-V)-F-C}",
      "description": "Sensitivity of EPS to changes in operating income.",
      "description_ru": "Чувствительность EPS к изменениям операционной прибыли.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "EBIT ÷ (EBIT - Interest)",
      "variables": [
        {"symbol": "DFL", "name": "DFL", "description": "Degree of Financial Leverage / Степень финансового левериджа"},
        {"symbol": "C", "name": "C", "description": "Interest expense / Процентные расходы"}
      ],
      "example": "EBIT=$10,000, Interest=$2,000: DFL = 10,000/(10,000-2,000) = 1.25x"
    },
    {
      "id": "CF-LEV-003",
      "name_en": "Degree of Total Leverage (DTL)",
      "name_ru": "Степень совокупного левериджа (DTL)",
      "book_id": 9,
      "category": "Leverage",
      "formula": "DTL = DOL \\times DFL",
      "description": "Combined effect of operating and financial leverage on EPS.",
      "description_ru": "Совокупный эффект операционного и финансового левериджа на EPS.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "DOL × DFL",
      "variables": [
        {"symbol": "DTL", "name": "DTL", "description": "Degree of Total Leverage / Степень совокупного левериджа"},
        {"symbol": "DOL", "name": "DOL", "description": "Degree of Operating Leverage / DOL"},
        {"symbol": "DFL", "name": "DFL", "description": "Degree of Financial Leverage / DFL"}
      ],
      "example": "DOL=2.0, DFL=1.25: DTL = 2.0×1.25 = 2.5x (10% sales increase → 25% EPS increase)"
    },
    {
      "id": "CF-LEV-004",
      "name_en": "Breakeven Quantity",
      "name_ru": "Точка безубыточности (количество)",
      "book_id": 9,
      "category": "Leverage",
      "formula": "Q_{BE} = \\frac{F + C}{P - V}",
      "description": "Quantity needed to cover all fixed and interest costs.",
      "description_ru": "Количество, необходимое для покрытия всех постоянных и процентных затрат.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(Fixed costs + Interest) ÷ Contribution margin per unit",
      "variables": [
        {"symbol": "Q_{BE}", "name": "Q sub BE", "description": "Breakeven quantity / Точка безубыточности"},
        {"symbol": "F", "name": "F", "description": "Fixed operating costs / Постоянные затраты"},
        {"symbol": "C", "name": "C", "description": "Interest expense / Процентные расходы"},
        {"symbol": "P", "name": "P", "description": "Price per unit / Цена"},
        {"symbol": "V", "name": "V", "description": "Variable cost per unit / Переменные затраты"}
      ],
      "example": "F=$10,000, C=$2,000, P=$50, V=$30: QBE = 12,000/20 = 600 units"
    },
    {
      "id": "EQ-INDEX-001",
      "name_en": "Price Return of Index",
      "name_ru": "Ценовая доходность индекса",
      "book_id": 5,
      "category": "Equity Indices",
      "formula": "PR_I = \\frac{V_{PRI1} - V_{PRI0}}{V_{PRI0}}",
      "description": "Percentage change in index value (price only, no dividends).",
      "description_ru": "Процентное изменение стоимости индекса (только цена, без дивидендов).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(End value - Begin value) ÷ Begin value",
      "variables": [
        {"symbol": "PR_I", "name": "PR sub I", "description": "Price return of index / Ценовая доходность индекса"},
        {"symbol": "V_{PRI1}", "name": "V sub PRI1", "description": "Index value at end / Значение индекса в конце"},
        {"symbol": "V_{PRI0}", "name": "V sub PRI0", "description": "Index value at beginning / Значение индекса в начале"}
      ],
      "example": "Index: 1000 → 1050: PR = (1050-1000)/1000 = 5%"
    },
    {
      "id": "EQ-INDEX-002",
      "name_en": "Total Return of Index",
      "name_ru": "Полная доходность индекса",
      "book_id": 5,
      "category": "Equity Indices",
      "formula": "TR_I = \\frac{V_{PRI1} - V_{PRI0} + Inc_I}{V_{PRI0}}",
      "description": "Index return including price change and income (dividends).",
      "description_ru": "Доходность индекса, включая изменение цены и доход (дивиденды).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "(End - Begin + Income) ÷ Begin",
      "variables": [
        {"symbol": "TR_I", "name": "TR sub I", "description": "Total return of index / Полная доходность индекса"},
        {"symbol": "Inc_I", "name": "Inc sub I", "description": "Total income (dividends) / Общий доход (дивиденды)"}
      ],
      "example": "Index: 1000→1050, Dividends=20: TR = (1050-1000+20)/1000 = 7%"
    },
    {
      "id": "EQ-INDEX-003",
      "name_en": "Market Cap Weighting",
      "name_ru": "Взвешивание по рыночной капитализации",
      "book_id": 5,
      "category": "Equity Indices",
      "formula": "w_i^M = \\frac{Q_i P_i}{\\sum_{j=1}^{N} Q_j P_j}",
      "description": "Weight based on market capitalization (shares × price).",
      "description_ru": "Вес на основе рыночной капитализации (акции × цена).",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Market cap of i ÷ Total market cap",
      "variables": [
        {"symbol": "w_i^M", "name": "w sub i M", "description": "Market cap weight / Вес по капитализации"},
        {"symbol": "Q_i", "name": "Q sub i", "description": "Shares outstanding / Акции в обращении"},
        {"symbol": "P_i", "name": "P sub i", "description": "Share price / Цена акции"}
      ],
      "example": "Stock A: 10M shares × $50 = $500M. Total=$2B: wA = 500/2000 = 25%"
    },
    {
      "id": "EQ-VAL-001",
      "name_en": "Price-to-Earnings Ratio (P/E)",
      "name_ru": "Коэффициент цена/прибыль (P/E)",
      "book_id": 5,
      "category": "Equity Valuation",
      "formula": "P/E = \\frac{\\text{Market Price per Share}}{\\text{EPS}}",
      "description": "Price paid for each dollar of earnings.",
      "description_ru": "Цена, уплачиваемая за каждый доллар прибыли.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Price ÷ EPS",
      "variables": [
        {"symbol": "P/E", "name": "P over E", "description": "Price-to-Earnings ratio / Коэффициент P/E"},
        {"symbol": "\\text{Price}", "name": "Price", "description": "Market price per share / Рыночная цена акции"},
        {"symbol": "\\text{EPS}", "name": "EPS", "description": "Earnings per share / Прибыль на акцию"}
      ],
      "example": "Price=$60, EPS=$4: P/E = 60/4 = 15x"
    },
    {
      "id": "EQ-VAL-002",
      "name_en": "Price-to-Book Ratio (P/B)",
      "name_ru": "Коэффициент цена/балансовая стоимость (P/B)",
      "book_id": 5,
      "category": "Equity Valuation",
      "formula": "P/B = \\frac{\\text{Market Price per Share}}{\\text{Book Value per Share}}",
      "description": "Price relative to accounting book value.",
      "description_ru": "Цена относительно балансовой стоимости.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Price ÷ (Equity ÷ Shares)",
      "variables": [
        {"symbol": "P/B", "name": "P over B", "description": "Price-to-Book ratio / Коэффициент P/B"},
        {"symbol": "\\text{BV/Share}", "name": "BV per Share", "description": "Book value per share / Балансовая стоимость на акцию"}
      ],
      "example": "Price=$60, BV/share=$30: P/B = 60/30 = 2.0x"
    },
    {
      "id": "EQ-VAL-003",
      "name_en": "Gordon Growth Model (DDM)",
      "name_ru": "Модель Гордона (DDM)",
      "book_id": 5,
      "category": "Equity Valuation",
      "formula": "V_0 = \\frac{D_1}{r - g}",
      "description": "Value of stock with dividends growing at constant rate forever.",
      "description_ru": "Стоимость акции с дивидендами, растущими постоянным темпом бесконечно.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "D1 ÷ (r - g)",
      "variables": [
        {"symbol": "V_0", "name": "V sub 0", "description": "Intrinsic value today / Внутренняя стоимость сегодня"},
        {"symbol": "D_1", "name": "D sub 1", "description": "Expected dividend next year / Ожидаемый дивиденд в следующем году"},
        {"symbol": "r", "name": "r", "description": "Required return / Требуемая доходность"},
        {"symbol": "g", "name": "g", "description": "Dividend growth rate / Темп роста дивидендов"}
      ],
      "example": "D1=$2, r=10%, g=4%: V0 = 2/(0.10-0.04) = $33.33"
    },
    {
      "id": "EQ-VAL-004",
      "name_en": "Justified Forward P/E",
      "name_ru": "Обоснованный форвардный P/E",
      "book_id": 5,
      "category": "Equity Valuation",
      "formula": "\\frac{P_0}{E_1} = \\frac{D_1/E_1}{r - g} = \\frac{p}{r - g}",
      "description": "Fundamental P/E based on payout ratio and growth.",
      "description_ru": "Фундаментальный P/E на основе коэффициента выплат и роста.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Payout ratio ÷ (r - g)",
      "variables": [
        {"symbol": "P_0/E_1", "name": "P over E", "description": "Forward P/E ratio / Форвардный P/E"},
        {"symbol": "p", "name": "p", "description": "Dividend payout ratio / Коэффициент выплаты дивидендов"},
        {"symbol": "r", "name": "r", "description": "Required return / Требуемая доходность"},
        {"symbol": "g", "name": "g", "description": "Growth rate / Темп роста"}
      ],
      "example": "p=40%, r=10%, g=4%: P/E = 0.40/(0.10-0.04) = 6.67x"
    },
    {
      "id": "EQ-VAL-005",
      "name_en": "Enterprise Value (EV)",
      "name_ru": "Стоимость предприятия (EV)",
      "book_id": 5,
      "category": "Equity Valuation",
      "formula": "EV = \\text{MV Equity} + \\text{MV Debt} - \\text{Cash}",
      "description": "Total value of a company available to all investors.",
      "description_ru": "Общая стоимость компании, доступная всем инвесторам.",
      "calculator_category": "none",
      "calculator_template": null,
      "calculator_note": "Market cap + Debt - Cash",
      "variables": [
        {"symbol": "EV", "name": "EV", "description": "Enterprise Value / Стоимость предприятия"},
        {"symbol": "\\text{MV Equity}", "name": "MV Equity", "description": "Market value of equity / Рыночная стоимость капитала"},
        {"symbol": "\\text{MV Debt}", "name": "MV Debt", "description": "Market value of debt / Рыночная стоимость долга"},
        {"symbol": "\\text{Cash}", "name": "Cash", "description": "Cash and equivalents / Денежные средства"}
      ],
      "example": "Equity=$500M, Debt=$200M, Cash=$50M: EV = 500+200-50 = $650M"
    },
    {
      "id": "EQ-VAL-006",
      "name_en": "Multistage DDM",
      "name_ru": "Многоэтапная модель DDM",
      "book_id": 5,
      "category": "Equity Valuation",
      "formula": "V_0 = \\sum_{t=1}^{n} \\frac{D_t}{(1+r)^t} + \\frac{V_n}{(1+r)^n}",
      "description": "Value with different growth rates in different periods.",
      "description_ru": "Стоимость с разными темпами роста в разные периоды.",
      "calculator_category": "worksheet",
      "calculator_template": "CF_NPV",
      "variables": [
        {"symbol": "V_0", "name": "V sub 0", "description": "Intrinsic value today / Внутренняя стоимость"},
        {"symbol": "D_t", "name": "D sub t", "description": "Dividend at time t / Дивиденд в момент t"},
        {"symbol": "V_n", "name": "V sub n", "description": "Terminal value at n / Терминальная стоимость"},
        {"symbol": "r", "name": "r", "description": "Required return / Требуемая доходность"}
      ],
      "example": "High growth (20%) for 3 years, then stable (4%): discount all CFs to present"
    },
    {
    "id": "FI-FRN-001",
    "name_en": "Floating Rate Note Coupon",
    "name_ru": "Купон облигации с плавающей ставкой",
    "book_id": 6,
    "category": "Floating Rate Notes",
    "formula": "\\text{FRN coupon} = \\text{MRR} + \\text{Credit Spread}",
    "description": "Calculates the coupon rate for a floating rate note as the sum of market reference rate and credit spread",
    "description_ru": "Рассчитывает купонную ставку облигации с плавающей ставкой как сумму рыночной референсной ставки и кредитного спреда",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple addition / Простое сложение",
    "variables": [
      {
        "symbol": "MRR",
        "name": "Market Reference Rate",
        "description": "Market reference rate (e.g., SOFR, EURIBOR) / Рыночная референсная ставка"
      },
      {
        "symbol": "Credit Spread",
        "name": "Credit Spread",
        "description": "Additional yield for credit risk / Дополнительная доходность за кредитный риск"
      }
    ],
    "example": "Given: MRR = 3%, Credit Spread = 1.5%: FRN coupon = 3% + 1.5% = 4.5%"
  },
  {
    "id": "FI-CONV-001",
    "name_en": "Conversion Ratio",
    "name_ru": "Коэффициент конвертации",
    "book_id": 6,
    "category": "Convertible Bonds",
    "formula": "\\text{Conversion ratio} = \\frac{\\text{Convertible bond par value}}{\\text{Conversion price}}",
    "description": "Number of shares received upon conversion of a convertible bond",
    "description_ru": "Количество акций, получаемых при конвертации конвертируемой облигации",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple division / Простое деление",
    "variables": [
      {
        "symbol": "Par Value",
        "name": "Convertible Bond Par Value",
        "description": "Face value of the convertible bond / Номинал конвертируемой облигации"
      },
      {
        "symbol": "Conversion Price",
        "name": "Conversion Price",
        "description": "Price per share at which bond converts / Цена за акцию при конвертации"
      }
    ],
    "example": "Given: Par value = $1,000, Conversion price = $50: Conversion ratio = 1000/50 = 20 shares"
  },
  {
    "id": "FI-CONV-002",
    "name_en": "Conversion Value",
    "name_ru": "Конверсионная стоимость",
    "book_id": 6,
    "category": "Convertible Bonds",
    "formula": "\\text{Conversion value} = \\text{Conversion ratio} \\times \\text{Current share price}",
    "description": "Market value of shares received if bond is converted",
    "description_ru": "Рыночная стоимость акций при конвертации облигации",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple multiplication / Простое умножение",
    "variables": [
      {
        "symbol": "Conversion ratio",
        "name": "Conversion Ratio",
        "description": "Number of shares per bond / Количество акций на облигацию"
      },
      {
        "symbol": "Share price",
        "name": "Current Share Price",
        "description": "Current market price of stock / Текущая рыночная цена акции"
      }
    ],
    "example": "Given: Conversion ratio = 20, Share price = $55: Conversion value = 20 × $55 = $1,100"
  },
  {
    "id": "FI-REPO-001",
    "name_en": "Initial Margin (Repo)",
    "name_ru": "Начальная маржа (репо)",
    "book_id": 6,
    "category": "Repo Agreements",
    "formula": "\\text{Initial Margin} = \\frac{\\text{Security price}_{0}}{\\text{Purchase price}_{0}}",
    "description": "Ratio of security value to purchase price in a repo agreement",
    "description_ru": "Отношение стоимости ценной бумаги к цене покупки в сделке репо",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple division / Простое деление",
    "variables": [
      {
        "symbol": "Security price₀",
        "name": "Security Price at T=0",
        "description": "Market value of security at initial transaction / Рыночная стоимость ЦБ в момент сделки"
      },
      {
        "symbol": "Purchase price₀",
        "name": "Purchase Price at T=0",
        "description": "Price agreed to buy security / Согласованная цена покупки"
      }
    ],
    "example": "Given: Security price = $102, Purchase price = $100: Initial Margin = 102/100 = 1.02 or 102%"
  },
  {
    "id": "FI-REPO-002",
    "name_en": "Haircut",
    "name_ru": "Дисконт (haircut)",
    "book_id": 6,
    "category": "Repo Agreements",
    "formula": "\\text{Haircut} = \\frac{\\text{Security price}_{0} - \\text{Purchase price}_{0}}{\\text{Security price}_{0}}",
    "description": "Percentage discount from security value in repo transaction",
    "description_ru": "Процентный дисконт от стоимости ценной бумаги в сделке репо",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate difference, then divide / Вычислить разницу, затем разделить",
    "variables": [
      {
        "symbol": "Security price₀",
        "name": "Security Price",
        "description": "Market value of the security / Рыночная стоимость ЦБ"
      },
      {
        "symbol": "Purchase price₀",
        "name": "Purchase Price",
        "description": "Price paid for the security / Цена покупки ЦБ"
      }
    ],
    "example": "Given: Security price = $102, Purchase price = $100: Haircut = (102-100)/102 = 1.96%"
  },
  {
    "id": "FI-BOND-001",
    "name_en": "Bond Price (Present Value)",
    "name_ru": "Цена облигации (приведённая стоимость)",
    "book_id": 6,
    "category": "Bond Pricing",
    "formula": "PV = \\frac{PMT_{1}}{(1+r)^{1}} + \\frac{PMT_{2}}{(1+r)^{2}} + \\cdots + \\frac{PMT_{N} + FV_{N}}{(1+r)^{N}}",
    "description": "Present value of a coupon bond as sum of discounted cash flows",
    "description_ru": "Приведённая стоимость купонной облигации как сумма дисконтированных денежных потоков",
    "calculator_category": "worksheet",
    "calculator_template": "TVM_PV",
    "calculator_note": "Use TVM worksheet: N=periods, I/Y=rate, PMT=coupon, FV=par, CPT PV",
    "variables": [
      {
        "symbol": "PV",
        "name": "Present Value",
        "description": "Price of the bond / Цена облигации"
      },
      {
        "symbol": "PMT",
        "name": "Coupon Payment",
        "description": "Periodic coupon payment / Периодический купонный платёж"
      },
      {
        "symbol": "r",
        "name": "Discount Rate",
        "description": "Market discount rate per period / Рыночная ставка дисконтирования за период"
      },
      {
        "symbol": "FV",
        "name": "Face Value",
        "description": "Bond's par value at maturity / Номинал облигации"
      },
      {
        "symbol": "N",
        "name": "Number of Periods",
        "description": "Periods to maturity / Количество периодов до погашения"
      }
    ],
    "example": "Given: PMT=$50, r=5%, FV=$1,000, N=3: PV = 50/1.05 + 50/1.05² + 1050/1.05³ = $1,000"
  },
  {
    "id": "FI-BOND-002",
    "name_en": "Full Price (Dirty Price)",
    "name_ru": "Полная цена (грязная цена)",
    "book_id": 6,
    "category": "Bond Pricing",
    "formula": "PV^{full} = PV^{flat} + AI",
    "description": "Full price equals flat price plus accrued interest",
    "description_ru": "Полная цена равна чистой цене плюс накопленный купонный доход",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple addition / Простое сложение",
    "variables": [
      {
        "symbol": "PV^{full}",
        "name": "Full Price",
        "description": "Total price paid (dirty price) / Полная уплаченная цена (грязная)"
      },
      {
        "symbol": "PV^{flat}",
        "name": "Flat Price",
        "description": "Quoted price (clean price) / Котируемая цена (чистая)"
      },
      {
        "symbol": "AI",
        "name": "Accrued Interest",
        "description": "Interest accrued since last coupon / НКД с последнего купона"
      }
    ],
    "example": "Given: Flat price = $980, Accrued interest = $15: Full price = $980 + $15 = $995"
  },
  {
    "id": "FI-BOND-003",
    "name_en": "Accrued Interest",
    "name_ru": "Накопленный купонный доход (НКД)",
    "book_id": 6,
    "category": "Bond Pricing",
    "formula": "AI = \\frac{t}{T} \\times PMT",
    "description": "Accrued interest based on days elapsed in coupon period",
    "description_ru": "НКД на основе дней, прошедших в купонном периоде",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate fraction of period, multiply by coupon / Вычислить долю периода, умножить на купон",
    "variables": [
      {
        "symbol": "t",
        "name": "Days Since Last Coupon",
        "description": "Days from last coupon to settlement / Дни от последнего купона до расчёта"
      },
      {
        "symbol": "T",
        "name": "Days in Coupon Period",
        "description": "Total days in coupon period / Всего дней в купонном периоде"
      },
      {
        "symbol": "PMT",
        "name": "Coupon Payment",
        "description": "Coupon payment per period / Купонный платёж за период"
      }
    ],
    "example": "Given: t=45 days, T=180 days, PMT=$50: AI = (45/180) × $50 = $12.50"
  },
  {
    "id": "FI-BOND-004",
    "name_en": "Full Price with Compounding",
    "name_ru": "Полная цена с компаундированием",
    "book_id": 6,
    "category": "Bond Pricing",
    "formula": "PV^{full} = PV \\times (1 + r)^{\\frac{t}{T}}",
    "description": "Full price adjusted for partial period since last coupon",
    "description_ru": "Полная цена с учётом части периода с последнего купона",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Calculate PV first, then compound for partial period / Сначала рассчитать PV, затем компаундировать",
    "variables": [
      {
        "symbol": "PV",
        "name": "Present Value",
        "description": "Bond price as of last coupon date / Цена облигации на дату последнего купона"
      },
      {
        "symbol": "r",
        "name": "Discount Rate",
        "description": "Market discount rate per period / Ставка дисконтирования за период"
      },
      {
        "symbol": "t/T",
        "name": "Fraction of Period",
        "description": "Days elapsed / Days in period / Прошедшие дни / Дни в периоде"
      }
    ],
    "example": "Given: PV=$1,000, r=5%, t/T=0.25: PV_full = $1,000 × 1.05^0.25 = $1,012.27"
  },
  {
    "id": "FI-YIELD-001",
    "name_en": "Periodicity Conversion",
    "name_ru": "Конвертация периодичности доходности",
    "book_id": 6,
    "category": "Yield Measures",
    "formula": "\\left(1 + \\frac{APR_{m}}{m}\\right)^{m} = \\left(1 + \\frac{APR_{n}}{n}\\right)^{n}",
    "description": "Converts annual percentage rate between different periodicities",
    "description_ru": "Конвертирует годовую процентную ставку между разными периодичностями",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Use ICONV function or manual calculation / Использовать ICONV или ручной расчёт",
    "variables": [
      {
        "symbol": "APR_m",
        "name": "APR with m periods",
        "description": "Annual rate for m periods per year / Годовая ставка для m периодов"
      },
      {
        "symbol": "APR_n",
        "name": "APR with n periods",
        "description": "Annual rate for n periods per year / Годовая ставка для n периодов"
      },
      {
        "symbol": "m, n",
        "name": "Periodicities",
        "description": "Number of compounding periods per year / Количество периодов в году"
      }
    ],
    "example": "Convert 6% semiannual to quarterly: (1+0.06/2)² = (1+APR/4)⁴ → APR = 5.926%"
  },
  {
    "id": "FI-YIELD-002",
    "name_en": "Current Yield",
    "name_ru": "Текущая доходность",
    "book_id": 6,
    "category": "Yield Measures",
    "formula": "CY = \\frac{\\text{Annual Coupon}_{t}}{\\text{Price}_{t}}",
    "description": "Annual coupon divided by current market price",
    "description_ru": "Годовой купон, делённый на текущую рыночную цену",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple division / Простое деление",
    "variables": [
      {
        "symbol": "CY",
        "name": "Current Yield",
        "description": "Current yield as percentage / Текущая доходность в процентах"
      },
      {
        "symbol": "Annual Coupon",
        "name": "Annual Coupon",
        "description": "Total annual coupon payment / Общий годовой купон"
      },
      {
        "symbol": "Price",
        "name": "Current Price",
        "description": "Current market price / Текущая рыночная цена"
      }
    ],
    "example": "Given: Annual coupon = $60, Price = $950: CY = 60/950 = 6.32%"
  },
  {
    "id": "FI-YIELD-003",
    "name_en": "Yield-to-Call",
    "name_ru": "Доходность до отзыва",
    "book_id": 6,
    "category": "Yield Measures",
    "formula": "PV = \\frac{PMT_{1}}{(1+r)^{1}} + \\frac{PMT_{2}}{(1+r)^{2}} + \\cdots + \\frac{PMT_{N} + \\text{Call price}}{(1+r)^{N}}",
    "description": "Yield assuming bond is called at first call date",
    "description_ru": "Доходность при условии отзыва облигации в первую дату отзыва",
    "calculator_category": "worksheet",
    "calculator_template": "TVM_IY",
    "calculator_note": "Use TVM: N=periods to call, PV=-price, PMT=coupon, FV=call price, CPT I/Y",
    "variables": [
      {
        "symbol": "PV",
        "name": "Current Price",
        "description": "Current bond price / Текущая цена облигации"
      },
      {
        "symbol": "PMT",
        "name": "Coupon Payment",
        "description": "Periodic coupon / Периодический купон"
      },
      {
        "symbol": "Call price",
        "name": "Call Price",
        "description": "Price at which bond can be called / Цена отзыва"
      },
      {
        "symbol": "N",
        "name": "Periods to Call",
        "description": "Periods until call date / Периоды до даты отзыва"
      },
      {
        "symbol": "r",
        "name": "Yield-to-Call",
        "description": "Yield to call per period / Доходность до отзыва за период"
      }
    ],
    "example": "Given: Price=$1,050, PMT=$50, Call=$1,020, N=4: Solve for r using TVM"
  },
  {
    "id": "FI-SPREAD-001",
    "name_en": "Z-Spread over Benchmark Spot Curve",
    "name_ru": "Z-спред над бенчмарк спот кривой",
    "book_id": 6,
    "category": "Yield Spreads",
    "formula": "PV = \\frac{PMT}{(1+z_{1}+Z)^{1}} + \\frac{PMT}{(1+z_{2}+Z)^{2}} + \\cdots + \\frac{PMT+FV}{(1+z_{N}+Z)^{N}}",
    "description": "Constant spread added to each spot rate to match bond price",
    "description_ru": "Постоянный спред к каждой спот-ставке для соответствия цене облигации",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Requires iteration/solver - not directly on BA II Plus",
    "variables": [
      {
        "symbol": "z_1, z_2, z_N",
        "name": "Spot Rates",
        "description": "Benchmark spot rates for each period / Бенчмарк спот-ставки для каждого периода"
      },
      {
        "symbol": "Z",
        "name": "Z-Spread",
        "description": "Zero-volatility spread / Спред нулевой волатильности"
      },
      {
        "symbol": "PMT",
        "name": "Coupon",
        "description": "Coupon payment / Купонный платёж"
      },
      {
        "symbol": "FV",
        "name": "Face Value",
        "description": "Par value at maturity / Номинал при погашении"
      }
    ],
    "example": "If spot rates are 2%, 2.5%, 3% and Z-spread is 50bp, discount each CF at z+0.5%"
  },
  {
    "id": "FI-SPREAD-002",
    "name_en": "Option-Adjusted Spread (OAS)",
    "name_ru": "Спред с учётом опциона (OAS)",
    "book_id": 6,
    "category": "Yield Spreads",
    "formula": "OAS = Z\\text{-spread} - \\text{Option value (in bps)}",
    "description": "Z-spread minus the value of embedded option",
    "description_ru": "Z-спред минус стоимость встроенного опциона",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple subtraction / Простое вычитание",
    "variables": [
      {
        "symbol": "OAS",
        "name": "Option-Adjusted Spread",
        "description": "Spread after removing option value / Спред после удаления стоимости опциона"
      },
      {
        "symbol": "Z-spread",
        "name": "Z-Spread",
        "description": "Zero-volatility spread / Z-спред"
      },
      {
        "symbol": "Option value",
        "name": "Option Value",
        "description": "Value of embedded option in bps / Стоимость встроенного опциона в б.п."
      }
    ],
    "example": "Given: Z-spread = 150 bps, Option value = 30 bps: OAS = 150 - 30 = 120 bps"
  },
  {
    "id": "FI-FRN-002",
    "name_en": "PV of Floating Rate Notes",
    "name_ru": "Приведённая стоимость облигаций с плавающей ставкой",
    "book_id": 6,
    "category": "Floating Rate Notes",
    "formula": "PV = \\sum_{i=1}^{N} \\frac{\\frac{(MRR+QM) \\times FV}{m}}{\\left(1+\\frac{MRR+DM}{m}\\right)^{i}}",
    "description": "Present value of FRN using quoted margin and discount margin",
    "description_ru": "Приведённая стоимость FRN с использованием котируемой маржи и дисконтной маржи",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Calculate each CF separately, then sum PVs / Рассчитать каждый CF отдельно, затем суммировать",
    "variables": [
      {
        "symbol": "MRR",
        "name": "Market Reference Rate",
        "description": "Reference rate (e.g., SOFR) / Референсная ставка"
      },
      {
        "symbol": "QM",
        "name": "Quoted Margin",
        "description": "Margin stated in bond terms / Маржа, указанная в условиях"
      },
      {
        "symbol": "DM",
        "name": "Discount Margin",
        "description": "Required margin by market / Требуемая маржа рынком"
      },
      {
        "symbol": "FV",
        "name": "Face Value",
        "description": "Par value / Номинал"
      },
      {
        "symbol": "m",
        "name": "Periodicity",
        "description": "Payments per year / Платежей в год"
      }
    ],
    "example": "If QM=DM, FRN trades at par. If DM>QM, FRN trades at discount."
  },
  {
    "id": "FI-MM-001",
    "name_en": "Money Market - Discount Rate Basis",
    "name_ru": "Денежный рынок - на базе дисконтной ставки",
    "book_id": 6,
    "category": "Money Market",
    "formula": "PV = FV \\times \\left(1 - \\frac{Days}{Year} \\times DR\\right)",
    "description": "Price of money market instrument quoted on discount rate basis",
    "description_ru": "Цена инструмента денежного рынка, котируемого на базе дисконтной ставки",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate discount, subtract from FV / Вычислить дисконт, вычесть из FV",
    "variables": [
      {
        "symbol": "PV",
        "name": "Price",
        "description": "Purchase price / Цена покупки"
      },
      {
        "symbol": "FV",
        "name": "Face Value",
        "description": "Face value at maturity / Номинал при погашении"
      },
      {
        "symbol": "Days",
        "name": "Days to Maturity",
        "description": "Days from settlement to maturity / Дни от расчёта до погашения"
      },
      {
        "symbol": "Year",
        "name": "Days in Year",
        "description": "360 or 365 days / 360 или 365 дней"
      },
      {
        "symbol": "DR",
        "name": "Discount Rate",
        "description": "Quoted discount rate / Котируемая дисконтная ставка"
      }
    ],
    "example": "Given: FV=$10,000, Days=90, Year=360, DR=4%: PV = 10,000 × (1 - 90/360 × 0.04) = $9,900"
  },
  {
    "id": "FI-MM-002",
    "name_en": "Money Market - Add-on Rate Basis",
    "name_ru": "Денежный рынок - на базе надбавки к ставке",
    "book_id": 6,
    "category": "Money Market",
    "formula": "PV = \\frac{FV}{1 + \\frac{Days}{Year} \\times AOR}",
    "description": "Price of money market instrument quoted on add-on rate basis",
    "description_ru": "Цена инструмента денежного рынка, котируемого на базе надбавки",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Divide FV by (1 + rate adjustment) / Разделить FV на (1 + корректировка ставки)",
    "variables": [
      {
        "symbol": "PV",
        "name": "Price",
        "description": "Purchase price / Цена покупки"
      },
      {
        "symbol": "FV",
        "name": "Face Value",
        "description": "Face value at maturity / Номинал при погашении"
      },
      {
        "symbol": "Days",
        "name": "Days to Maturity",
        "description": "Days from settlement to maturity / Дни от расчёта до погашения"
      },
      {
        "symbol": "Year",
        "name": "Days in Year",
        "description": "360 or 365 days / 360 или 365 дней"
      },
      {
        "symbol": "AOR",
        "name": "Add-on Rate",
        "description": "Quoted add-on rate / Котируемая ставка надбавки"
      }
    ],
    "example": "Given: FV=$10,000, Days=90, Year=360, AOR=4%: PV = 10,000 / (1 + 90/360 × 0.04) = $9,901"
  },
  {
    "id": "FI-SPOT-001",
    "name_en": "Bond Pricing Using Spot Rates",
    "name_ru": "Оценка облигации с использованием спот-ставок",
    "book_id": 6,
    "category": "Spot Rates",
    "formula": "PV = \\frac{PMT}{(1+Z_{1})^{1}} + \\frac{PMT}{(1+Z_{2})^{2}} + \\cdots + \\frac{PMT+FV}{(1+Z_{N})^{N}}",
    "description": "Bond price using individual spot rates for each cash flow",
    "description_ru": "Цена облигации с использованием индивидуальных спот-ставок для каждого потока",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Discount each CF separately at respective spot rate / Дисконтировать каждый CF по соответствующей спот-ставке",
    "variables": [
      {
        "symbol": "Z_1, Z_2, Z_N",
        "name": "Spot Rates",
        "description": "Spot rate for period 1, 2, ..., N / Спот-ставка для периода 1, 2, ..., N"
      },
      {
        "symbol": "PMT",
        "name": "Coupon",
        "description": "Coupon payment / Купон"
      },
      {
        "symbol": "FV",
        "name": "Face Value",
        "description": "Par value / Номинал"
      }
    ],
    "example": "Given: PMT=$50, FV=$1,000, Z1=3%, Z2=3.5%, Z3=4%: PV = 50/1.03 + 50/1.035² + 1050/1.04³"
  },
  {
    "id": "FI-FWD-001",
    "name_en": "Implied Forward Rate from Spot Rates",
    "name_ru": "Подразумеваемая форвардная ставка из спот-ставок",
    "book_id": 6,
    "category": "Forward Rates",
    "formula": "(1+Z_{A})^{A} \\times (1+IFR_{A,B-A})^{B-A} = (1+Z_{B})^{B}",
    "description": "Calculate implied forward rate between two spot rates",
    "description_ru": "Расчёт подразумеваемой форвардной ставки между двумя спот-ставками",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Solve for IFR: IFR = [(1+Z_B)^B / (1+Z_A)^A]^(1/(B-A)) - 1",
    "variables": [
      {
        "symbol": "Z_A",
        "name": "Shorter Spot Rate",
        "description": "Spot rate for period A / Спот-ставка для периода A"
      },
      {
        "symbol": "Z_B",
        "name": "Longer Spot Rate",
        "description": "Spot rate for period B / Спот-ставка для периода B"
      },
      {
        "symbol": "IFR_{A,B-A}",
        "name": "Implied Forward Rate",
        "description": "Forward rate from A to B / Форвардная ставка от A до B"
      }
    ],
    "example": "Given: Z2=4%, Z4=5%: (1.04)² × (1+IFR)² = (1.05)⁴ → IFR = 6.01% (2y2y forward)"
  },
  {
    "id": "FI-DUR-001",
    "name_en": "Duration Gap",
    "name_ru": "Дюрационный разрыв",
    "book_id": 6,
    "category": "Duration",
    "formula": "\\text{Duration gap} = \\text{Macaulay duration} - \\text{Investment horizon}",
    "description": "Difference between portfolio duration and investment horizon",
    "description_ru": "Разница между дюрацией портфеля и инвестиционным горизонтом",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple subtraction / Простое вычитание",
    "variables": [
      {
        "symbol": "Duration gap",
        "name": "Duration Gap",
        "description": "Positive = price risk > reinvestment risk / Положительный = ценовой риск > риска реинвестирования"
      },
      {
        "symbol": "Macaulay duration",
        "name": "Macaulay Duration",
        "description": "Weighted average time to cash flows / Взвешенное среднее время до денежных потоков"
      },
      {
        "symbol": "Investment horizon",
        "name": "Investment Horizon",
        "description": "Planned holding period / Планируемый период владения"
      }
    ],
    "example": "Given: MacDur = 7 years, Horizon = 5 years: Gap = 7 - 5 = 2 years (price risk dominated)"
  },
  {
    "id": "FI-DUR-002",
    "name_en": "Macaulay Duration (Closed Form)",
    "name_ru": "Дюрация Маколея (замкнутая формула)",
    "book_id": 6,
    "category": "Duration",
    "formula": "MacDur = \\left\\{\\frac{1+r}{r} + \\frac{1+r+[N \\times (c-r)]}{c \\times [(1+r)^{N}-1+r]}\\right\\} - \\frac{t}{T}",
    "description": "Closed-form formula for Macaulay duration",
    "description_ru": "Замкнутая формула для дюрации Маколея",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Complex formula - use step by step / Сложная формула - считать пошагово",
    "variables": [
      {
        "symbol": "r",
        "name": "Yield per Period",
        "description": "YTM per period / YTM за период"
      },
      {
        "symbol": "N",
        "name": "Periods to Maturity",
        "description": "Number of periods / Количество периодов"
      },
      {
        "symbol": "c",
        "name": "Coupon Rate per Period",
        "description": "Coupon rate per period / Купонная ставка за период"
      },
      {
        "symbol": "t/T",
        "name": "Fraction of Period Elapsed",
        "description": "Partial period adjustment / Корректировка на часть периода"
      }
    ],
    "example": "For a 10-year, 5% coupon bond at par (r=c=5%): MacDur ≈ 8.1 years"
  },
  {
    "id": "FI-DUR-003",
    "name_en": "Modified Duration",
    "name_ru": "Модифицированная дюрация",
    "book_id": 6,
    "category": "Duration",
    "formula": "ModDur = \\frac{MacDur}{1+r}",
    "description": "Macaulay duration adjusted for yield per period",
    "description_ru": "Дюрация Маколея, скорректированная на доходность за период",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple division / Простое деление",
    "variables": [
      {
        "symbol": "ModDur",
        "name": "Modified Duration",
        "description": "Price sensitivity to yield changes / Чувствительность цены к изменению доходности"
      },
      {
        "symbol": "MacDur",
        "name": "Macaulay Duration",
        "description": "Macaulay duration / Дюрация Маколея"
      },
      {
        "symbol": "r",
        "name": "Yield per Period",
        "description": "YTM per period / YTM за период"
      }
    ],
    "example": "Given: MacDur = 8 years, r = 5% semiannual (2.5% per period): ModDur = 8 / 1.025 = 7.80"
  },
  {
    "id": "FI-DUR-004",
    "name_en": "Percentage Price Change using Modified Duration",
    "name_ru": "Процентное изменение цены через модифицированную дюрацию",
    "book_id": 6,
    "category": "Duration",
    "formula": "\\%\\Delta PV^{full} \\approx -AnnModDur \\times \\Delta AnnYield",
    "description": "Approximate percentage price change from yield change",
    "description_ru": "Приблизительное процентное изменение цены от изменения доходности",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Multiply duration by yield change, negate / Умножить дюрацию на изменение доходности, сменить знак",
    "variables": [
      {
        "symbol": "%ΔPV",
        "name": "Percentage Price Change",
        "description": "Approximate % change in full price / Приблизительное % изменение полной цены"
      },
      {
        "symbol": "AnnModDur",
        "name": "Annualized Modified Duration",
        "description": "Annual modified duration / Годовая модифицированная дюрация"
      },
      {
        "symbol": "ΔAnnYield",
        "name": "Change in Annual Yield",
        "description": "Change in YTM (decimal) / Изменение YTM (десятичное)"
      }
    ],
    "example": "Given: ModDur = 7.5, ΔYield = +0.50%: %ΔPV ≈ -7.5 × 0.005 = -3.75%"
  },
  {
    "id": "FI-DUR-005",
    "name_en": "Approximate Modified Duration",
    "name_ru": "Приблизительная модифицированная дюрация",
    "book_id": 6,
    "category": "Duration",
    "formula": "AnnModDur \\approx \\frac{(PV_{-}) - (PV_{+})}{2 \\times (\\Delta Yield) \\times (PV_{0})}",
    "description": "Duration approximation using price changes from yield shocks",
    "description_ru": "Приближённая дюрация через изменения цены от шоков доходности",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate prices at yield±Δ, then use formula / Рассчитать цены при yield±Δ, применить формулу",
    "variables": [
      {
        "symbol": "PV_-",
        "name": "Price if Yield Decreases",
        "description": "Bond price when yield falls / Цена облигации при падении доходности"
      },
      {
        "symbol": "PV_+",
        "name": "Price if Yield Increases",
        "description": "Bond price when yield rises / Цена облигации при росте доходности"
      },
      {
        "symbol": "PV_0",
        "name": "Initial Price",
        "description": "Current bond price / Текущая цена облигации"
      },
      {
        "symbol": "ΔYield",
        "name": "Yield Change",
        "description": "Size of yield shock (e.g., 0.0001) / Величина шока доходности"
      }
    ],
    "example": "Given: PV- = $1,025, PV+ = $975, PV0 = $1,000, ΔYield = 0.005: ModDur ≈ (1025-975)/(2×0.005×1000) = 5.0"
  },
  {
    "id": "FI-DUR-006",
    "name_en": "Money Duration",
    "name_ru": "Денежная дюрация",
    "book_id": 6,
    "category": "Duration",
    "formula": "MoneyDur = AnnModDur \\times PV^{full}",
    "description": "Dollar value of duration; measures price change per basis point",
    "description_ru": "Денежное значение дюрации; измеряет изменение цены на базисный пункт",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple multiplication / Простое умножение",
    "variables": [
      {
        "symbol": "MoneyDur",
        "name": "Money Duration",
        "description": "Dollar duration / Долларовая дюрация"
      },
      {
        "symbol": "AnnModDur",
        "name": "Modified Duration",
        "description": "Annualized modified duration / Годовая модифицированная дюрация"
      },
      {
        "symbol": "PV^{full}",
        "name": "Full Price",
        "description": "Current full price of bond / Текущая полная цена облигации"
      }
    ],
    "example": "Given: ModDur = 7.5, Price = $1,000,000: MoneyDur = 7.5 × $1,000,000 = $7,500,000"
  },
  {
    "id": "FI-DUR-007",
    "name_en": "Price Value of Basis Point (PVBP)",
    "name_ru": "Стоимость базисного пункта (PVBP)",
    "book_id": 6,
    "category": "Duration",
    "formula": "PVBP = \\frac{PV_{-} - PV_{+}}{2}",
    "description": "Price change for 1 basis point yield change",
    "description_ru": "Изменение цены при изменении доходности на 1 базисный пункт",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate prices at ±1bp, take average difference / Рассчитать цены при ±1бп, взять среднюю разницу",
    "variables": [
      {
        "symbol": "PVBP",
        "name": "Price Value of Basis Point",
        "description": "Dollar value of 1bp / Долларовая стоимость 1 б.п."
      },
      {
        "symbol": "PV_-",
        "name": "Price at Yield - 1bp",
        "description": "Price when yield decreases by 0.01% / Цена при снижении доходности на 0.01%"
      },
      {
        "symbol": "PV_+",
        "name": "Price at Yield + 1bp",
        "description": "Price when yield increases by 0.01% / Цена при росте доходности на 0.01%"
      }
    ],
    "example": "Given: PV- = $1,000.75, PV+ = $999.25: PVBP = (1000.75 - 999.25)/2 = $0.75"
  },
  {
    "id": "FI-DUR-008",
    "name_en": "Macaulay Duration of Zero-Coupon Bond",
    "name_ru": "Дюрация Маколея бескупонной облигации",
    "book_id": 6,
    "category": "Duration",
    "formula": "MacDur = \\text{Time to Maturity}",
    "description": "For zero-coupon bonds, Macaulay duration equals time to maturity",
    "description_ru": "Для бескупонных облигаций дюрация Маколея равна сроку до погашения",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Direct observation / Прямое наблюдение",
    "variables": [
      {
        "symbol": "MacDur",
        "name": "Macaulay Duration",
        "description": "Duration in years / Дюрация в годах"
      },
      {
        "symbol": "Time to Maturity",
        "name": "Time to Maturity",
        "description": "Years until bond matures / Лет до погашения"
      }
    ],
    "example": "A 5-year zero-coupon bond has MacDur = 5 years exactly"
  },
  {
    "id": "FI-DUR-009",
    "name_en": "Macaulay Duration of Perpetual Bond",
    "name_ru": "Дюрация Маколея вечной облигации",
    "book_id": 6,
    "category": "Duration",
    "formula": "MacDur = \\frac{1+r}{r}",
    "description": "Macaulay duration of a perpetuity",
    "description_ru": "Дюрация Маколея перпетуитета (вечной облигации)",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple formula / Простая формула",
    "variables": [
      {
        "symbol": "MacDur",
        "name": "Macaulay Duration",
        "description": "Duration of perpetuity / Дюрация перпетуитета"
      },
      {
        "symbol": "r",
        "name": "Yield per Period",
        "description": "Yield per period / Доходность за период"
      }
    ],
    "example": "Given: r = 5%: MacDur = 1.05/0.05 = 21 years"
  },
  {
    "id": "FI-DUR-010",
    "name_en": "Macaulay Duration of Floating-Rate Notes",
    "name_ru": "Дюрация Маколея облигации с плавающей ставкой",
    "book_id": 6,
    "category": "Duration",
    "formula": "MacDur_{Floating} = \\frac{T-t}{T}",
    "description": "FRN duration equals time until next coupon reset",
    "description_ru": "Дюрация FRN равна времени до следующего пересмотра купона",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Fraction of period remaining / Оставшаяся доля периода",
    "variables": [
      {
        "symbol": "T",
        "name": "Total Period",
        "description": "Length of reset period / Длина периода пересмотра"
      },
      {
        "symbol": "t",
        "name": "Time Elapsed",
        "description": "Time since last reset / Время с последнего пересмотра"
      }
    ],
    "example": "Given: Quarterly reset, 1 month elapsed: MacDur = (3-1)/3 = 0.67 months = 0.056 years"
  },
  {
    "id": "FI-CONV-003",
    "name_en": "Price Change using Duration and Convexity",
    "name_ru": "Изменение цены через дюрацию и выпуклость",
    "book_id": 6,
    "category": "Convexity",
    "formula": "\\%\\Delta PV^{full} \\approx (-AnnModDur \\times \\Delta Yield) + \\left[\\frac{1}{2} \\times AnnConvexity \\times (\\Delta Yield)^{2}\\right]",
    "description": "Second-order approximation including convexity adjustment",
    "description_ru": "Приближение второго порядка с учётом выпуклости",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate duration effect + convexity effect / Рассчитать эффект дюрации + эффект выпуклости",
    "variables": [
      {
        "symbol": "%ΔPV",
        "name": "Percentage Price Change",
        "description": "Approximate % change / Приблизительное % изменение"
      },
      {
        "symbol": "AnnModDur",
        "name": "Modified Duration",
        "description": "Annualized modified duration / Годовая модифицированная дюрация"
      },
      {
        "symbol": "AnnConvexity",
        "name": "Convexity",
        "description": "Annualized convexity / Годовая выпуклость"
      },
      {
        "symbol": "ΔYield",
        "name": "Yield Change",
        "description": "Change in yield (decimal) / Изменение доходности (десятичное)"
      }
    ],
    "example": "Given: ModDur=7.5, Convexity=65, ΔYield=+1%: %ΔPV ≈ -7.5×0.01 + 0.5×65×0.01² = -7.175%"
  },
  {
    "id": "FI-CONV-004",
    "name_en": "Approximate Convexity",
    "name_ru": "Приблизительная выпуклость",
    "book_id": 6,
    "category": "Convexity",
    "formula": "ApproxCon = \\frac{(PV_{-}) + (PV_{+}) - [2 \\times (PV_{0})]}{(\\Delta Yield)^{2} \\times (PV_{0})}",
    "description": "Convexity approximation using price changes from yield shocks",
    "description_ru": "Приближённая выпуклость через изменения цены от шоков доходности",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate prices at yield±Δ, apply formula / Рассчитать цены при yield±Δ, применить формулу",
    "variables": [
      {
        "symbol": "PV_-",
        "name": "Price at Lower Yield",
        "description": "Price when yield decreases / Цена при снижении доходности"
      },
      {
        "symbol": "PV_+",
        "name": "Price at Higher Yield",
        "description": "Price when yield increases / Цена при росте доходности"
      },
      {
        "symbol": "PV_0",
        "name": "Initial Price",
        "description": "Current price / Текущая цена"
      },
      {
        "symbol": "ΔYield",
        "name": "Yield Change",
        "description": "Yield shock size / Размер шока доходности"
      }
    ],
    "example": "Given: PV-=$1,080, PV+=$925, PV0=$1,000, ΔYield=0.01: Convexity = (1080+925-2000)/(0.0001×1000) = 50"
  },
  {
    "id": "FI-CONV-005",
    "name_en": "Money Convexity",
    "name_ru": "Денежная выпуклость",
    "book_id": 6,
    "category": "Convexity",
    "formula": "MoneyCon = AnnConvexity \\times PV^{Full}",
    "description": "Dollar value of convexity",
    "description_ru": "Долларовое значение выпуклости",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple multiplication / Простое умножение",
    "variables": [
      {
        "symbol": "MoneyCon",
        "name": "Money Convexity",
        "description": "Dollar convexity / Долларовая выпуклость"
      },
      {
        "symbol": "AnnConvexity",
        "name": "Annualized Convexity",
        "description": "Annual convexity measure / Годовая мера выпуклости"
      },
      {
        "symbol": "PV^{Full}",
        "name": "Full Price",
        "description": "Current full price / Текущая полная цена"
      }
    ],
    "example": "Given: Convexity = 65, Price = $1,000,000: MoneyCon = 65 × $1,000,000 = $65,000,000"
  },
  {
    "id": "FI-EFF-001",
    "name_en": "Effective Duration",
    "name_ru": "Эффективная дюрация",
    "book_id": 6,
    "category": "Effective Measures",
    "formula": "EffDur \\approx \\frac{(PV_{-}) - (PV_{+})}{2 \\times (\\Delta curve) \\times (PV_{0})}",
    "description": "Duration for bonds with embedded options using curve shifts",
    "description_ru": "Дюрация для облигаций со встроенными опционами через сдвиги кривой",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Requires bond pricing model / Требует модель оценки облигаций",
    "variables": [
      {
        "symbol": "EffDur",
        "name": "Effective Duration",
        "description": "Duration measure for bonds with options / Мера дюрации для облигаций с опционами"
      },
      {
        "symbol": "PV_-, PV_+",
        "name": "Prices",
        "description": "Prices after curve shifts down/up / Цены после сдвига кривой вниз/вверх"
      },
      {
        "symbol": "Δcurve",
        "name": "Curve Shift",
        "description": "Parallel shift in benchmark curve / Параллельный сдвиг бенчмарк кривой"
      },
      {
        "symbol": "PV_0",
        "name": "Initial Price",
        "description": "Current price / Текущая цена"
      }
    ],
    "example": "Given: PV-=$1,030, PV+=$970, PV0=$1,000, Δcurve=0.0025: EffDur = (1030-970)/(2×0.0025×1000) = 12"
  },
  {
    "id": "FI-EFF-002",
    "name_en": "Effective Convexity",
    "name_ru": "Эффективная выпуклость",
    "book_id": 6,
    "category": "Effective Measures",
    "formula": "EffCon \\approx \\frac{[(PV_{-}) + (PV_{+})] - [2 \\times (PV_{0})]}{(\\Delta curve)^{2} \\times (PV_{0})}",
    "description": "Convexity for bonds with embedded options",
    "description_ru": "Выпуклость для облигаций со встроенными опционами",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Requires bond pricing model / Требует модель оценки облигаций",
    "variables": [
      {
        "symbol": "EffCon",
        "name": "Effective Convexity",
        "description": "Convexity for bonds with options / Выпуклость для облигаций с опционами"
      },
      {
        "symbol": "PV_-, PV_+",
        "name": "Prices",
        "description": "Prices after curve shifts / Цены после сдвигов кривой"
      },
      {
        "symbol": "Δcurve",
        "name": "Curve Shift",
        "description": "Parallel shift size / Размер параллельного сдвига"
      },
      {
        "symbol": "PV_0",
        "name": "Initial Price",
        "description": "Current price / Текущая цена"
      }
    ],
    "example": "Given: PV-=$1,030, PV+=$970, PV0=$1,000, Δcurve=0.0025: EffCon = (1030+970-2000)/(0.0025²×1000) = 0"
  },
  {
    "id": "FI-EFF-003",
    "name_en": "Price Change using Effective Duration and Convexity",
    "name_ru": "Изменение цены через эффективную дюрацию и выпуклость",
    "book_id": 6,
    "category": "Effective Measures",
    "formula": "\\%\\Delta PV^{full} \\approx (-EffDur \\times \\Delta Curve) + \\left[\\frac{1}{2} \\times EffCon \\times (\\Delta Curve)^{2}\\right]",
    "description": "Price change estimate using effective measures",
    "description_ru": "Оценка изменения цены через эффективные меры",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Same structure as modified duration formula / Та же структура, что и формула модифицированной дюрации",
    "variables": [
      {
        "symbol": "%ΔPV",
        "name": "Price Change",
        "description": "Percentage price change / Процентное изменение цены"
      },
      {
        "symbol": "EffDur",
        "name": "Effective Duration",
        "description": "Effective duration / Эффективная дюрация"
      },
      {
        "symbol": "EffCon",
        "name": "Effective Convexity",
        "description": "Effective convexity / Эффективная выпуклость"
      },
      {
        "symbol": "ΔCurve",
        "name": "Curve Shift",
        "description": "Change in benchmark curve / Изменение бенчмарк кривой"
      }
    ],
    "example": "Given: EffDur=5, EffCon=25, ΔCurve=-0.5%: %ΔPV ≈ -5×(-0.005) + 0.5×25×0.005² = 2.53%"
  },
  {
    "id": "FI-KEY-001",
    "name_en": "Key Rate Duration",
    "name_ru": "Ключевая дюрация",
    "book_id": 6,
    "category": "Key Rate Duration",
    "formula": "KeyRateDur_{k} = -\\frac{1}{PV} \\times \\frac{\\Delta PV}{\\Delta r_{k}}",
    "description": "Sensitivity to change in a specific maturity point on the curve",
    "description_ru": "Чувствительность к изменению конкретной точки на кривой доходности",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Requires shifting individual spot rates / Требует сдвига отдельных спот-ставок",
    "variables": [
      {
        "symbol": "KeyRateDur_k",
        "name": "Key Rate Duration",
        "description": "Duration for key rate k / Дюрация для ключевой ставки k"
      },
      {
        "symbol": "PV",
        "name": "Price",
        "description": "Current bond price / Текущая цена облигации"
      },
      {
        "symbol": "ΔPV",
        "name": "Price Change",
        "description": "Change in price / Изменение цены"
      },
      {
        "symbol": "Δr_k",
        "name": "Key Rate Change",
        "description": "Change in kth key rate / Изменение k-й ключевой ставки"
      }
    ],
    "example": "If 5-year key rate increases by 25bp and price falls 1.5%, KeyRateDur_5yr = 1.5%/0.25% = 6"
  },
  {
    "id": "FI-KEY-002",
    "name_en": "Effective Duration as Sum of Key Rate Durations",
    "name_ru": "Эффективная дюрация как сумма ключевых дюраций",
    "book_id": 6,
    "category": "Key Rate Duration",
    "formula": "EffDur = \\sum_{k=1}^{n} KeyRateDur_{k}",
    "description": "Effective duration equals sum of all key rate durations",
    "description_ru": "Эффективная дюрация равна сумме всех ключевых дюраций",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Sum all key rate durations / Суммировать все ключевые дюрации",
    "variables": [
      {
        "symbol": "EffDur",
        "name": "Effective Duration",
        "description": "Total effective duration / Общая эффективная дюрация"
      },
      {
        "symbol": "KeyRateDur_k",
        "name": "Key Rate Durations",
        "description": "Individual key rate durations / Отдельные ключевые дюрации"
      },
      {
        "symbol": "n",
        "name": "Number of Key Rates",
        "description": "Number of key rate points / Количество ключевых точек"
      }
    ],
    "example": "Given: KRD_2yr=1.5, KRD_5yr=3.0, KRD_10yr=2.5: EffDur = 1.5+3.0+2.5 = 7.0"
  },
  {
    "id": "FI-CREDIT-001",
    "name_en": "Expected Loss",
    "name_ru": "Ожидаемые потери",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "EL = POD \\times LGD",
    "description": "Expected loss as probability of default times loss given default",
    "description_ru": "Ожидаемые потери как вероятность дефолта умножить на потери при дефолте",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple multiplication / Простое умножение",
    "variables": [
      {
        "symbol": "EL",
        "name": "Expected Loss",
        "description": "Expected credit loss / Ожидаемые кредитные потери"
      },
      {
        "symbol": "POD",
        "name": "Probability of Default",
        "description": "Likelihood of default / Вероятность дефолта"
      },
      {
        "symbol": "LGD",
        "name": "Loss Given Default",
        "description": "Loss if default occurs (1 - Recovery Rate) / Потери при дефолте (1 - Ставка возврата)"
      }
    ],
    "example": "Given: POD = 2%, LGD = 60%: EL = 0.02 × 0.60 = 1.2%"
  },
  {
    "id": "FI-CREDIT-002",
    "name_en": "Credit Spread Approximation",
    "name_ru": "Приближение кредитного спреда",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "\\text{Credit Spread} \\approx POD \\times LGD",
    "description": "Credit spread approximation as expected loss",
    "description_ru": "Приближение кредитного спреда как ожидаемые потери",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple multiplication / Простое умножение",
    "variables": [
      {
        "symbol": "Credit Spread",
        "name": "Credit Spread",
        "description": "Yield spread for credit risk / Спред доходности за кредитный риск"
      },
      {
        "symbol": "POD",
        "name": "Probability of Default",
        "description": "Annual default probability / Годовая вероятность дефолта"
      },
      {
        "symbol": "LGD",
        "name": "Loss Given Default",
        "description": "Expected loss percentage / Ожидаемый процент потерь"
      }
    ],
    "example": "Given: POD = 3%, LGD = 40%: Credit Spread ≈ 0.03 × 0.40 = 1.2% = 120 bps"
  },
  {
    "id": "FI-CREDIT-003",
    "name_en": "Impact of Spread on Bond Price",
    "name_ru": "Влияние спреда на цену облигации",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "\\%\\Delta PV^{Full} = -AnnModDur \\times \\Delta Spread",
    "description": "Price change from credit spread widening/tightening",
    "description_ru": "Изменение цены от расширения/сужения кредитного спреда",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Same as yield change impact / То же, что и влияние изменения доходности",
    "variables": [
      {
        "symbol": "%ΔPV",
        "name": "Price Change",
        "description": "Percentage change in full price / Процентное изменение полной цены"
      },
      {
        "symbol": "AnnModDur",
        "name": "Modified Duration",
        "description": "Annualized modified duration / Годовая модифицированная дюрация"
      },
      {
        "symbol": "ΔSpread",
        "name": "Spread Change",
        "description": "Change in credit spread / Изменение кредитного спреда"
      }
    ],
    "example": "Given: ModDur = 6, Spread widens by 50bps: %ΔPV = -6 × 0.005 = -3%"
  },
  {
    "id": "FI-CREDIT-004",
    "name_en": "Impact of Spread with Convexity",
    "name_ru": "Влияние спреда с учётом выпуклости",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "\\%\\Delta PV^{Full} = (-AnnModDur \\times \\Delta Spread) + \\frac{1}{2} \\times AnnConvexity \\times (\\Delta Spread)^{2}",
    "description": "Price change from spread change including convexity effect",
    "description_ru": "Изменение цены от изменения спреда с учётом эффекта выпуклости",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Same structure as yield change formula / Та же структура, что и формула изменения доходности",
    "variables": [
      {
        "symbol": "%ΔPV",
        "name": "Price Change",
        "description": "Percentage change in price / Процентное изменение цены"
      },
      {
        "symbol": "AnnModDur",
        "name": "Modified Duration",
        "description": "Annualized modified duration / Годовая модифицированная дюрация"
      },
      {
        "symbol": "AnnConvexity",
        "name": "Convexity",
        "description": "Annualized convexity / Годовая выпуклость"
      },
      {
        "symbol": "ΔSpread",
        "name": "Spread Change",
        "description": "Change in credit spread / Изменение кредитного спреда"
      }
    ],
    "example": "Given: ModDur=6, Convexity=50, ΔSpread=+1%: %ΔPV = -6×0.01 + 0.5×50×0.0001 = -5.75%"
  },
  {
    "id": "FI-CREDIT-005",
    "name_en": "Loan-to-Value Ratio (LTV)",
    "name_ru": "Коэффициент кредит/стоимость (LTV)",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "LTV = \\frac{\\text{Amount of the loan}}{\\text{Property's value}}",
    "description": "Ratio of loan amount to collateral value",
    "description_ru": "Отношение суммы кредита к стоимости залога",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple division / Простое деление",
    "variables": [
      {
        "symbol": "LTV",
        "name": "Loan-to-Value",
        "description": "Ratio as percentage / Коэффициент в процентах"
      },
      {
        "symbol": "Loan",
        "name": "Loan Amount",
        "description": "Outstanding loan balance / Остаток по кредиту"
      },
      {
        "symbol": "Value",
        "name": "Property Value",
        "description": "Current market value of collateral / Текущая рыночная стоимость залога"
      }
    ],
    "example": "Given: Loan = $400,000, Property = $500,000: LTV = 400,000/500,000 = 80%"
  },
  {
    "id": "FI-CREDIT-006",
    "name_en": "Debt Service Coverage Ratio (DSCR)",
    "name_ru": "Коэффициент покрытия долга (DSCR)",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "DSCR = \\frac{\\text{Net Operating Income}}{\\text{Debt Service}}",
    "description": "Ratio of NOI to debt payments",
    "description_ru": "Отношение чистого операционного дохода к платежам по долгу",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Simple division / Простое деление",
    "variables": [
      {
        "symbol": "DSCR",
        "name": "Debt Service Coverage",
        "description": "Coverage ratio / Коэффициент покрытия"
      },
      {
        "symbol": "NOI",
        "name": "Net Operating Income",
        "description": "Income after operating expenses / Доход после операционных расходов"
      },
      {
        "symbol": "Debt Service",
        "name": "Debt Service",
        "description": "Principal + Interest payments / Платежи по основному долгу + проценты"
      }
    ],
    "example": "Given: NOI = $120,000, Debt Service = $100,000: DSCR = 120,000/100,000 = 1.2x"
  },
  {
    "id": "FI-CREDIT-007",
    "name_en": "Net Operating Income (NOI)",
    "name_ru": "Чистый операционный доход (NOI)",
    "book_id": 6,
    "category": "Credit Risk",
    "formula": "NOI = (\\text{Rental income} - \\text{Cash operating expenses}) - \\text{Replacement reserves}",
    "description": "Net operating income for real estate",
    "description_ru": "Чистый операционный доход для недвижимости",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Subtraction of expenses from income / Вычитание расходов из дохода",
    "variables": [
      {
        "symbol": "NOI",
        "name": "Net Operating Income",
        "description": "Net income from property / Чистый доход от собственности"
      },
      {
        "symbol": "Rental income",
        "name": "Rental Income",
        "description": "Gross rental receipts / Валовые арендные поступления"
      },
      {
        "symbol": "Operating expenses",
        "name": "Cash Operating Expenses",
        "description": "Property operating costs / Операционные расходы на собственность"
      },
      {
        "symbol": "Replacement reserves",
        "name": "Replacement Reserves",
        "description": "Capital expenditure reserves / Резервы на капитальные затраты"
      }
    ],
    "example": "Given: Rent=$200K, Expenses=$60K, Reserves=$10K: NOI = (200-60)-10 = $130K"
  },
  {
    "id": "DER-OPT-001",
    "name_en": "Call Option Payoff (Buyer)",
    "name_ru": "Выплата по колл-опциону (покупатель)",
    "book_id": 7,
    "category": "Options",
    "formula": "c_{T} = \\max(0, S_{T} - X)",
    "description": "Payoff to call option buyer at expiration",
    "description_ru": "Выплата покупателю колл-опциона при исполнении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Max of 0 or (Spot - Strike) / Максимум из 0 или (Спот - Страйк)",
    "variables": [
      {
        "symbol": "c_T",
        "name": "Call Payoff",
        "description": "Payoff at expiration / Выплата при исполнении"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена базового актива при исполнении"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      }
    ],
    "example": "Given: S_T = $55, X = $50: Payoff = max(0, 55-50) = $5"
  },
  {
    "id": "DER-OPT-002",
    "name_en": "Call Option Profit (Buyer)",
    "name_ru": "Прибыль по колл-опциону (покупатель)",
    "book_id": 7,
    "category": "Options",
    "formula": "\\Pi = \\max(0, S_{T} - X) - c_{0}",
    "description": "Profit to call option buyer including premium paid",
    "description_ru": "Прибыль покупателя колл-опциона с учётом уплаченной премии",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Payoff minus premium paid / Выплата минус уплаченная премия",
    "variables": [
      {
        "symbol": "Π",
        "name": "Profit",
        "description": "Net profit / Чистая прибыль"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "c_0",
        "name": "Call Premium",
        "description": "Premium paid for call / Уплаченная премия за колл"
      }
    ],
    "example": "Given: S_T=$55, X=$50, c_0=$3: Profit = max(0,55-50) - 3 = $2"
  },
  {
    "id": "DER-OPT-003",
    "name_en": "Call Option Payoff (Seller)",
    "name_ru": "Выплата по колл-опциону (продавец)",
    "book_id": 7,
    "category": "Options",
    "formula": "-c_{T} = -\\max(0, S_{T} - X)",
    "description": "Payoff to call option seller at expiration",
    "description_ru": "Выплата продавцу колл-опциона при исполнении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Negative of buyer's payoff / Отрицательное значение выплаты покупателя",
    "variables": [
      {
        "symbol": "-c_T",
        "name": "Seller Payoff",
        "description": "Payoff to seller (negative or zero) / Выплата продавцу (отрицательная или ноль)"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      }
    ],
    "example": "Given: S_T=$55, X=$50: Seller payoff = -max(0, 55-50) = -$5"
  },
  {
    "id": "DER-OPT-004",
    "name_en": "Call Option Profit (Seller)",
    "name_ru": "Прибыль по колл-опциону (продавец)",
    "book_id": 7,
    "category": "Options",
    "formula": "\\Pi = -\\max(0, S_{T} - X) + c_{0}",
    "description": "Profit to call option seller including premium received",
    "description_ru": "Прибыль продавца колл-опциона с учётом полученной премии",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Premium received minus payoff / Полученная премия минус выплата",
    "variables": [
      {
        "symbol": "Π",
        "name": "Profit",
        "description": "Net profit to seller / Чистая прибыль продавца"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "c_0",
        "name": "Call Premium",
        "description": "Premium received / Полученная премия"
      }
    ],
    "example": "Given: S_T=$55, X=$50, c_0=$3: Seller profit = -max(0,55-50) + 3 = -$2"
  },
  {
    "id": "DER-OPT-005",
    "name_en": "Put Option Payoff (Buyer)",
    "name_ru": "Выплата по пут-опциону (покупатель)",
    "book_id": 7,
    "category": "Options",
    "formula": "p_{T} = \\max(0, X - S_{T})",
    "description": "Payoff to put option buyer at expiration",
    "description_ru": "Выплата покупателю пут-опциона при исполнении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Max of 0 or (Strike - Spot) / Максимум из 0 или (Страйк - Спот)",
    "variables": [
      {
        "symbol": "p_T",
        "name": "Put Payoff",
        "description": "Payoff at expiration / Выплата при исполнении"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      }
    ],
    "example": "Given: X=$50, S_T=$45: Payoff = max(0, 50-45) = $5"
  },
  {
    "id": "DER-OPT-006",
    "name_en": "Put Option Profit (Buyer)",
    "name_ru": "Прибыль по пут-опциону (покупатель)",
    "book_id": 7,
    "category": "Options",
    "formula": "\\Pi = \\max(0, X - S_{T}) - p_{0}",
    "description": "Profit to put option buyer including premium paid",
    "description_ru": "Прибыль покупателя пут-опциона с учётом уплаченной премии",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Payoff minus premium paid / Выплата минус уплаченная премия",
    "variables": [
      {
        "symbol": "Π",
        "name": "Profit",
        "description": "Net profit / Чистая прибыль"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      },
      {
        "symbol": "p_0",
        "name": "Put Premium",
        "description": "Premium paid for put / Уплаченная премия за пут"
      }
    ],
    "example": "Given: X=$50, S_T=$45, p_0=$2: Profit = max(0,50-45) - 2 = $3"
  },
  {
    "id": "DER-OPT-007",
    "name_en": "Put Option Payoff (Seller)",
    "name_ru": "Выплата по пут-опциону (продавец)",
    "book_id": 7,
    "category": "Options",
    "formula": "-p_{T} = -\\max(0, X - S_{T})",
    "description": "Payoff to put option seller at expiration",
    "description_ru": "Выплата продавцу пут-опциона при исполнении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Negative of buyer's payoff / Отрицательное значение выплаты покупателя",
    "variables": [
      {
        "symbol": "-p_T",
        "name": "Seller Payoff",
        "description": "Payoff to seller / Выплата продавцу"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      }
    ],
    "example": "Given: X=$50, S_T=$45: Seller payoff = -max(0, 50-45) = -$5"
  },
  {
    "id": "DER-OPT-008",
    "name_en": "Put Option Profit (Seller)",
    "name_ru": "Прибыль по пут-опциону (продавец)",
    "book_id": 7,
    "category": "Options",
    "formula": "\\Pi = -\\max(0, X - S_{T}) + p_{0}",
    "description": "Profit to put option seller including premium received",
    "description_ru": "Прибыль продавца пут-опциона с учётом полученной премии",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Premium received minus payoff / Полученная премия минус выплата",
    "variables": [
      {
        "symbol": "Π",
        "name": "Profit",
        "description": "Net profit to seller / Чистая прибыль продавца"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Underlying price at expiration / Цена БА при исполнении"
      },
      {
        "symbol": "p_0",
        "name": "Put Premium",
        "description": "Premium received / Полученная премия"
      }
    ],
    "example": "Given: X=$50, S_T=$45, p_0=$2: Seller profit = -max(0,50-45) + 2 = -$3"
  },
  {
    "id": "DER-OPT-009",
    "name_en": "Call Option Time Value",
    "name_ru": "Временная стоимость колл-опциона",
    "book_id": 7,
    "category": "Options",
    "formula": "\\text{Time Value} = c_{t} - \\max(0, S_{t} - X(1+r)^{-(T-t)})",
    "description": "Time value equals option price minus intrinsic value",
    "description_ru": "Временная стоимость равна цене опциона минус внутренняя стоимость",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Calculate PV of strike, then intrinsic value, subtract from price",
    "variables": [
      {
        "symbol": "c_t",
        "name": "Call Price",
        "description": "Current call option price / Текущая цена колл-опциона"
      },
      {
        "symbol": "S_t",
        "name": "Spot Price",
        "description": "Current underlying price / Текущая цена БА"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free interest rate / Безрисковая ставка"
      },
      {
        "symbol": "T-t",
        "name": "Time to Expiration",
        "description": "Time remaining / Время до исполнения"
      }
    ],
    "example": "Given: c=$7, S=$52, X=$50, r=5%, T-t=0.5yr: Time Value = 7 - max(0, 52-50×1.05^(-0.5)) = 7 - 3.22 = $3.78"
  },
  {
    "id": "DER-OPT-010",
    "name_en": "Put Option Time Value",
    "name_ru": "Временная стоимость пут-опциона",
    "book_id": 7,
    "category": "Options",
    "formula": "\\text{Time Value} = p_{t} - \\max(0, X(1+r)^{-(T-t)} - S_{t})",
    "description": "Time value equals option price minus intrinsic value",
    "description_ru": "Временная стоимость равна цене опциона минус внутренняя стоимость",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Calculate PV of strike, then intrinsic value, subtract from price",
    "variables": [
      {
        "symbol": "p_t",
        "name": "Put Price",
        "description": "Current put option price / Текущая цена пут-опциона"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_t",
        "name": "Spot Price",
        "description": "Current underlying price / Текущая цена БА"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free interest rate / Безрисковая ставка"
      },
      {
        "symbol": "T-t",
        "name": "Time to Expiration",
        "description": "Time remaining / Время до исполнения"
      }
    ],
    "example": "Given: p=$5, X=$50, S=$47, r=5%, T-t=0.5yr: Time Value = 5 - max(0, 50×1.05^(-0.5)-47) = 5 - 1.78 = $3.22"
  },
  {
    "id": "DER-OPT-011",
    "name_en": "Call Option Price Bounds",
    "name_ru": "Границы цены колл-опциона",
    "book_id": 7,
    "category": "Options",
    "formula": "\\max(0, S_{t} - X(1+r)^{-(T-t)}) \\leq c_{t} \\leq S_{t}",
    "description": "Lower and upper bounds for call option price",
    "description_ru": "Нижняя и верхняя границы цены колл-опциона",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Lower bound = max(0, S - PV(X)), Upper bound = S",
    "variables": [
      {
        "symbol": "c_t",
        "name": "Call Price",
        "description": "Call option price / Цена колл-опциона"
      },
      {
        "symbol": "S_t",
        "name": "Spot Price",
        "description": "Current underlying price / Текущая цена БА"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      }
    ],
    "example": "Given: S=$50, X=$45, r=5%, T=1yr: Lower = max(0, 50-45/1.05) = $7.14, Upper = $50"
  },
  {
    "id": "DER-OPT-012",
    "name_en": "Put Option Price Bounds",
    "name_ru": "Границы цены пут-опциона",
    "book_id": 7,
    "category": "Options",
    "formula": "\\max(0, X(1+r)^{-(T-t)} - S_{t}) \\leq p_{t} \\leq X",
    "description": "Lower and upper bounds for put option price",
    "description_ru": "Нижняя и верхняя границы цены пут-опциона",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Lower bound = max(0, PV(X) - S), Upper bound = X",
    "variables": [
      {
        "symbol": "p_t",
        "name": "Put Price",
        "description": "Put option price / Цена пут-опциона"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_t",
        "name": "Spot Price",
        "description": "Current underlying price / Текущая цена БА"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      }
    ],
    "example": "Given: X=$50, S=$45, r=5%, T=1yr: Lower = max(0, 50/1.05-45) = $2.62, Upper = $50"
  },
  {
    "id": "DER-FWD-001",
    "name_en": "Forward Price (No Costs/Benefits, Discrete)",
    "name_ru": "Форвардная цена (без затрат/выгод, дискретное)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "F_{0}(T) = S_{0}(1+r)^{T}",
    "description": "Forward price with discrete compounding, no costs or benefits",
    "description_ru": "Форвардная цена с дискретным начислением, без затрат и выгод",
    "calculator_category": "worksheet",
    "calculator_template": "TVM_FV",
    "calculator_note": "Use TVM: PV=-S0, I/Y=r, N=T, CPT FV",
    "variables": [
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Forward price for delivery at T / Форвардная цена с поставкой в T"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T",
        "name": "Time to Maturity",
        "description": "Time to contract maturity / Время до исполнения контракта"
      }
    ],
    "example": "Given: S_0=$100, r=5%, T=1yr: F_0(T) = 100 × 1.05 = $105"
  },
  {
    "id": "DER-FWD-002",
    "name_en": "Forward Price (No Costs/Benefits, Continuous)",
    "name_ru": "Форвардная цена (без затрат/выгод, непрерывное)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "F_{0}(T) = S_{0}e^{rT}",
    "description": "Forward price with continuous compounding",
    "description_ru": "Форвардная цена с непрерывным начислением",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Use e^x function: S × e^(r×T)",
    "variables": [
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Forward price / Форвардная цена"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Continuously compounded rate / Непрерывно начисляемая ставка"
      },
      {
        "symbol": "T",
        "name": "Time",
        "description": "Time to maturity / Время до исполнения"
      }
    ],
    "example": "Given: S_0=$100, r=5%, T=1yr: F_0(T) = 100 × e^0.05 = $105.13"
  },
  {
    "id": "DER-FWD-003",
    "name_en": "Forward Price (With Costs/Benefits, Discrete)",
    "name_ru": "Форвардная цена (с затратами/выгодами, дискретное)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "F_{0}(T) = [S_{0} - PV_{0}(I) + PV_{0}(C)](1+r)^{T}",
    "description": "Forward price adjusted for income and storage costs",
    "description_ru": "Форвардная цена с учётом доходов и затрат на хранение",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Adjust spot for PV of income/costs, then compound",
    "variables": [
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Forward price / Форвардная цена"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "PV_0(I)",
        "name": "PV of Income",
        "description": "Present value of income (dividends) / PV доходов (дивидендов)"
      },
      {
        "symbol": "PV_0(C)",
        "name": "PV of Costs",
        "description": "Present value of storage costs / PV затрат на хранение"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      }
    ],
    "example": "Given: S=$100, PV(I)=$2, PV(C)=$1, r=5%, T=1: F = (100-2+1)×1.05 = $103.95"
  },
  {
    "id": "DER-FWD-004",
    "name_en": "Forward Price (With Costs/Benefits, Continuous)",
    "name_ru": "Форвардная цена (с затратами/выгодами, непрерывное)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "F_{0}(T) = S_{0}e^{(r+c-i)T}",
    "description": "Forward price with continuous yield adjustments",
    "description_ru": "Форвардная цена с непрерывными корректировками доходности",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Adjust rate for cost and income yields, then use e^x",
    "variables": [
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Forward price / Форвардная цена"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "c",
        "name": "Cost Rate",
        "description": "Storage cost as rate / Затраты на хранение как ставка"
      },
      {
        "symbol": "i",
        "name": "Income Rate",
        "description": "Income yield (dividend yield) / Доходность (дивидендная)"
      }
    ],
    "example": "Given: S=$100, r=5%, c=1%, i=2%, T=1: F = 100×e^(0.05+0.01-0.02) = $104.08"
  },
  {
    "id": "DER-FWD-005",
    "name_en": "Forward Contract Value at Initiation",
    "name_ru": "Стоимость форвардного контракта при заключении",
    "book_id": 7,
    "category": "Forwards",
    "formula": "V_{0}(T) = 0",
    "description": "Forward contract value is zero at initiation",
    "description_ru": "Стоимость форвардного контракта равна нулю при заключении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "By definition, no cash changes hands at initiation",
    "variables": [
      {
        "symbol": "V_0(T)",
        "name": "Contract Value",
        "description": "Value at initiation / Стоимость при заключении"
      }
    ],
    "example": "At initiation, both parties agree to fair forward price, so V = 0"
  },
  {
    "id": "DER-FWD-006",
    "name_en": "Forward Contract Payoff (Long)",
    "name_ru": "Выплата по форвардному контракту (длинная позиция)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "V_{T}(T) = S_{T} - F_{0}(T)",
    "description": "Payoff to long forward position at expiration",
    "description_ru": "Выплата по длинной позиции форварда при исполнении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Spot at expiration minus forward price / Спот при исполнении минус форвардная цена",
    "variables": [
      {
        "symbol": "V_T(T)",
        "name": "Payoff",
        "description": "Payoff at expiration / Выплата при исполнении"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Spot price at expiration / Спот-цена при исполнении"
      },
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Contracted forward price / Согласованная форвардная цена"
      }
    ],
    "example": "Given: S_T=$110, F_0=$105: Long payoff = 110 - 105 = $5 profit"
  },
  {
    "id": "DER-FWD-007",
    "name_en": "Forward Contract Payoff (Short)",
    "name_ru": "Выплата по форвардному контракту (короткая позиция)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "V_{T}(T) = F_{0}(T) - S_{T}",
    "description": "Payoff to short forward position at expiration",
    "description_ru": "Выплата по короткой позиции форварда при исполнении",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Forward price minus spot at expiration / Форвардная цена минус спот при исполнении",
    "variables": [
      {
        "symbol": "V_T(T)",
        "name": "Payoff",
        "description": "Payoff at expiration / Выплата при исполнении"
      },
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Contracted forward price / Согласованная форвардная цена"
      },
      {
        "symbol": "S_T",
        "name": "Spot Price at T",
        "description": "Spot price at expiration / Спот-цена при исполнении"
      }
    ],
    "example": "Given: F_0=$105, S_T=$110: Short payoff = 105 - 110 = -$5 loss"
  },
  {
    "id": "DER-FWD-008",
    "name_en": "Forward Contract Value (Long, No Costs)",
    "name_ru": "Стоимость форварда (длинная, без затрат)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "V_{t}(T) = S_{t} - F_{0}(T)(1+r)^{-(T-t)}",
    "description": "Mark-to-market value of long forward during contract life",
    "description_ru": "Рыночная стоимость длинного форварда в течение срока контракта",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Current spot minus PV of forward price",
    "variables": [
      {
        "symbol": "V_t(T)",
        "name": "Contract Value",
        "description": "Value at time t / Стоимость в момент t"
      },
      {
        "symbol": "S_t",
        "name": "Current Spot",
        "description": "Spot price at time t / Спот-цена в момент t"
      },
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Original forward price / Исходная форвардная цена"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T-t",
        "name": "Time Remaining",
        "description": "Time to expiration / Время до исполнения"
      }
    ],
    "example": "Given: S_t=$108, F_0=$105, r=5%, T-t=0.5yr: V = 108 - 105×1.05^(-0.5) = $5.46"
  },
  {
    "id": "DER-FWD-009",
    "name_en": "Forward Contract Value (Long, With Costs)",
    "name_ru": "Стоимость форварда (длинная, с затратами)",
    "book_id": 7,
    "category": "Forwards",
    "formula": "V_{t}(T) = (S_{t} - PV_{t}(I) + PV_{t}(C)) - F_{0}(T)(1+r)^{-(T-t)}",
    "description": "Long forward value adjusted for remaining income and costs",
    "description_ru": "Стоимость длинного форварда с учётом оставшихся доходов и затрат",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Adjust current spot for remaining PVs, subtract PV of forward",
    "variables": [
      {
        "symbol": "V_t(T)",
        "name": "Contract Value",
        "description": "Value at time t / Стоимость в момент t"
      },
      {
        "symbol": "S_t",
        "name": "Current Spot",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "PV_t(I)",
        "name": "PV of Remaining Income",
        "description": "PV of income from t to T / PV доходов от t до T"
      },
      {
        "symbol": "PV_t(C)",
        "name": "PV of Remaining Costs",
        "description": "PV of costs from t to T / PV затрат от t до T"
      },
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Original forward price / Исходная форвардная цена"
      }
    ],
    "example": "Given: S=$108, PV(I)=$1, PV(C)=$0.5, F=$105, r=5%, T-t=0.5: V = (108-1+0.5) - 105/1.05^0.5 = $4.96"
  },
  {
    "id": "DER-FRA-001",
    "name_en": "FRA Net Payment",
    "name_ru": "Нетто-платёж по FRA",
    "book_id": 7,
    "category": "Forward Rate Agreements",
    "formula": "\\text{Net Payment} = (MRR_{B-A} - IFR_{A,B-A}) \\times \\text{Notional} \\times \\text{Period}",
    "description": "Settlement payment on forward rate agreement",
    "description_ru": "Расчётный платёж по соглашению о форвардной ставке",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Rate difference × Notional × Day fraction",
    "variables": [
      {
        "symbol": "MRR_{B-A}",
        "name": "Market Reference Rate",
        "description": "Actual market rate at settlement / Фактическая рыночная ставка при расчёте"
      },
      {
        "symbol": "IFR_{A,B-A}",
        "name": "FRA Rate",
        "description": "Contracted forward rate / Согласованная форвардная ставка"
      },
      {
        "symbol": "Notional",
        "name": "Notional Principal",
        "description": "Notional amount / Номинальная сумма"
      },
      {
        "symbol": "Period",
        "name": "Period",
        "description": "Day count fraction (e.g., 90/360) / Доля дней (напр., 90/360)"
      }
    ],
    "example": "Given: MRR=6%, FRA=5%, Notional=$1M, Period=90/360: Payment = (0.06-0.05)×1M×0.25 = $2,500"
  },
  {
    "id": "DER-FUT-001",
    "name_en": "Futures Contract Value at Initiation",
    "name_ru": "Стоимость фьючерсного контракта при открытии",
    "book_id": 7,
    "category": "Futures",
    "formula": "V_{0}(T) = 0",
    "description": "Futures contract value is zero at initiation",
    "description_ru": "Стоимость фьючерсного контракта равна нулю при открытии",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Same as forwards - no cash at initiation",
    "variables": [
      {
        "symbol": "V_0(T)",
        "name": "Contract Value",
        "description": "Value at initiation / Стоимость при открытии"
      }
    ],
    "example": "At initiation, futures contract has zero value"
  },
  {
    "id": "DER-FUT-002",
    "name_en": "Futures Price (Discrete Compounding)",
    "name_ru": "Фьючерсная цена (дискретное начисление)",
    "book_id": 7,
    "category": "Futures",
    "formula": "f_{0}(T) = S_{0}(1+r)^{T}",
    "description": "Futures price with discrete compounding, no costs or benefits",
    "description_ru": "Фьючерсная цена с дискретным начислением, без затрат и выгод",
    "calculator_category": "worksheet",
    "calculator_template": "TVM_FV",
    "calculator_note": "Same as forward price formula",
    "variables": [
      {
        "symbol": "f_0(T)",
        "name": "Futures Price",
        "description": "Futures price / Фьючерсная цена"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T",
        "name": "Time to Maturity",
        "description": "Time to expiration / Время до исполнения"
      }
    ],
    "example": "Given: S_0=$100, r=5%, T=1yr: f_0(T) = 100 × 1.05 = $105"
  },
  {
    "id": "DER-FUT-003",
    "name_en": "Futures Price (Continuous Compounding)",
    "name_ru": "Фьючерсная цена (непрерывное начисление)",
    "book_id": 7,
    "category": "Futures",
    "formula": "f_{0}(T) = S_{0}e^{rT}",
    "description": "Futures price with continuous compounding",
    "description_ru": "Фьючерсная цена с непрерывным начислением",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Use e^x function",
    "variables": [
      {
        "symbol": "f_0(T)",
        "name": "Futures Price",
        "description": "Futures price / Фьючерсная цена"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Continuously compounded rate / Непрерывно начисляемая ставка"
      },
      {
        "symbol": "T",
        "name": "Time",
        "description": "Time to maturity / Время до исполнения"
      }
    ],
    "example": "Given: S_0=$100, r=5%, T=1yr: f_0(T) = 100 × e^0.05 = $105.13"
  },
  {
    "id": "DER-FUT-004",
    "name_en": "Futures Price (With Costs/Benefits)",
    "name_ru": "Фьючерсная цена (с затратами/выгодами)",
    "book_id": 7,
    "category": "Futures",
    "formula": "f_{0}(T) = [S_{0} - PV_{0}(I) + PV_{0}(C)](1+r)^{T}",
    "description": "Futures price adjusted for income and costs",
    "description_ru": "Фьючерсная цена с учётом доходов и затрат",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Same as forward with costs/benefits",
    "variables": [
      {
        "symbol": "f_0(T)",
        "name": "Futures Price",
        "description": "Futures price / Фьючерсная цена"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current spot price / Текущая спот-цена"
      },
      {
        "symbol": "PV_0(I)",
        "name": "PV of Income",
        "description": "Present value of income / PV доходов"
      },
      {
        "symbol": "PV_0(C)",
        "name": "PV of Costs",
        "description": "Present value of costs / PV затрат"
      }
    ],
    "example": "Given: S=$100, PV(I)=$2, PV(C)=$1, r=5%, T=1: f = (100-2+1)×1.05 = $103.95"
  },
  {
    "id": "DER-FUT-005",
    "name_en": "Futures Contract Basis Point Value",
    "name_ru": "Стоимость базисного пункта фьючерса",
    "book_id": 7,
    "category": "Futures",
    "formula": "\\text{Futures BPV} = \\text{Notional} \\times 0.01\\% \\times \\text{Period}",
    "description": "Dollar value of 1 basis point move in interest rate futures",
    "description_ru": "Долларовая стоимость движения на 1 базисный пункт для процентных фьючерсов",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Notional × 0.0001 × day fraction",
    "variables": [
      {
        "symbol": "BPV",
        "name": "Basis Point Value",
        "description": "Dollar value per bp / Долларовая стоимость за б.п."
      },
      {
        "symbol": "Notional",
        "name": "Notional Principal",
        "description": "Contract notional / Номинал контракта"
      },
      {
        "symbol": "Period",
        "name": "Period",
        "description": "Day count fraction / Доля дней"
      }
    ],
    "example": "Given: Notional=$1M, Period=90/360: BPV = $1M × 0.0001 × 0.25 = $25"
  },
  {
    "id": "DER-SWAP-001",
    "name_en": "Swap Periodic Settlement",
    "name_ru": "Периодический расчёт по свопу",
    "book_id": 7,
    "category": "Swaps",
    "formula": "\\text{Settlement} = (MRR - s_{N}) \\times \\text{Notional} \\times \\text{Period}",
    "description": "Periodic settlement payment in interest rate swap",
    "description_ru": "Периодический расчётный платёж по процентному свопу",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Rate difference × Notional × Period",
    "variables": [
      {
        "symbol": "MRR",
        "name": "Market Reference Rate",
        "description": "Floating rate at settlement / Плавающая ставка при расчёте"
      },
      {
        "symbol": "s_N",
        "name": "Swap Rate",
        "description": "Fixed swap rate / Фиксированная ставка свопа"
      },
      {
        "symbol": "Notional",
        "name": "Notional",
        "description": "Notional principal / Номинальная сумма"
      },
      {
        "symbol": "Period",
        "name": "Period",
        "description": "Accrual period fraction / Доля периода начисления"
      }
    ],
    "example": "Given: MRR=6%, Swap=5%, Notional=$10M, Period=0.5yr: Settlement = (0.06-0.05)×10M×0.5 = $50,000"
  },
  {
    "id": "DER-OPT-013",
    "name_en": "Call Option Exercise Value",
    "name_ru": "Внутренняя стоимость колл-опциона",
    "book_id": 7,
    "category": "Options",
    "formula": "\\max(0, S_{T} - X(1+r)^{-(T-t)})",
    "description": "Intrinsic value of call option before expiration",
    "description_ru": "Внутренняя стоимость колл-опциона до исполнения",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "max(0, Spot - PV(Strike))",
    "variables": [
      {
        "symbol": "S_T",
        "name": "Spot Price",
        "description": "Current underlying price / Текущая цена БА"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T-t",
        "name": "Time Remaining",
        "description": "Time to expiration / Время до исполнения"
      }
    ],
    "example": "Given: S=$55, X=$50, r=5%, T-t=0.5yr: Exercise value = max(0, 55 - 50×1.05^(-0.5)) = $6.22"
  },
  {
    "id": "DER-OPT-014",
    "name_en": "Put Option Exercise Value",
    "name_ru": "Внутренняя стоимость пут-опциона",
    "book_id": 7,
    "category": "Options",
    "formula": "\\max(0, X(1+r)^{-(T-t)} - S_{t})",
    "description": "Intrinsic value of put option before expiration",
    "description_ru": "Внутренняя стоимость пут-опциона до исполнения",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "max(0, PV(Strike) - Spot)",
    "variables": [
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Exercise price / Цена исполнения"
      },
      {
        "symbol": "S_t",
        "name": "Spot Price",
        "description": "Current underlying price / Текущая цена БА"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T-t",
        "name": "Time Remaining",
        "description": "Time to expiration / Время до исполнения"
      }
    ],
    "example": "Given: X=$50, S=$45, r=5%, T-t=0.5yr: Exercise value = max(0, 50×1.05^(-0.5) - 45) = $3.78"
  },
  {
    "id": "DER-PAR-001",
    "name_en": "Put-Call Parity",
    "name_ru": "Паритет пут-колл",
    "book_id": 7,
    "category": "Parity Relations",
    "formula": "S_{0} + p_{0} = c_{0} + X(1+r)^{-T}",
    "description": "Relationship between call, put, stock, and bond prices",
    "description_ru": "Связь между ценами колла, пута, акции и облигации",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Stock + Put = Call + PV(Strike)",
    "variables": [
      {
        "symbol": "S_0",
        "name": "Stock Price",
        "description": "Current stock price / Текущая цена акции"
      },
      {
        "symbol": "p_0",
        "name": "Put Price",
        "description": "Put option price / Цена пут-опциона"
      },
      {
        "symbol": "c_0",
        "name": "Call Price",
        "description": "Call option price / Цена колл-опциона"
      },
      {
        "symbol": "X",
        "name": "Strike Price",
        "description": "Common strike price / Общая цена исполнения"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T",
        "name": "Time to Expiration",
        "description": "Time to maturity / Время до погашения"
      }
    ],
    "example": "Given: S=$50, c=$5, X=$48, r=5%, T=1yr: p = 5 + 48/1.05 - 50 = $0.71"
  },
  {
    "id": "DER-PAR-002",
    "name_en": "Covered Call Position",
    "name_ru": "Покрытый колл",
    "book_id": 7,
    "category": "Parity Relations",
    "formula": "S_{0} - c_{0} = X(1+r)^{-T} - p_{0}",
    "description": "Covered call equals bond minus put",
    "description_ru": "Покрытый колл равен облигации минус пут",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Rearrangement of put-call parity",
    "variables": [
      {
        "symbol": "S_0",
        "name": "Stock Price",
        "description": "Stock price / Цена акции"
      },
      {
        "symbol": "c_0",
        "name": "Call Premium",
        "description": "Call premium received / Полученная премия за колл"
      },
      {
        "symbol": "X",
        "name": "Strike",
        "description": "Strike price / Цена исполнения"
      },
      {
        "symbol": "p_0",
        "name": "Put Price",
        "description": "Put price / Цена пута"
      }
    ],
    "example": "Covered call (long stock + short call) = long bond + short put"
  },
  {
    "id": "DER-PAR-003",
    "name_en": "Put-Call Forward Parity",
    "name_ru": "Паритет пут-колл для форвардов",
    "book_id": 7,
    "category": "Parity Relations",
    "formula": "F_{0}(T)(1+r)^{-T} + p_{0} = c_{0} + X(1+r)^{-T}",
    "description": "Put-call parity using forward price instead of spot",
    "description_ru": "Паритет пут-колл с использованием форвардной цены вместо спота",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "PV(Forward) + Put = Call + PV(Strike)",
    "variables": [
      {
        "symbol": "F_0(T)",
        "name": "Forward Price",
        "description": "Forward price / Форвардная цена"
      },
      {
        "symbol": "p_0",
        "name": "Put Price",
        "description": "Put price / Цена пута"
      },
      {
        "symbol": "c_0",
        "name": "Call Price",
        "description": "Call price / Цена колла"
      },
      {
        "symbol": "X",
        "name": "Strike",
        "description": "Strike price / Цена исполнения"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      }
    ],
    "example": "Used when forward/futures price is available instead of spot price"
  },
  {
    "id": "DER-BIN-001",
    "name_en": "Hedge Ratio (Call Option)",
    "name_ru": "Коэффициент хеджирования (колл)",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "h = \\frac{c_{1}^{u} - c_{1}^{d}}{S_{1}^{u} - S_{1}^{d}}",
    "description": "Number of shares to hedge one call option",
    "description_ru": "Количество акций для хеджирования одного колл-опциона",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Change in option value / Change in stock value",
    "variables": [
      {
        "symbol": "h",
        "name": "Hedge Ratio",
        "description": "Delta of the option / Дельта опциона"
      },
      {
        "symbol": "c_1^u",
        "name": "Call Value (Up)",
        "description": "Call value if price goes up / Стоимость колла при росте цены"
      },
      {
        "symbol": "c_1^d",
        "name": "Call Value (Down)",
        "description": "Call value if price goes down / Стоимость колла при падении цены"
      },
      {
        "symbol": "S_1^u",
        "name": "Stock Price (Up)",
        "description": "Stock price after up move / Цена акции после роста"
      },
      {
        "symbol": "S_1^d",
        "name": "Stock Price (Down)",
        "description": "Stock price after down move / Цена акции после падения"
      }
    ],
    "example": "Given: c_u=$10, c_d=$0, S_u=$60, S_d=$40: h = (10-0)/(60-40) = 0.5"
  },
  {
    "id": "DER-BIN-002",
    "name_en": "Hedge Ratio (Put Option)",
    "name_ru": "Коэффициент хеджирования (пут)",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "h = \\frac{p_{1}^{u} - p_{1}^{d}}{S_{1}^{u} - S_{1}^{d}}",
    "description": "Number of shares to hedge one put option",
    "description_ru": "Количество акций для хеджирования одного пут-опциона",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Change in put value / Change in stock value (negative for puts)",
    "variables": [
      {
        "symbol": "h",
        "name": "Hedge Ratio",
        "description": "Delta of the put option / Дельта пут-опциона"
      },
      {
        "symbol": "p_1^u",
        "name": "Put Value (Up)",
        "description": "Put value if price goes up / Стоимость пута при росте"
      },
      {
        "symbol": "p_1^d",
        "name": "Put Value (Down)",
        "description": "Put value if price goes down / Стоимость пута при падении"
      },
      {
        "symbol": "S_1^u",
        "name": "Stock Price (Up)",
        "description": "Stock price after up move / Цена акции после роста"
      },
      {
        "symbol": "S_1^d",
        "name": "Stock Price (Down)",
        "description": "Stock price after down move / Цена акции после падения"
      }
    ],
    "example": "Given: p_u=$0, p_d=$10, S_u=$60, S_d=$40: h = (0-10)/(60-40) = -0.5"
  },
  {
    "id": "DER-BIN-003",
    "name_en": "Call Option Value (Arbitrage Pricing)",
    "name_ru": "Стоимость колла (арбитражное ценообразование)",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "c_{0} = h \\times S_{0} - V_{1}(1+r)^{-1}",
    "description": "Call option value using no-arbitrage hedge portfolio",
    "description_ru": "Стоимость колл-опциона через безарбитражный хедж-портфель",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "V_1 = h×S_u - c_u = h×S_d - c_d (same for both states)",
    "variables": [
      {
        "symbol": "c_0",
        "name": "Call Value",
        "description": "Current call option value / Текущая стоимость колла"
      },
      {
        "symbol": "h",
        "name": "Hedge Ratio",
        "description": "Hedge ratio / Коэффициент хеджирования"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current stock price / Текущая цена акции"
      },
      {
        "symbol": "V_1",
        "name": "Portfolio Value",
        "description": "Hedge portfolio value at T=1 / Стоимость хедж-портфеля при T=1"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      }
    ],
    "example": "Given: h=0.5, S=$50, V_1=$20, r=5%: c_0 = 0.5×50 - 20/1.05 = $5.95"
  },
  {
    "id": "DER-BIN-004",
    "name_en": "Put Option Value (Arbitrage Pricing)",
    "name_ru": "Стоимость пута (арбитражное ценообразование)",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "p_{0} = V_{1}(1+r)^{-1} - h \\times S_{0}",
    "description": "Put option value using no-arbitrage hedge portfolio",
    "description_ru": "Стоимость пут-опциона через безарбитражный хедж-портфель",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "V_1 = h×S_u + p_u = h×S_d + p_d",
    "variables": [
      {
        "symbol": "p_0",
        "name": "Put Value",
        "description": "Current put option value / Текущая стоимость пута"
      },
      {
        "symbol": "V_1",
        "name": "Portfolio Value",
        "description": "Hedge portfolio value at T=1 / Стоимость хедж-портфеля при T=1"
      },
      {
        "symbol": "h",
        "name": "Hedge Ratio",
        "description": "Hedge ratio (negative for puts) / Коэффициент хеджирования"
      },
      {
        "symbol": "S_0",
        "name": "Spot Price",
        "description": "Current stock price / Текущая цена акции"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      }
    ],
    "example": "Given: V_1=$20, h=-0.5, S=$50, r=5%: p_0 = 20/1.05 - (-0.5)×50 = $44.05"
  },
  {
    "id": "DER-BIN-005",
    "name_en": "Risk-Neutral Probability",
    "name_ru": "Риск-нейтральная вероятность",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "\\pi = \\frac{1+r-R_{d}}{R_{u}-R_{d}}",
    "description": "Probability of up move in risk-neutral world",
    "description_ru": "Вероятность роста в риск-нейтральном мире",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "(1+r - down return) / (up return - down return)",
    "variables": [
      {
        "symbol": "π",
        "name": "Risk-Neutral Probability",
        "description": "Probability of up move / Вероятность роста"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "R_u",
        "name": "Up Gross Return",
        "description": "Gross return if up (S_u/S_0) / Валовая доходность при росте"
      },
      {
        "symbol": "R_d",
        "name": "Down Gross Return",
        "description": "Gross return if down (S_d/S_0) / Валовая доходность при падении"
      }
    ],
    "example": "Given: r=5%, R_u=1.2, R_d=0.8: π = (1.05-0.8)/(1.2-0.8) = 0.625"
  },
  {
    "id": "DER-BIN-006",
    "name_en": "Call Value (Risk-Neutral Pricing)",
    "name_ru": "Стоимость колла (риск-нейтральное ценообразование)",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "c_{0} = \\frac{\\pi c_{1}^{u} + (1-\\pi)c_{1}^{d}}{(1+r)^{T}}",
    "description": "Call option value using risk-neutral probabilities",
    "description_ru": "Стоимость колл-опциона через риск-нейтральные вероятности",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Expected payoff under risk-neutral measure, discounted",
    "variables": [
      {
        "symbol": "c_0",
        "name": "Call Value Today",
        "description": "Current call value / Текущая стоимость колла"
      },
      {
        "symbol": "π",
        "name": "Risk-Neutral Probability",
        "description": "Probability of up move / Вероятность роста"
      },
      {
        "symbol": "c_1^u",
        "name": "Call Value (Up)",
        "description": "Call payoff if up / Выплата колла при росте"
      },
      {
        "symbol": "c_1^d",
        "name": "Call Value (Down)",
        "description": "Call payoff if down / Выплата колла при падении"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T",
        "name": "Time",
        "description": "Time to expiration / Время до исполнения"
      }
    ],
    "example": "Given: π=0.6, c_u=$10, c_d=$0, r=5%, T=1: c_0 = (0.6×10 + 0.4×0)/1.05 = $5.71"
  },
  {
    "id": "DER-BIN-007",
    "name_en": "Put Value (Risk-Neutral Pricing)",
    "name_ru": "Стоимость пута (риск-нейтральное ценообразование)",
    "book_id": 7,
    "category": "Binomial Model",
    "formula": "p_{0} = \\frac{\\pi p_{1}^{u} + (1-\\pi)p_{1}^{d}}{(1+r)^{T}}",
    "description": "Put option value using risk-neutral probabilities",
    "description_ru": "Стоимость пут-опциона через риск-нейтральные вероятности",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Expected payoff under risk-neutral measure, discounted",
    "variables": [
      {
        "symbol": "p_0",
        "name": "Put Value Today",
        "description": "Current put value / Текущая стоимость пута"
      },
      {
        "symbol": "π",
        "name": "Risk-Neutral Probability",
        "description": "Probability of up move / Вероятность роста"
      },
      {
        "symbol": "p_1^u",
        "name": "Put Value (Up)",
        "description": "Put payoff if up / Выплата пута при росте"
      },
      {
        "symbol": "p_1^d",
        "name": "Put Value (Down)",
        "description": "Put payoff if down / Выплата пута при падении"
      },
      {
        "symbol": "r",
        "name": "Risk-free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "T",
        "name": "Time",
        "description": "Time to expiration / Время до исполнения"
      }
    ],
    "example": "Given: π=0.6, p_u=$0, p_d=$10, r=5%, T=1: p_0 = (0.6×0 + 0.4×10)/1.05 = $3.81"
  },
  {
    "id": "DER-ALT-001",
    "name_en": "Management Fee",
    "name_ru": "Комиссия за управление",
    "book_id": 7,
    "category": "Alternative Investments",
    "formula": "\\text{Management Fee} = NAV_{new} \\times \\text{fee}\\%",
    "description": "Annual management fee charged on fund NAV",
    "description_ru": "Годовая комиссия за управление, взимаемая с NAV фонда",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "NAV × fee percentage",
    "variables": [
      {
        "symbol": "Management Fee",
        "name": "Management Fee",
        "description": "Dollar amount of fee / Сумма комиссии в долларах"
      },
      {
        "symbol": "NAV_{new}",
        "name": "Net Asset Value",
        "description": "Current fund NAV / Текущая СЧА фонда"
      },
      {
        "symbol": "fee%",
        "name": "Fee Percentage",
        "description": "Annual fee rate / Годовая ставка комиссии"
      }
    ],
    "example": "Given: NAV=$100M, fee=2%: Management Fee = $100M × 0.02 = $2M"
  },
  {
    "id": "ALT-GP-001",
    "name_en": "GP's Rate of Return (Basic)",
    "name_ru": "Доходность GP (базовая)",
    "book_id": 8,
    "category": "Private Equity Fees",
    "formula": "r_{GP} = \\max[0, p(r - r_{h})]",
    "description": "GP's rate of return ignoring management fees, single-period",
    "description_ru": "Доходность генерального партнёра без учёта комиссии за управление, однопериодная",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Calculate (r - hurdle), multiply by performance fee %, take max with 0",
    "variables": [
      {
        "symbol": "r_{GP}",
        "name": "GP Rate of Return",
        "description": "General Partner's rate of return / Доходность генерального партнёра"
      },
      {
        "symbol": "p",
        "name": "Performance Fee",
        "description": "GP performance fee as percentage (e.g., 20%) / Комиссия за результат в %"
      },
      {
        "symbol": "r",
        "name": "Fund Return",
        "description": "Single-period fund rate of return / Однопериодная доходность фонда"
      },
      {
        "symbol": "r_h",
        "name": "Hurdle Rate",
        "description": "Minimum return before GP earns performance fee / Минимальная доходность до комиссии GP"
      }
    ],
    "example": "Given: p=20%, r=15%, r_h=8%: r_GP = max[0, 0.20×(0.15-0.08)] = 1.4%"
  },
  {
    "id": "ALT-GP-002",
    "name_en": "GP's Rate of Return (With Catch-Up)",
    "name_ru": "Доходность GP (с catch-up)",
    "book_id": 8,
    "category": "Private Equity Fees",
    "formula": "r_{GP} = \\max[0, r_{cu} + p(r - r_{h} - r_{cu})]",
    "description": "GP's rate of return with catch-up clause",
    "description_ru": "Доходность генерального партнёра с оговоркой о догоняющем возврате",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Catch-up allows GP to receive larger share up to certain point",
    "variables": [
      {
        "symbol": "r_{GP}",
        "name": "GP Rate of Return",
        "description": "General Partner's rate of return / Доходность GP"
      },
      {
        "symbol": "r_{cu}",
        "name": "Catch-up Return",
        "description": "Catch-up return allocation / Догоняющий возврат"
      },
      {
        "symbol": "p",
        "name": "Performance Fee",
        "description": "Performance fee percentage / Комиссия за результат"
      },
      {
        "symbol": "r",
        "name": "Fund Return",
        "description": "Fund return / Доходность фонда"
      },
      {
        "symbol": "r_h",
        "name": "Hurdle Rate",
        "description": "Hurdle rate / Минимальная доходность"
      }
    ],
    "example": "Given: r_cu=2%, p=20%, r=15%, r_h=8%: r_GP = max[0, 0.02 + 0.20×(0.15-0.08-0.02)] = 3%"
  },
  {
    "id": "ALT-MOIC-001",
    "name_en": "Multiple on Invested Capital (MOIC)",
    "name_ru": "Мультипликатор инвестированного капитала (MOIC)",
    "book_id": 8,
    "category": "Performance Metrics",
    "formula": "MOIC = \\frac{\\text{Realized value} + \\text{Unrealized value}}{\\text{Total invested capital}}",
    "description": "Total value created relative to capital invested",
    "description_ru": "Общая созданная стоимость относительно инвестированного капитала",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Sum of realized and unrealized value divided by invested capital",
    "variables": [
      {
        "symbol": "MOIC",
        "name": "Multiple on Invested Capital",
        "description": "Value multiple / Мультипликатор стоимости"
      },
      {
        "symbol": "Realized value",
        "name": "Realized Value",
        "description": "Cash distributions received / Полученные денежные распределения"
      },
      {
        "symbol": "Unrealized value",
        "name": "Unrealized Value",
        "description": "Current value of remaining investments / Текущая стоимость оставшихся инвестиций"
      },
      {
        "symbol": "Total invested capital",
        "name": "Total Invested Capital",
        "description": "Capital contributed / Внесённый капитал"
      }
    ],
    "example": "Given: Realized=$50M, Unrealized=$80M, Invested=$100M: MOIC = (50+80)/100 = 1.3x"
  },
  {
    "id": "ALT-LEV-001",
    "name_en": "Leveraged Rate of Return",
    "name_ru": "Доходность с использованием левериджа",
    "book_id": 8,
    "category": "Leverage",
    "formula": "r_{L} = r + \\frac{V_{b}}{V_{c}}(r - r_{b})",
    "description": "Return on leveraged portfolio",
    "description_ru": "Доходность портфеля с использованием заёмных средств",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Portfolio return plus leverage effect (if r > borrowing rate)",
    "variables": [
      {
        "symbol": "r_L",
        "name": "Leveraged Return",
        "description": "Leveraged rate of return / Доходность с левериджем"
      },
      {
        "symbol": "r",
        "name": "Portfolio Return",
        "description": "Unleveraged portfolio return / Доходность без левериджа"
      },
      {
        "symbol": "V_b",
        "name": "Borrowed Funds",
        "description": "Value of borrowed funds / Сумма заёмных средств"
      },
      {
        "symbol": "V_c",
        "name": "Cash Investment",
        "description": "Investor's own capital / Собственный капитал инвестора"
      },
      {
        "symbol": "r_b",
        "name": "Borrowing Rate",
        "description": "Cost of borrowed funds / Стоимость заёмных средств"
      }
    ],
    "example": "Given: r=10%, V_b=$50K, V_c=$50K, r_b=4%: r_L = 10% + (50/50)×(10%-4%) = 16%"
  },
  {
    "id": "ALT-GP-003",
    "name_en": "GP's Return in Currency Terms",
    "name_ru": "Доходность GP в денежном выражении",
    "book_id": 8,
    "category": "Private Equity Fees",
    "formula": "R_{GP} = (P_{1} \\times r_{m}) + \\max[0, (P_{1} - P_{0}) \\times p]",
    "description": "GP's dollar return from management and performance fees",
    "description_ru": "Долларовая доходность GP от комиссий за управление и результат",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Management fee on ending assets + performance fee on gains",
    "variables": [
      {
        "symbol": "R_{GP}",
        "name": "GP Currency Return",
        "description": "GP's return in dollars / Доходность GP в долларах"
      },
      {
        "symbol": "P_1",
        "name": "End-of-Period Assets",
        "description": "Assets at period end / Активы на конец периода"
      },
      {
        "symbol": "P_0",
        "name": "Beginning Assets",
        "description": "Assets at period start / Активы на начало периода"
      },
      {
        "symbol": "r_m",
        "name": "Management Fee",
        "description": "Management fee percentage / Комиссия за управление в %"
      },
      {
        "symbol": "p",
        "name": "Performance Fee",
        "description": "Performance fee percentage / Комиссия за результат в %"
      }
    ],
    "example": "Given: P_1=$120M, P_0=$100M, r_m=2%, p=20%: R_GP = 120×0.02 + max[0,(120-100)×0.20] = $6.4M"
  },
  {
    "id": "ALT-INV-001",
    "name_en": "Investor's Periodic Rate of Return",
    "name_ru": "Периодическая доходность инвестора",
    "book_id": 8,
    "category": "Investor Returns",
    "formula": "r_{i} = \\frac{P_{1} - P_{0} - R_{GP}}{P_{0}}",
    "description": "Investor's return after GP fees",
    "description_ru": "Доходность инвестора после комиссий GP",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Net gain (after GP fees) divided by beginning assets",
    "variables": [
      {
        "symbol": "r_i",
        "name": "Investor Return",
        "description": "Investor's rate of return / Доходность инвестора"
      },
      {
        "symbol": "P_1",
        "name": "End-of-Period Assets",
        "description": "Assets at period end / Активы на конец периода"
      },
      {
        "symbol": "P_0",
        "name": "Beginning Assets",
        "description": "Assets at period start / Активы на начало периода"
      },
      {
        "symbol": "R_{GP}",
        "name": "GP Return",
        "description": "GP's return in currency terms / Доходность GP в денежном выражении"
      }
    ],
    "example": "Given: P_1=$120M, P_0=$100M, R_GP=$6.4M: r_i = (120-100-6.4)/100 = 13.6%"
  },
  {
    "id": "ALT-GP-004",
    "name_en": "GP's Return (Performance Net of Management Fee)",
    "name_ru": "Доходность GP (перформанс за вычетом комиссии за управление)",
    "book_id": 8,
    "category": "Private Equity Fees",
    "formula": "R_{GP} = (P_{1} \\times r_{m}) + \\max[0, (P_{1}(1-r_{m}) - P_{0}) \\times p]",
    "description": "GP's return where performance fee is calculated net of management fee",
    "description_ru": "Доходность GP, где комиссия за результат рассчитывается за вычетом комиссии за управление",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Performance fee based on assets after deducting management fee",
    "variables": [
      {
        "symbol": "R_{GP}",
        "name": "GP Currency Return",
        "description": "GP's return in dollars / Доходность GP в долларах"
      },
      {
        "symbol": "P_1",
        "name": "End-of-Period Assets",
        "description": "Gross assets at period end / Валовые активы на конец периода"
      },
      {
        "symbol": "P_0",
        "name": "Beginning Assets",
        "description": "Assets at period start / Активы на начало периода"
      },
      {
        "symbol": "r_m",
        "name": "Management Fee",
        "description": "Management fee percentage / Комиссия за управление"
      },
      {
        "symbol": "p",
        "name": "Performance Fee",
        "description": "Performance fee percentage / Комиссия за результат"
      }
    ],
    "example": "Given: P_1=$120M, P_0=$100M, r_m=2%, p=20%: R_GP = 120×0.02 + max[0,(120×0.98-100)×0.20] = $5.92M"
  },
  {
    "id": "PM-UTIL-001",
    "name_en": "Utility of Investment",
    "name_ru": "Полезность инвестиции",
    "book_id": 4,
    "category": "Utility Theory",
    "formula": "U_{p} = E(R_{p}) - \\lambda \\sigma_{p}^{2}",
    "description": "Investor's utility based on expected return and risk aversion",
    "description_ru": "Полезность инвестора на основе ожидаемой доходности и неприятия риска",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Expected return minus (risk aversion × variance)",
    "variables": [
      {
        "symbol": "U_p",
        "name": "Utility",
        "description": "Utility of the portfolio / Полезность портфеля"
      },
      {
        "symbol": "E(R_p)",
        "name": "Expected Return",
        "description": "Expected return of portfolio / Ожидаемая доходность портфеля"
      },
      {
        "symbol": "λ",
        "name": "Risk Aversion",
        "description": "Investor's risk aversion coefficient / Коэффициент неприятия риска"
      },
      {
        "symbol": "σ_p^2",
        "name": "Variance",
        "description": "Variance of portfolio returns / Дисперсия доходности портфеля"
      }
    ],
    "example": "Given: E(R)=12%, λ=2, σ²=0.04: U = 0.12 - 2×0.04 = 0.04 = 4%"
  },
  {
    "id": "PM-PORT-001",
    "name_en": "Expected Return (Risky + Risk-Free)",
    "name_ru": "Ожидаемая доходность (рисковый + безрисковый)",
    "book_id": 4,
    "category": "Two-Asset Portfolio",
    "formula": "E(R_{p}) = w_{1}R_{f} + (1-w_{1})E(R_{i})",
    "description": "Expected return of portfolio with one risk-free and one risky asset",
    "description_ru": "Ожидаемая доходность портфеля с одним безрисковым и одним рисковым активом",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Weighted average of risk-free and risky returns",
    "variables": [
      {
        "symbol": "E(R_p)",
        "name": "Portfolio Return",
        "description": "Expected portfolio return / Ожидаемая доходность портфеля"
      },
      {
        "symbol": "w_1",
        "name": "Weight in Risk-Free",
        "description": "Weight in risk-free asset / Доля в безрисковом активе"
      },
      {
        "symbol": "R_f",
        "name": "Risk-Free Rate",
        "description": "Risk-free return / Безрисковая доходность"
      },
      {
        "symbol": "E(R_i)",
        "name": "Risky Asset Return",
        "description": "Expected return of risky asset / Ожидаемая доходность рискового актива"
      }
    ],
    "example": "Given: w_1=40%, R_f=3%, E(R_i)=10%: E(R_p) = 0.4×3% + 0.6×10% = 7.2%"
  },
  {
    "id": "PM-PORT-002",
    "name_en": "Variance (Risky + Risk-Free Portfolio)",
    "name_ru": "Дисперсия (рисковый + безрисковый портфель)",
    "book_id": 4,
    "category": "Two-Asset Portfolio",
    "formula": "\\sigma_{p}^{2} = (1-w_{1})^{2}\\sigma_{i}^{2}",
    "description": "Portfolio variance when one asset is risk-free",
    "description_ru": "Дисперсия портфеля, когда один актив безрисковый",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Only risky asset contributes to variance",
    "variables": [
      {
        "symbol": "σ_p^2",
        "name": "Portfolio Variance",
        "description": "Variance of portfolio / Дисперсия портфеля"
      },
      {
        "symbol": "1-w_1",
        "name": "Weight in Risky Asset",
        "description": "Weight in risky asset / Доля в рисковом активе"
      },
      {
        "symbol": "σ_i^2",
        "name": "Risky Asset Variance",
        "description": "Variance of risky asset / Дисперсия рискового актива"
      }
    ],
    "example": "Given: w_risky=60%, σ_i²=0.09: σ_p² = 0.6² × 0.09 = 0.0324"
  },
  {
    "id": "PM-PORT-003",
    "name_en": "Expected Return (Two Risky Assets)",
    "name_ru": "Ожидаемая доходность (два рисковых актива)",
    "book_id": 4,
    "category": "Two-Asset Portfolio",
    "formula": "E(R_{p}) = w_{1}R_{1} + (1-w_{1})R_{2}",
    "description": "Expected return of portfolio with two risky assets",
    "description_ru": "Ожидаемая доходность портфеля с двумя рисковыми активами",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Weighted average of two asset returns",
    "variables": [
      {
        "symbol": "E(R_p)",
        "name": "Portfolio Return",
        "description": "Expected portfolio return / Ожидаемая доходность портфеля"
      },
      {
        "symbol": "w_1",
        "name": "Weight Asset 1",
        "description": "Weight in asset 1 / Доля в активе 1"
      },
      {
        "symbol": "R_1, R_2",
        "name": "Asset Returns",
        "description": "Expected returns of assets / Ожидаемые доходности активов"
      }
    ],
    "example": "Given: w_1=50%, R_1=8%, R_2=12%: E(R_p) = 0.5×8% + 0.5×12% = 10%"
  },
  {
    "id": "PM-PORT-004",
    "name_en": "Variance (Two Risky Assets)",
    "name_ru": "Дисперсия (два рисковых актива)",
    "book_id": 4,
    "category": "Two-Asset Portfolio",
    "formula": "\\sigma_{p}^{2} = w_{1}^{2}\\sigma_{1}^{2} + w_{2}^{2}\\sigma_{2}^{2} + 2w_{1}w_{2}\\rho_{12}\\sigma_{1}\\sigma_{2}",
    "description": "Portfolio variance with two risky assets using correlation",
    "description_ru": "Дисперсия портфеля с двумя рисковыми активами через корреляцию",
    "calculator_category": "complex",
    "calculator_template": null,
    "calculator_note": "Sum of weighted variances plus covariance term",
    "variables": [
      {
        "symbol": "σ_p^2",
        "name": "Portfolio Variance",
        "description": "Variance of portfolio / Дисперсия портфеля"
      },
      {
        "symbol": "w_1, w_2",
        "name": "Weights",
        "description": "Portfolio weights / Веса в портфеле"
      },
      {
        "symbol": "σ_1, σ_2",
        "name": "Standard Deviations",
        "description": "Asset standard deviations / Стандартные отклонения активов"
      },
      {
        "symbol": "ρ_12",
        "name": "Correlation",
        "description": "Correlation between assets / Корреляция между активами"
      }
    ],
    "example": "Given: w_1=w_2=50%, σ_1=σ_2=20%, ρ=0.3: σ_p² = 0.25×0.04 + 0.25×0.04 + 2×0.25×0.3×0.04 = 0.026"
  },
  {
    "id": "PM-PORT-005",
    "name_en": "Covariance from Correlation",
    "name_ru": "Ковариация через корреляцию",
    "book_id": 4,
    "category": "Two-Asset Portfolio",
    "formula": "Cov(R_{1}, R_{2}) = \\rho_{12}\\sigma_{1}\\sigma_{2}",
    "description": "Covariance calculated from correlation and standard deviations",
    "description_ru": "Ковариация, рассчитанная через корреляцию и стандартные отклонения",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Correlation × σ_1 × σ_2",
    "variables": [
      {
        "symbol": "Cov(R_1, R_2)",
        "name": "Covariance",
        "description": "Covariance of returns / Ковариация доходностей"
      },
      {
        "symbol": "ρ_12",
        "name": "Correlation",
        "description": "Correlation coefficient / Коэффициент корреляции"
      },
      {
        "symbol": "σ_1, σ_2",
        "name": "Standard Deviations",
        "description": "Standard deviations / Стандартные отклонения"
      }
    ],
    "example": "Given: ρ=0.5, σ_1=15%, σ_2=20%: Cov = 0.5 × 0.15 × 0.20 = 0.015"
  },
  {
    "id": "PM-PORT-006",
    "name_en": "Variance (Many Assets, Equal Weight)",
    "name_ru": "Дисперсия (много активов, равные веса)",
    "book_id": 4,
    "category": "Multi-Asset Portfolio",
    "formula": "\\sigma_{p}^{2} = \\frac{\\bar{\\sigma}^{2}}{N} + \\frac{N-1}{N}\\overline{Cov}",
    "description": "Portfolio variance with N equally-weighted assets",
    "description_ru": "Дисперсия портфеля с N активами с равными весами",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Average variance/N + average covariance × (N-1)/N",
    "variables": [
      {
        "symbol": "σ_p^2",
        "name": "Portfolio Variance",
        "description": "Portfolio variance / Дисперсия портфеля"
      },
      {
        "symbol": "N",
        "name": "Number of Assets",
        "description": "Number of assets / Количество активов"
      },
      {
        "symbol": "σ̄²",
        "name": "Average Variance",
        "description": "Average variance of assets / Средняя дисперсия активов"
      },
      {
        "symbol": "C̄ov",
        "name": "Average Covariance",
        "description": "Average covariance / Средняя ковариация"
      }
    ],
    "example": "Given: N=25, σ̄²=0.04, C̄ov=0.01: σ_p² = 0.04/25 + (24/25)×0.01 = 0.0112"
  },
  {
    "id": "PM-CAL-001",
    "name_en": "Capital Allocation Line (CAL)",
    "name_ru": "Линия распределения капитала (CAL)",
    "book_id": 4,
    "category": "Capital Allocation",
    "formula": "E(R_{p}) = R_{f} + \\frac{E(R_{i}) - R_{f}}{\\sigma_{i}} \\sigma_{p}",
    "description": "Equation of the Capital Allocation Line",
    "description_ru": "Уравнение линии распределения капитала",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Intercept = R_f, Slope = Sharpe Ratio of risky asset",
    "variables": [
      {
        "symbol": "E(R_p)",
        "name": "Portfolio Return",
        "description": "Expected portfolio return / Ожидаемая доходность портфеля"
      },
      {
        "symbol": "R_f",
        "name": "Risk-Free Rate",
        "description": "Risk-free rate (intercept) / Безрисковая ставка (отсечение)"
      },
      {
        "symbol": "E(R_i)",
        "name": "Risky Asset Return",
        "description": "Expected return of risky asset / Ожидаемая доходность рискового актива"
      },
      {
        "symbol": "σ_i",
        "name": "Risky Asset Std Dev",
        "description": "Standard deviation of risky asset / Стд. отклонение рискового актива"
      },
      {
        "symbol": "σ_p",
        "name": "Portfolio Std Dev",
        "description": "Portfolio standard deviation / Стд. отклонение портфеля"
      }
    ],
    "example": "Given: R_f=3%, E(R_i)=10%, σ_i=15%, σ_p=10%: E(R_p) = 3% + (7%/15%)×10% = 7.67%"
  },
  {
    "id": "PM-CML-001",
    "name_en": "Capital Market Line (CML)",
    "name_ru": "Линия рынка капитала (CML)",
    "book_id": 4,
    "category": "Capital Market Theory",
    "formula": "E(R_{p}) = R_{f} + \\frac{E(R_{m}) - R_{f}}{\\sigma_{m}} \\sigma_{p}",
    "description": "Equation of the Capital Market Line using market portfolio",
    "description_ru": "Уравнение линии рынка капитала с использованием рыночного портфеля",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Same as CAL but with market portfolio",
    "variables": [
      {
        "symbol": "E(R_p)",
        "name": "Portfolio Return",
        "description": "Expected portfolio return / Ожидаемая доходность портфеля"
      },
      {
        "symbol": "R_f",
        "name": "Risk-Free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "E(R_m)",
        "name": "Market Return",
        "description": "Expected market return / Ожидаемая рыночная доходность"
      },
      {
        "symbol": "σ_m",
        "name": "Market Std Dev",
        "description": "Market standard deviation / Стд. отклонение рынка"
      },
      {
        "symbol": "σ_p",
        "name": "Portfolio Std Dev",
        "description": "Portfolio standard deviation / Стд. отклонение портфеля"
      }
    ],
    "example": "Given: R_f=3%, E(R_m)=9%, σ_m=18%, σ_p=12%: E(R_p) = 3% + (6%/18%)×12% = 7%"
  },
  {
    "id": "PM-BETA-001",
    "name_en": "Beta of an Asset",
    "name_ru": "Бета актива",
    "book_id": 4,
    "category": "CAPM",
    "formula": "\\beta_{i} = \\frac{Cov(R_{i}, R_{m})}{\\sigma_{m}^{2}} = \\frac{\\rho_{i,m}\\sigma_{i}}{\\sigma_{m}}",
    "description": "Beta measures systematic risk relative to market",
    "description_ru": "Бета измеряет систематический риск относительно рынка",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Covariance with market / Market variance, or correlation × (σ_i / σ_m)",
    "variables": [
      {
        "symbol": "β_i",
        "name": "Beta",
        "description": "Asset beta coefficient / Коэффициент бета актива"
      },
      {
        "symbol": "Cov(R_i, R_m)",
        "name": "Covariance",
        "description": "Covariance with market / Ковариация с рынком"
      },
      {
        "symbol": "σ_m^2",
        "name": "Market Variance",
        "description": "Variance of market returns / Дисперсия рыночной доходности"
      },
      {
        "symbol": "ρ_{i,m}",
        "name": "Correlation",
        "description": "Correlation with market / Корреляция с рынком"
      },
      {
        "symbol": "σ_i, σ_m",
        "name": "Standard Deviations",
        "description": "Asset and market std devs / Стд. отклонения актива и рынка"
      }
    ],
    "example": "Given: Cov=0.027, σ_m²=0.03: β = 0.027/0.03 = 0.9"
  },
  {
    "id": "PM-CAPM-001",
    "name_en": "Capital Asset Pricing Model (CAPM)",
    "name_ru": "Модель оценки капитальных активов (CAPM)",
    "book_id": 4,
    "category": "CAPM",
    "formula": "E(R_{i}) = R_{f} + \\beta_{i}[E(R_{m}) - R_{f}]",
    "description": "Expected return based on systematic risk (beta)",
    "description_ru": "Ожидаемая доходность на основе систематического риска (бета)",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Risk-free + Beta × Market Risk Premium",
    "variables": [
      {
        "symbol": "E(R_i)",
        "name": "Expected Return",
        "description": "Expected return on asset / Ожидаемая доходность актива"
      },
      {
        "symbol": "R_f",
        "name": "Risk-Free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "β_i",
        "name": "Beta",
        "description": "Asset beta / Бета актива"
      },
      {
        "symbol": "E(R_m)",
        "name": "Market Return",
        "description": "Expected market return / Ожидаемая рыночная доходность"
      },
      {
        "symbol": "E(R_m) - R_f",
        "name": "Market Risk Premium",
        "description": "Market risk premium / Премия за рыночный риск"
      }
    ],
    "example": "Given: R_f=3%, β=1.2, E(R_m)=9%: E(R_i) = 3% + 1.2×(9%-3%) = 10.2%"
  },
  {
    "id": "PM-SHARPE-001",
    "name_en": "Sharpe Ratio",
    "name_ru": "Коэффициент Шарпа",
    "book_id": 4,
    "category": "Performance Measures",
    "formula": "SR = \\frac{E(R_{p}) - R_{f}}{\\sigma_{p}}",
    "description": "Risk-adjusted return per unit of total risk",
    "description_ru": "Доходность с поправкой на риск на единицу общего риска",
    "calculator_category": "none",
    "calculator_template": null,
    "calculator_note": "Excess return / Standard deviation",
    "variables": [
      {
        "symbol": "SR",
        "name": "Sharpe Ratio",
        "description": "Sharpe ratio / Коэффициент Шарпа"
      },
      {
        "symbol": "E(R_p)",
        "name": "Portfolio Return",
        "description": "Expected portfolio return / Ожидаемая доходность портфеля"
      },
      {
        "symbol": "R_f",
        "name": "Risk-Free Rate",
        "description": "Risk-free rate / Безрисковая ставка"
      },
      {
        "symbol": "σ_p",
        "name": "Portfolio Std Dev",
        "description": "Portfolio standard deviation / Стд. отклонение портфеля"
      }
    ],
    "example": "Given: E(R_p)=12%, R_f=3%, σ_p=18%: SR = (12%-3%)/18% = 0.50"
  }
  ]
}